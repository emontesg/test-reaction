[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar LocalCollection = Package.minimongo.LocalCollection;\nvar Minimongo = Package.minimongo.Minimongo;\nvar Template = Package['templating-runtime'].Template;\nvar Mongo = Package.mongo.Mongo;\nvar Blaze = Package.blaze.Blaze;\nvar UI = Package.blaze.UI;\nvar Handlebars = Package.blaze.Handlebars;\nvar Spacebars = Package.spacebars.Spacebars;\nvar HTML = Package.htmljs.HTML;\n\n/* Package-scope variables */\nvar flashMessages, FlashMessages, sendMessage;\n\n(function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                             //\n// packages/mrt_flash-messages/packages/mrt_flash-messages.js                                                  //\n//                                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                               //\n(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// packages/mrt:flash-messages/messages.js                                                               //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\n/**                                                                                                      // 1\n * flashMessages                                                                                         // 2\n * { message: String,                                                                                    // 3\n *   style: String,                                                                                      // 4\n *   seen: Boolean }                                                                                     // 5\n */                                                                                                      // 6\nflashMessages = new Mongo.Collection(null);                                                              // 7\n                                                                                                         // 8\nFlashMessages = {                                                                                        // 9\n  // Deprecated, use sendWarning instead. sendWarning is more consistent with Boostrap classes.          // 10\n  sendAlert: function(message, options) {                                                                // 11\n    sendMessage(message, '', options);                                                                   // 12\n    console.log('Deprecated, use sendWarning instead of sendAlert');                                     // 13\n  },                                                                                                     // 14\n  sendWarning: function(message, options) {                                                              // 15\n    sendMessage(message, 'alert-warning', options);                                                      // 16\n  },                                                                                                     // 17\n  sendError: function(message, options) {                                                                // 18\n    sendMessage(message, 'alert-error alert-danger', options);                                           // 19\n  },                                                                                                     // 20\n  sendSuccess: function(message, options) {                                                              // 21\n    sendMessage(message, 'alert-success', options);                                                      // 22\n  },                                                                                                     // 23\n  sendInfo: function(message, options) {                                                                 // 24\n    sendMessage(message, 'alert-info', options);                                                         // 25\n  },                                                                                                     // 26\n  clear: function() {                                                                                    // 27\n    flashMessages.remove({seen: true});                                                                  // 28\n  },                                                                                                     // 29\n  configure: function(options) {                                                                         // 30\n    this.options = this.options || {};                                                                   // 31\n    _.extend(this.options, options);                                                                     // 32\n  },                                                                                                     // 33\n  options: {                                                                                             // 34\n    autoHide: true,                                                                                      // 35\n    hideDelay: 5000,                                                                                     // 36\n    autoScroll: true                                                                                     // 37\n  }                                                                                                      // 38\n}                                                                                                        // 39\n                                                                                                         // 40\nsendMessage = function(message, style, options) {                                                        // 41\n  options = options || {};                                                                               // 42\n  options.autoHide = options.autoHide === undefined ? FlashMessages.options.autoHide : options.autoHide; // 43\n  options.hideDelay = options.hideDelay || FlashMessages.options.hideDelay;                              // 44\n  flashMessages.insert({ message: message, style: style, seen: false, options: options});                // 45\n}                                                                                                        // 46\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// packages/mrt:flash-messages/template.messages_list.js                                                 //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\n                                                                                                         // 1\nTemplate.__checkName(\"flashMessages\");                                                                   // 2\nTemplate[\"flashMessages\"] = new Template(\"Template.flashMessages\", (function() {                         // 3\n  var view = this;                                                                                       // 4\n  return Blaze.Each(function() {                                                                         // 5\n    return Spacebars.call(view.lookup(\"messages\"));                                                      // 6\n  }, function() {                                                                                        // 7\n    return [ \" \\n    \", Spacebars.include(view.lookupTemplate(\"flashMessageItem\")), \"\\n  \" ];            // 8\n  });                                                                                                    // 9\n}));                                                                                                     // 10\n                                                                                                         // 11\nTemplate.__checkName(\"flashMessageItem\");                                                                // 12\nTemplate[\"flashMessageItem\"] = new Template(\"Template.flashMessageItem\", (function() {                   // 13\n  var view = this;                                                                                       // 14\n  return HTML.DIV({                                                                                      // 15\n    \"class\": function() {                                                                                // 16\n      return [ \"alert \", Spacebars.mustache(view.lookup(\"style\")), \" alert-dismissable\" ];               // 17\n    },                                                                                                   // 18\n    role: \"alert\"                                                                                        // 19\n  }, HTML.Raw('\\n    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">&times;</button>\\n    '), Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"group\"));                                                         // 21\n  }, function() {                                                                                        // 22\n    return [ \"\\n      \", HTML.UL(\"\\n        \", Blaze.Each(function() {                                   // 23\n      return Spacebars.call(view.lookup(\"message\"));                                                     // 24\n    }, function() {                                                                                      // 25\n      return [ \"\\n          \", HTML.LI(Blaze.View(\"lookup:.\", function() {                               // 26\n        return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\".\")));                                  // 27\n      })), \"\\n        \" ];                                                                               // 28\n    }), \"\\n      \"), \"\\n    \" ];                                                                         // 29\n  }, function() {                                                                                        // 30\n    return [ \"\\n      \", Blaze.View(\"lookup:message\", function() {                                       // 31\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"message\")));                              // 32\n    }), \"\\n    \" ];                                                                                      // 33\n  }), \"\\n  \");                                                                                           // 34\n}));                                                                                                     // 35\n                                                                                                         // 36\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// packages/mrt:flash-messages/messages_list.js                                                          //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nTemplate.flashMessages.helpers({                                                                         // 1\n  messages: function () {                                                                                // 2\n    if (flashMessages.find().count() && FlashMessages.options.autoScroll)                                // 3\n      $('html, body').animate({                                                                          // 4\n        scrollTop: 0                                                                                     // 5\n      }, 200);                                                                                           // 6\n    var messages = flashMessages.find().fetch();                                                         // 7\n    $.each(messages, function(index, value) {                                                            // 8\n      value.group = value.message instanceof Array;                                                      // 9\n    });                                                                                                  // 10\n    return messages;                                                                                     // 11\n  }                                                                                                      // 12\n});                                                                                                      // 13\n                                                                                                         // 14\nTemplate.flashMessageItem.rendered = function () {                                                       // 15\n  var message = this.data;                                                                               // 16\n  Meteor.defer(function() {                                                                              // 17\n    flashMessages.update(message._id, {$set: {seen: true}});                                             // 18\n  });                                                                                                    // 19\n  if (message.options && message.options.autoHide) {                                                     // 20\n    var $alert = $(this.find('.alert'));                                                                 // 21\n    Meteor.setTimeout(function() {                                                                       // 22\n        $alert.fadeOut(400, function() {                                                                 // 23\n          flashMessages.remove({_id: message._id});                                                      // 24\n        });                                                                                              // 25\n      },                                                                                                 // 26\n      message.options.hideDelay);                                                                        // 27\n  }                                                                                                      // 28\n};                                                                                                       // 29\n                                                                                                         // 30\nTemplate.flashMessageItem.events({                                                                       // 31\n  \"click .close\": function (e, tmpl) {                                                                   // 32\n    e.preventDefault();                                                                                  // 33\n    flashMessages.remove(tmpl.data._id);                                                                 // 34\n  }                                                                                                      // 35\n});                                                                                                      // 36\n                                                                                                         // 37\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nPackage._define(\"mrt:flash-messages\", {\n  FlashMessages: FlashMessages,\n  flashMessages: flashMessages\n});\n\n})();\n","servePath":"/packages/mrt_flash-messages.js"}]