{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/included/social/client/components/facebook.js","filename":"imports/plugins/included/social/client/components/facebook.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/included/social/client/components/facebook.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/included/social/client/components/facebook.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/included/social/client/components/facebook.js"}},"code":"var _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  getOpenGraphMeta: function () {\n    return getOpenGraphMeta;\n  }\n});\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Helmet;\nmodule.watch(require(\"react-helmet\"), {\n  \"default\": function (v) {\n    Helmet = v;\n  }\n}, 2);\nvar classnames;\nmodule.watch(require(\"classnames\"), {\n  \"default\": function (v) {\n    classnames = v;\n  }\n}, 3);\nvar $;\nmodule.watch(require(\"meteor/jquery\"), {\n  $: function (v) {\n    $ = v;\n  }\n}, 4);\nvar Components;\nmodule.watch(require(\"../../../../core/components/lib\"), {\n  Components: function (v) {\n    Components = v;\n  }\n}, 5);\n\nfunction getOpenGraphMeta(props) {\n  var url = props.url || location.origin + location.pathname;\n  var title = props.title || document.title;\n  var description = props.settings.description;\n  var meta = [{\n    property: \"og:type\",\n    content: \"article\"\n  }, {\n    property: \"og:site_name\",\n    content: location.hostname\n  }, {\n    property: \"og:url\",\n    content: url\n  }, {\n    property: \"og:title\",\n    content: title\n  }, {\n    property: \"og:description\",\n    content: description\n  }];\n\n  if (props.media) {\n    var media;\n\n    if (!/^http(s?):\\/\\/+/.test(data.media)) {\n      media = location.origin + data.media;\n    }\n\n    meta.push({\n      property: \"og:image\",\n      content: media\n    });\n  }\n\n  return meta;\n}\n\nvar FacebookSocialButton =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(FacebookSocialButton, _Component);\n\n  function FacebookSocialButton() {\n    var _temp, _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_temp = _this = _Component.call.apply(_Component, [this].concat(args)) || this, _this.handleClick = function (event) {\n      event.preventDefault();\n\n      if (window.FB) {\n        window.FB.ui({\n          method: \"share\",\n          display: \"popup\",\n          href: _this.props.url\n        });\n      }\n    }, _temp) || (0, _assertThisInitialized2.default)(_this);\n  }\n\n  var _proto = FacebookSocialButton.prototype;\n\n  _proto.componentDidMount = function () {\n    function componentDidMount() {\n      var _this2 = this;\n\n      /* eslint-disable wrap-iife */\n      if (window && document) {\n        $('<div id=\"fb-root\"></div>').appendTo(\"body\");\n\n        window.fbAsyncInit = function () {\n          return FB.init({\n            appId: _this2.props.settings.appId,\n            xfbml: true,\n            version: _this2.props.settings.version || \"v2.7\"\n          });\n        };\n\n        (function (d, s, id) {\n          var fjs = d.getElementsByTagName(s)[0];\n\n          if (d.getElementById(id)) {\n            return;\n          }\n\n          var js = d.createElement(s);\n          js.id = id;\n          js.src = \"//connect.facebook.net/en_US/sdk.js\";\n          fjs.parentNode.insertBefore(js, fjs);\n        })(document, \"script\", \"facebook-jssdk\");\n      }\n      /* eslint-enable wrap-iife */\n\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto.renderText = function () {\n    function renderText() {\n      if (this.props.showText) {\n        return React.createElement(Components.Translation, {\n          defaultValue: \"Share on Facebook\",\n          i18nKey: \"social.shareOnFacebook\"\n        });\n      }\n\n      return null;\n    }\n\n    return renderText;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _classnames;\n\n      var iconClassNames = classnames((_classnames = {\n        \"fa\": true,\n        \"fa-facebook\": this.props.altIcon !== true,\n        \"fa-facebook-alt\": this.props.altIcon\n      }, _classnames[this.props.size] = this.props.size, _classnames));\n      return React.createElement(Components.Button, {\n        className: \"btn btn-flat facebook-share\",\n        \"aria-label\": \"Share to Facebook\",\n        onClick: this.handleClick\n      }, React.createElement(Helmet, {\n        meta: getOpenGraphMeta(this.props)\n      }), React.createElement(\"i\", {\n        className: iconClassNames\n      }), this.renderText());\n    }\n\n    return render;\n  }();\n\n  return FacebookSocialButton;\n}(Component);\n\nFacebookSocialButton.propTypes = {\n  altIcon: PropTypes.string,\n  media: PropTypes.string,\n  settings: PropTypes.object,\n  showText: PropTypes.bool,\n  size: PropTypes.string,\n  url: PropTypes.string\n};\nmodule.exportDefault(FacebookSocialButton);","map":{"version":3,"sources":["imports/plugins/included/social/client/components/facebook.js"],"names":["module","export","getOpenGraphMeta","React","Component","watch","require","v","PropTypes","Helmet","classnames","$","Components","props","url","location","origin","pathname","title","document","description","settings","meta","property","content","hostname","media","test","data","push","FacebookSocialButton","handleClick","event","preventDefault","window","FB","ui","method","display","href","componentDidMount","appendTo","fbAsyncInit","init","appId","xfbml","version","d","s","id","fjs","getElementsByTagName","getElementById","js","createElement","src","parentNode","insertBefore","renderText","showText","render","iconClassNames","altIcon","size","propTypes","string","object","bool","exportDefault"],"mappings":";;;;;;AAAAA,OAAOC,MAAP,CAAc;AAACC,oBAAiB;AAAA,WAAIA,gBAAJ;AAAA;AAAlB,CAAd;AAAuD,IAAIC,KAAJ,EAAUC,SAAV;AAAoBJ,OAAOK,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,uBAASC,CAAT,EAAW;AAACJ,YAAMI,CAAN;AAAQ,GAApB;AAAqBH,WAArB,YAA+BG,CAA/B,EAAiC;AAACH,gBAAUG,CAAV;AAAY;AAA9C,CAA9B,EAA8E,CAA9E;AAAiF,IAAIC,SAAJ;AAAcR,OAAOK,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAACC,gBAAUD,CAAV;AAAY;AAAxB,CAAnC,EAA6D,CAA7D;AAAgE,IAAIE,MAAJ;AAAWT,OAAOK,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAAA,uBAASC,CAAT,EAAW;AAACE,aAAOF,CAAP;AAAS;AAArB,CAArC,EAA4D,CAA5D;AAA+D,IAAIG,UAAJ;AAAeV,OAAOK,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAACG,iBAAWH,CAAX;AAAa;AAAzB,CAAnC,EAA8D,CAA9D;AAAiE,IAAII,CAAJ;AAAMX,OAAOK,KAAP,CAAaC,QAAQ,eAAR,CAAb,EAAsC;AAACK,GAAD,YAAGJ,CAAH,EAAK;AAACI,QAAEJ,CAAF;AAAI;AAAV,CAAtC,EAAkD,CAAlD;AAAqD,IAAIK,UAAJ;AAAeZ,OAAOK,KAAP,CAAaC,QAAQ,iCAAR,CAAb,EAAwD;AAACM,YAAD,YAAYL,CAAZ,EAAc;AAACK,iBAAWL,CAAX;AAAa;AAA5B,CAAxD,EAAsF,CAAtF;;AAQvc,SAASL,gBAAT,CAA0BW,KAA1B,EAAiC;AACtC,MAAMC,MAAMD,MAAMC,GAAN,IAAaC,SAASC,MAAT,GAAkBD,SAASE,QAApD;AACA,MAAMC,QAAQL,MAAMK,KAAN,IAAeC,SAASD,KAAtC;AAFsC,MAG9BE,WAH8B,GAGdP,MAAMQ,QAHQ,CAG9BD,WAH8B;AAKtC,MAAME,OAAO,CACX;AAAEC,cAAU,SAAZ;AAAuBC,aAAS;AAAhC,GADW,EAEX;AAAED,cAAU,cAAZ;AAA4BC,aAAST,SAASU;AAA9C,GAFW,EAGX;AAAEF,cAAU,QAAZ;AAAsBC,aAASV;AAA/B,GAHW,EAIX;AAAES,cAAU,UAAZ;AAAwBC,aAASN;AAAjC,GAJW,EAKX;AAAEK,cAAU,gBAAZ;AAA8BC,aAASJ;AAAvC,GALW,CAAb;;AAQA,MAAIP,MAAMa,KAAV,EAAiB;AACf,QAAIA,KAAJ;;AACA,QAAI,CAAC,kBAAkBC,IAAlB,CAAuBC,KAAKF,KAA5B,CAAL,EAAyC;AACvCA,cAAQX,SAASC,MAAT,GAAkBY,KAAKF,KAA/B;AACD;;AAEDJ,SAAKO,IAAL,CAAU;AACRN,gBAAU,UADF;AAERC,eAASE;AAFD,KAAV;AAID;;AAED,SAAOJ,IAAP;AACD;;IAEKQ,oB;;;;;;;;;;;;kGAyBJC,W,GAAc,UAACC,KAAD,EAAW;AACvBA,YAAMC,cAAN;;AAEA,UAAIC,OAAOC,EAAX,EAAe;AACbD,eAAOC,EAAP,CAAUC,EAAV,CAAa;AACXC,kBAAQ,OADG;AAEXC,mBAAS,OAFE;AAGXC,gBAAM,MAAK1B,KAAL,CAAWC;AAHN,SAAb;AAKD;AACF,K;;;;;SAlCD0B,iB;iCAAoB;AAAA;;AAClB;AACA,UAAIN,UAAUf,QAAd,EAAwB;AACtBR,UAAE,0BAAF,EAA8B8B,QAA9B,CAAuC,MAAvC;;AAEAP,eAAOQ,WAAP,GAAqB;AAAA,iBAAMP,GAAGQ,IAAH,CAAQ;AACjCC,mBAAO,OAAK/B,KAAL,CAAWQ,QAAX,CAAoBuB,KADM;AAEjCC,mBAAO,IAF0B;AAGjCC,qBAAS,OAAKjC,KAAL,CAAWQ,QAAX,CAAoByB,OAApB,IAA+B;AAHP,WAAR,CAAN;AAAA,SAArB;;AAKA,SAAC,UAAUC,CAAV,EAAaC,CAAb,EAAgBC,EAAhB,EAAoB;AACnB,cAAMC,MAAMH,EAAEI,oBAAF,CAAuBH,CAAvB,EAA0B,CAA1B,CAAZ;;AACA,cAAID,EAAEK,cAAF,CAAiBH,EAAjB,CAAJ,EAA0B;AACxB;AACD;;AACD,cAAMI,KAAKN,EAAEO,aAAF,CAAgBN,CAAhB,CAAX;AACAK,aAAGJ,EAAH,GAAQA,EAAR;AACAI,aAAGE,GAAH,GAAS,qCAAT;AACAL,cAAIM,UAAJ,CAAeC,YAAf,CAA4BJ,EAA5B,EAAgCH,GAAhC;AACD,SATD,EASG/B,QATH,EASa,QATb,EASuB,gBATvB;AAUD;AACD;;AACD;;;;;SAcDuC,U;0BAAa;AACX,UAAI,KAAK7C,KAAL,CAAW8C,QAAf,EAAyB;AACvB,eACE,oBAAC,UAAD,CAAY,WAAZ;AAAwB,wBAAa,mBAArC;AAAyD,mBAAQ;AAAjE,UADF;AAGD;;AAED,aAAO,IAAP;AACD;;;;;SAEDC,M;sBAAS;AAAA;;AACP,UAAMC,iBAAiBnD;AACrB,cAAM,IADe;AAErB,uBAAe,KAAKG,KAAL,CAAWiD,OAAX,KAAuB,IAFjB;AAGrB,2BAAmB,KAAKjD,KAAL,CAAWiD;AAHT,qBAIpB,KAAKjD,KAAL,CAAWkD,IAJS,IAIF,KAAKlD,KAAL,CAAWkD,IAJT,eAAvB;AAOA,aACE,oBAAC,UAAD,CAAY,MAAZ;AACE,mBAAU,6BADZ;AAEE,sBAAW,mBAFb;AAGE,iBAAS,KAAKhC;AAHhB,SAKE,oBAAC,MAAD;AACE,cAAM7B,iBAAiB,KAAKW,KAAtB;AADR,QALF,EAQE;AAAG,mBAAWgD;AAAd,QARF,EASG,KAAKH,UAAL,EATH,CADF;AAaD;;;;;;EApEgCtD,S;;AAuEnC0B,qBAAqBkC,SAArB,GAAiC;AAC/BF,WAAStD,UAAUyD,MADY;AAE/BvC,SAAOlB,UAAUyD,MAFc;AAG/B5C,YAAUb,UAAU0D,MAHW;AAI/BP,YAAUnD,UAAU2D,IAJW;AAK/BJ,QAAMvD,UAAUyD,MALe;AAM/BnD,OAAKN,UAAUyD;AANgB,CAAjC;AA3GAjE,OAAOoE,aAAP,CAoHetC,oBApHf","sourcesContent":["/* global FB, data */\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Helmet from \"react-helmet\";\nimport classnames from \"classnames\";\nimport { $ } from \"meteor/jquery\";\nimport { Components } from \"@reactioncommerce/reaction-components\";\n\nexport function getOpenGraphMeta(props) {\n  const url = props.url || location.origin + location.pathname;\n  const title = props.title || document.title;\n  const { description } = props.settings;\n\n  const meta = [\n    { property: \"og:type\", content: \"article\" },\n    { property: \"og:site_name\", content: location.hostname },\n    { property: \"og:url\", content: url },\n    { property: \"og:title\", content: title },\n    { property: \"og:description\", content: description }\n  ];\n\n  if (props.media) {\n    let media;\n    if (!/^http(s?):\\/\\/+/.test(data.media)) {\n      media = location.origin + data.media;\n    }\n\n    meta.push({\n      property: \"og:image\",\n      content: media\n    });\n  }\n\n  return meta;\n}\n\nclass FacebookSocialButton extends Component {\n  componentDidMount() {\n    /* eslint-disable wrap-iife */\n    if (window && document) {\n      $('<div id=\"fb-root\"></div>').appendTo(\"body\");\n\n      window.fbAsyncInit = () => FB.init({\n        appId: this.props.settings.appId,\n        xfbml: true,\n        version: this.props.settings.version || \"v2.7\"\n      });\n      (function (d, s, id) {\n        const fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) {\n          return;\n        }\n        const js = d.createElement(s);\n        js.id = id;\n        js.src = \"//connect.facebook.net/en_US/sdk.js\";\n        fjs.parentNode.insertBefore(js, fjs);\n      })(document, \"script\", \"facebook-jssdk\");\n    }\n    /* eslint-enable wrap-iife */\n  }\n\n  handleClick = (event) => {\n    event.preventDefault();\n\n    if (window.FB) {\n      window.FB.ui({\n        method: \"share\",\n        display: \"popup\",\n        href: this.props.url\n      });\n    }\n  }\n\n  renderText() {\n    if (this.props.showText) {\n      return (\n        <Components.Translation defaultValue=\"Share on Facebook\" i18nKey=\"social.shareOnFacebook\" />\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const iconClassNames = classnames({\n      \"fa\": true,\n      \"fa-facebook\": this.props.altIcon !== true,\n      \"fa-facebook-alt\": this.props.altIcon,\n      [this.props.size]: this.props.size\n    });\n\n    return (\n      <Components.Button\n        className=\"btn btn-flat facebook-share\"\n        aria-label=\"Share to Facebook\"\n        onClick={this.handleClick}\n      >\n        <Helmet\n          meta={getOpenGraphMeta(this.props)}\n        />\n        <i className={iconClassNames} />\n        {this.renderText()}\n      </Components.Button>\n    );\n  }\n}\n\nFacebookSocialButton.propTypes = {\n  altIcon: PropTypes.string,\n  media: PropTypes.string,\n  settings: PropTypes.object,\n  showText: PropTypes.bool,\n  size: PropTypes.string,\n  url: PropTypes.string\n};\n\nexport default FacebookSocialButton;\n"]},"sourceType":"script","hash":"2c5baface17c6c9862d1f700234ac360d5c7b289"}
