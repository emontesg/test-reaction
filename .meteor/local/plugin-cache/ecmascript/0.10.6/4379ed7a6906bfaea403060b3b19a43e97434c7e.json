{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/accounts/client/components/addressBookReview.js","filename":"imports/plugins/core/accounts/client/components/addressBookReview.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/accounts/client/components/addressBookReview.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/accounts/client/components/addressBookReview.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/accounts/client/components/addressBookReview.js"}},"code":"var _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Components, registerComponent;\nmodule.watch(require(\"../../../components/lib\"), {\n  Components: function (v) {\n    Components = v;\n  },\n  registerComponent: function (v) {\n    registerComponent = v;\n  }\n}, 2);\n\nvar AddressBookReview =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(AddressBookReview, _Component);\n\n  function AddressBookReview() {\n    var _temp, _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_temp = _this = _Component.call.apply(_Component, [this].concat(args)) || this, _this.state = {\n      isEnteredSelected: false\n      /**\n       * @method handleSelection\n       * @summary either saves the suggested or entered address\n       * @since 2.0.0\n       */\n\n    }, _this.handleSelection = function (event) {\n      event.preventDefault();\n      var address = _this.props.validationResults.enteredAddress;\n\n      if (!_this.state.isEnteredSelected) {\n        address = _this.props.validationResults.suggestedAddress;\n      }\n\n      if (typeof _this.props.markCart === \"function\") {\n        _this.props.markCart(address, _this.state.isEnteredSelected);\n      }\n\n      if (typeof _this.props.add === \"function\") {\n        _this.props.add(address, false);\n      }\n    }, _this.handleEdit = function (event) {\n      event.preventDefault();\n\n      if (_this.props.switchMode) {\n        _this.props.switchMode(\"entry\", _this.props.validationResults.enteredAddress);\n      }\n    }, _this.selectEntered = function () {\n      _this.setState({\n        isEnteredSelected: true\n      });\n    }, _this.selectSuggested = function () {\n      _this.setState({\n        isEnteredSelected: false\n      });\n    }, _temp) || (0, _assertThisInitialized2.default)(_this);\n  }\n\n  var _proto = AddressBookReview.prototype;\n\n  /**\n   * @method renderField\n   * @summary renders a field in the address\n   * with error if present\n   * @since 2.0.0\n   * @return {Object} - JSX and child component.\n   */\n  _proto.renderField = function () {\n    function renderField(field, value, showError) {\n      var fieldErrors = this.props.validationResults.fieldErrors;\n\n      if (showError && fieldErrors && fieldErrors[field] && fieldErrors[field].length > 0) {\n        return React.createElement(\"div\", null, React.createElement(\"div\", {\n          className: \"error\"\n        }, value));\n      }\n\n      return React.createElement(\"div\", null, value);\n    }\n\n    return renderField;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _props$validationResu = this.props.validationResults,\n          enteredAddress = _props$validationResu.enteredAddress,\n          suggestedAddress = _props$validationResu.suggestedAddress;\n      var isEnteredSelected = this.state.isEnteredSelected;\n      return React.createElement(\"div\", {\n        className: \"address-review\"\n      }, React.createElement(\"div\", {\n        className: \"alert alert-warning\"\n      }, React.createElement(Components.Translation, {\n        defaultValue: \"The address you entered may be incorrect or incomplete.\\n              Please review our suggestions below, and choose which version you'd like to use. Errors are shown in red.\",\n        i18nKey: \"addressBookReview.warning\"\n      })), React.createElement(\"form\", null, React.createElement(\"div\", {\n        className: \"entered-address\"\n      }, React.createElement(\"div\", {\n        className: \"radio-heading\"\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"entered\",\n        name: \"chooseAddress\",\n        checked: isEnteredSelected,\n        onChange: this.selectEntered\n      }), React.createElement(Components.Translation, {\n        defaultValue: \"Entered Address\",\n        i18nKey: \"addressBookReview.enteredAddress\"\n      })), this.renderField(\"address1\", enteredAddress.address1, true), this.renderField(\"address2\", enteredAddress.address2, true), this.renderField(\"city\", enteredAddress.city, true), this.renderField(\"country\", enteredAddress.country, true), this.renderField(\"postal\", enteredAddress.postal, true), this.renderField(\"region\", enteredAddress.region, true)), React.createElement(\"div\", {\n        className: \"suggested-address\"\n      }, React.createElement(\"div\", {\n        className: \"radio-heading\"\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"suggested\",\n        name: \"chooseAddress\",\n        checked: !isEnteredSelected,\n        onChange: this.selectSuggested\n      }), React.createElement(Components.Translation, {\n        defaultValue: \"Suggested Address\",\n        i18nKey: \"addressBookReview.suggestedAddress\"\n      })), this.renderField(\"address1\", suggestedAddress.address1, false), this.renderField(\"address2\", suggestedAddress.address2, false), this.renderField(\"city\", suggestedAddress.city, false), this.renderField(\"country\", suggestedAddress.country, false), this.renderField(\"postal\", suggestedAddress.postal, false), this.renderField(\"region\", suggestedAddress.region, false)), React.createElement(\"div\", {\n        className: \"panel-buttons\"\n      }, React.createElement(Components.Button, {\n        status: \"primary\",\n        buttonType: \"submit\",\n        onClick: this.handleSelection,\n        bezelStyle: \"solid\",\n        i18nKeyLabel: \"addressBookReview.useSelectedAddress\",\n        label: \"Use selected address\",\n        id: \"reviewAddressSelectButton\"\n      }), React.createElement(\"div\", {\n        id: \"reviewAddressEditButton\",\n        role: \"button\",\n        onClick: this.handleEdit,\n        onKeyDown: this.handleEdit,\n        tabIndex: 0\n      }, React.createElement(Components.Translation, {\n        defaultValue: \"Edit entered address\",\n        i18nKey: \"addressBookReview.editAddress\"\n      })))));\n    }\n\n    return render;\n  }();\n\n  return AddressBookReview;\n}(Component);\n\nAddressBookReview.propTypes = {\n  // Add the address to database\n  add: PropTypes.func,\n  // Marks the address as bypassed.\n  markCart: PropTypes.func,\n  // Add address reducer calls meteor method\n  switchMode: PropTypes.func,\n  // array of address objects\n  validationResults: PropTypes.shape({\n    enteredAddress: PropTypes.shape({\n      _id: PropTypes.string,\n      fullName: PropTypes.string,\n      address1: PropTypes.string,\n      address2: PropTypes.string,\n      postal: PropTypes.string,\n      city: PropTypes.string,\n      region: PropTypes.string,\n      country: PropTypes.string,\n      phone: PropTypes.string,\n      isBillingDefault: PropTypes.bool,\n      isShippingDefault: PropTypes.bool,\n      isCommercal: PropTypes.bool\n    }),\n    suggestedAddress: PropTypes.shape({\n      _id: PropTypes.string,\n      fullName: PropTypes.string,\n      address1: PropTypes.string,\n      address2: PropTypes.string,\n      postal: PropTypes.string,\n      city: PropTypes.string,\n      region: PropTypes.string,\n      country: PropTypes.string,\n      phone: PropTypes.string,\n      isBillingDefault: PropTypes.bool,\n      isShippingDefault: PropTypes.bool,\n      isCommercal: PropTypes.bool\n    }),\n\n    /**\n     * map of all fields and\n     * errors in them.\n     */\n    fieldErrors: PropTypes.object\n  }) // Select the entered address by default.\n\n};\nregisterComponent(\"AddressBookReview\", AddressBookReview);\nmodule.exportDefault(AddressBookReview);","map":{"version":3,"sources":["imports/plugins/core/accounts/client/components/addressBookReview.js"],"names":["React","Component","module","watch","require","v","PropTypes","Components","registerComponent","AddressBookReview","state","isEnteredSelected","handleSelection","event","preventDefault","address","props","validationResults","enteredAddress","suggestedAddress","markCart","add","handleEdit","switchMode","selectEntered","setState","selectSuggested","renderField","field","value","showError","fieldErrors","length","render","address1","address2","city","country","postal","region","propTypes","func","shape","_id","string","fullName","phone","isBillingDefault","bool","isShippingDefault","isCommercal","object","exportDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Components, registerComponent } from \"@reactioncommerce/reaction-components\";\n\nclass AddressBookReview extends Component {\n  static propTypes = {\n    // Add the address to database\n    add: PropTypes.func,\n    // Marks the address as bypassed.\n    markCart: PropTypes.func,\n    // Add address reducer calls meteor method\n    switchMode: PropTypes.func,\n    // array of address objects\n    validationResults: PropTypes.shape({\n      enteredAddress: PropTypes.shape({\n        _id: PropTypes.string,\n        fullName: PropTypes.string,\n        address1: PropTypes.string,\n        address2: PropTypes.string,\n        postal: PropTypes.string,\n        city: PropTypes.string,\n        region: PropTypes.string,\n        country: PropTypes.string,\n        phone: PropTypes.string,\n        isBillingDefault: PropTypes.bool,\n        isShippingDefault: PropTypes.bool,\n        isCommercal: PropTypes.bool\n      }),\n      suggestedAddress: PropTypes.shape({\n        _id: PropTypes.string,\n        fullName: PropTypes.string,\n        address1: PropTypes.string,\n        address2: PropTypes.string,\n        postal: PropTypes.string,\n        city: PropTypes.string,\n        region: PropTypes.string,\n        country: PropTypes.string,\n        phone: PropTypes.string,\n        isBillingDefault: PropTypes.bool,\n        isShippingDefault: PropTypes.bool,\n        isCommercal: PropTypes.bool\n      }),\n      /**\n       * map of all fields and\n       * errors in them.\n       */\n      fieldErrors: PropTypes.object\n    })\n  }\n\n  // Select the entered address by default.\n  state = {\n    isEnteredSelected: false\n  }\n\n  /**\n   * @method handleSelection\n   * @summary either saves the suggested or entered address\n   * @since 2.0.0\n   */\n  handleSelection = (event) => {\n    event.preventDefault();\n    let address = this.props.validationResults.enteredAddress;\n    if (!this.state.isEnteredSelected) {\n      address = this.props.validationResults.suggestedAddress;\n    }\n    if (typeof this.props.markCart === \"function\") {\n      this.props.markCart(address, this.state.isEnteredSelected);\n    }\n    if (typeof this.props.add === \"function\") {\n      this.props.add(address, false);\n    }\n  };\n\n  /**\n   * @method handleEdit\n   * @summary takes user back to the edit address screen\n   * @since 2.0.0\n   */\n  handleEdit = (event) => {\n    event.preventDefault();\n    if (this.props.switchMode) {\n      this.props.switchMode(\"entry\", this.props.validationResults.enteredAddress);\n    }\n  }\n\n  /**\n   * @method selectEntered\n   * @summary select the entered address\n   * @since 2.0.0\n   */\n  selectEntered = () => {\n    this.setState({\n      isEnteredSelected: true\n    });\n  }\n\n  /**\n   * @method selectSuggested\n   * @summary select the suggested address\n   * @since 2.0.0\n   */\n  selectSuggested = () => {\n    this.setState({\n      isEnteredSelected: false\n    });\n  }\n\n  /**\n   * @method renderField\n   * @summary renders a field in the address\n   * with error if present\n   * @since 2.0.0\n   * @return {Object} - JSX and child component.\n   */\n  renderField(field, value, showError) {\n    const { fieldErrors } = this.props.validationResults;\n    if (showError && fieldErrors && fieldErrors[field] && fieldErrors[field].length > 0) {\n      return (\n        <div >\n          <div className=\"error\">\n            {value}\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        {value}\n      </div>\n    );\n  }\n\n  render() {\n    const { enteredAddress, suggestedAddress } = this.props.validationResults;\n    const { isEnteredSelected } = this.state;\n    return (\n      <div className=\"address-review\">\n        <div className=\"alert alert-warning\">\n          <Components.Translation\n            defaultValue={`The address you entered may be incorrect or incomplete.\n              Please review our suggestions below, and choose which version you'd like to use. Errors are shown in red.`}\n            i18nKey=\"addressBookReview.warning\"\n          />\n        </div>\n        <form>\n          <div className=\"entered-address\">\n            <div className=\"radio-heading\">\n              <input\n                type=\"radio\"\n                value=\"entered\"\n                name=\"chooseAddress\"\n                checked={isEnteredSelected}\n                onChange={this.selectEntered}\n              />\n              <Components.Translation defaultValue=\"Entered Address\" i18nKey=\"addressBookReview.enteredAddress\"/>\n            </div>\n            {this.renderField(\"address1\", enteredAddress.address1, true)}\n            {this.renderField(\"address2\", enteredAddress.address2, true)}\n            {this.renderField(\"city\", enteredAddress.city, true)}\n            {this.renderField(\"country\", enteredAddress.country, true)}\n            {this.renderField(\"postal\", enteredAddress.postal, true)}\n            {this.renderField(\"region\", enteredAddress.region, true)}\n          </div>\n          <div className=\"suggested-address\">\n            <div className=\"radio-heading\">\n              <input\n                type=\"radio\"\n                value=\"suggested\"\n                name=\"chooseAddress\"\n                checked={!isEnteredSelected}\n                onChange={this.selectSuggested}\n              />\n              <Components.Translation defaultValue=\"Suggested Address\" i18nKey=\"addressBookReview.suggestedAddress\"/>\n            </div>\n            {this.renderField(\"address1\", suggestedAddress.address1, false)}\n            {this.renderField(\"address2\", suggestedAddress.address2, false)}\n            {this.renderField(\"city\", suggestedAddress.city, false)}\n            {this.renderField(\"country\", suggestedAddress.country, false)}\n            {this.renderField(\"postal\", suggestedAddress.postal, false)}\n            {this.renderField(\"region\", suggestedAddress.region, false)}\n          </div>\n          <div className=\"panel-buttons\">\n            <Components.Button\n              status=\"primary\"\n              buttonType=\"submit\"\n              onClick={this.handleSelection}\n              bezelStyle=\"solid\"\n              i18nKeyLabel=\"addressBookReview.useSelectedAddress\"\n              label=\"Use selected address\"\n              id=\"reviewAddressSelectButton\"\n            />\n            <div\n              id=\"reviewAddressEditButton\"\n              role=\"button\"\n              onClick={this.handleEdit}\n              onKeyDown={this.handleEdit}\n              tabIndex={0}\n            >\n              <Components.Translation defaultValue=\"Edit entered address\" i18nKey=\"addressBookReview.editAddress\"/>\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\n\nregisterComponent(\"AddressBookReview\", AddressBookReview);\n\nexport default AddressBookReview;\n\n"]},"sourceType":"script","hash":"4379ed7a6906bfaea403060b3b19a43e97434c7e"}
