{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/orders/client/components/orderTableColumn.js","filename":"imports/plugins/core/orders/client/components/orderTableColumn.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/orders/client/components/orderTableColumn.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/orders/client/components/orderTableColumn.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/orders/client/components/orderTableColumn.js"}},"code":"var _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar classnames;\nmodule.watch(require(\"classnames/dedupe\"), {\n  \"default\": function (v) {\n    classnames = v;\n  }\n}, 2);\nvar formatPriceString, i18next;\nmodule.watch(require(\"../../../../../../client/api\"), {\n  formatPriceString: function (v) {\n    formatPriceString = v;\n  },\n  i18next: function (v) {\n    i18next = v;\n  }\n}, 3);\nvar Avatar;\nmodule.watch(require(\"react-avatar\"), {\n  \"default\": function (v) {\n    Avatar = v;\n  }\n}, 4);\nvar withMoment;\nmodule.watch(require(\"../../../components/lib\"), {\n  withMoment: function (v) {\n    withMoment = v;\n  }\n}, 5);\nvar Badge, ClickToCopy, Icon, RolloverCheckbox, Checkbox;\nmodule.watch(require(\"../../../ui/client/components\"), {\n  Badge: function (v) {\n    Badge = v;\n  },\n  ClickToCopy: function (v) {\n    ClickToCopy = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  },\n  RolloverCheckbox: function (v) {\n    RolloverCheckbox = v;\n  },\n  Checkbox: function (v) {\n    Checkbox = v;\n  }\n}, 6);\nvar getOrderRiskBadge, getOrderRiskStatus, getBillingInfo, getTaxRiskStatus;\nmodule.watch(require(\"../helpers\"), {\n  getOrderRiskBadge: function (v) {\n    getOrderRiskBadge = v;\n  },\n  getOrderRiskStatus: function (v) {\n    getOrderRiskStatus = v;\n  },\n  getBillingInfo: function (v) {\n    getBillingInfo = v;\n  },\n  getTaxRiskStatus: function (v) {\n    getTaxRiskStatus = v;\n  }\n}, 7);\n\nvar OrderTableColumn =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(OrderTableColumn, _Component);\n\n  function OrderTableColumn() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = OrderTableColumn.prototype;\n\n  _proto.renderCheckboxOnSelect = function () {\n    function renderCheckboxOnSelect(row) {\n      if (this.props.selectedItems.length) {\n        return React.createElement(\"div\", {\n          className: \"all-checkboxes\"\n        }, React.createElement(Checkbox, {\n          className: \"checkbox-large checkbox-avatar\",\n          name: row.original._id,\n          onChange: this.props.handleSelect,\n          checked: this.props.selectedItems.includes(row.original._id)\n        }));\n      }\n\n      return React.createElement(RolloverCheckbox, {\n        checkboxClassName: \"checkbox-avatar checkbox-large\",\n        name: row.original._id,\n        onChange: this.props.handleSelect,\n        checked: this.props.selectedItems.includes(row.original._id)\n      }, React.createElement(Avatar, {\n        email: row.original.email,\n        round: true,\n        name: row.value,\n        size: 30,\n        className: \"rui-order-avatar\"\n      }));\n    }\n\n    return renderCheckboxOnSelect;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _this = this;\n\n      var columnAccessor = this.props.row.column.id;\n      var invoice = getBillingInfo(this.props.row.original).invoice || {};\n      var moment = this.props.moment;\n      var orderPaymentRisk = getOrderRiskStatus(this.props.row.original);\n      var orderTaxRisk = getTaxRiskStatus(this.props.row.original);\n      var orderRisk = orderPaymentRisk || orderTaxRisk;\n\n      if (columnAccessor === \"shippingFullName\") {\n        return React.createElement(\"div\", {\n          style: {\n            display: \"inline-flex\"\n          }\n        }, this.renderCheckboxOnSelect(this.props.row), React.createElement(\"strong\", {\n          className: \"orders-full-name\"\n        }, this.props.row.value, orderRisk && React.createElement(Badge, {\n          className: \"risk-info\",\n          i18nKeyLabel: \"admin.orderRisk.\" + orderRisk,\n          status: getOrderRiskBadge(orderRisk)\n        })));\n      }\n\n      if (columnAccessor === \"email\") {\n        return React.createElement(\"div\", {\n          style: {\n            marginTop: 7\n          }\n        }, this.props.row.value);\n      }\n\n      if (columnAccessor === \"createdAt\") {\n        var createdDate = moment && moment(this.props.row.value).format(\"MM/D/YYYY\") || this.props.row.value.toLocaleString();\n        return React.createElement(\"div\", {\n          style: {\n            marginTop: 7\n          }\n        }, createdDate);\n      }\n\n      if (columnAccessor === \"_id\") {\n        var id = this.props.row.original._id;\n        var truncatedId = id.substring(0, 4);\n        return React.createElement(\"div\", {\n          style: {\n            marginTop: 7\n          }\n        }, React.createElement(ClickToCopy, {\n          copyToClipboard: id,\n          displayText: truncatedId,\n          i18nKeyTooltip: \"admin.orderWorkflow.summary.copyOrderLink\",\n          tooltip: \"Copy Order Link\"\n        }));\n      }\n\n      if (columnAccessor === \"billingTotal\") {\n        return React.createElement(\"div\", {\n          style: {\n            marginTop: 7\n          }\n        }, React.createElement(\"strong\", null, formatPriceString(invoice.total)));\n      }\n\n      if (columnAccessor === \"shippingStatus\") {\n        return React.createElement(Badge, {\n          className: \"orders-badge\",\n          badgeSize: \"large\",\n          i18nKeyLabel: \"admin.table.data.status.\" + this.props.row.value,\n          label: this.props.row.value,\n          status: \"basic\"\n        });\n      }\n\n      if (columnAccessor === \"workflow.status\") {\n        return React.createElement(\"div\", {\n          className: \"status-info\"\n        }, React.createElement(Badge, {\n          badgeSize: \"large\",\n          i18nKeyLabel: \"admin.table.data.status.\" + this.props.row.value,\n          label: this.props.row.value,\n          status: this.props.fulfillmentBadgeStatus(this.props.row.original)\n        }));\n      }\n\n      if (columnAccessor === \"\") {\n        var startWorkflow = this.props.row.original.workflow.status === \"new\";\n        var classes = classnames({\n          \"rui\": true,\n          \"btn\": true,\n          \"btn-success\": startWorkflow\n        });\n        var chevronDirection = i18next.dir() === \"rtl\" ? \"left\" : \"right\";\n        return React.createElement(\"button\", {\n          className: classes,\n          onClick: function () {\n            return _this.props.handleClick(_this.props.row.original, startWorkflow);\n          }\n        }, React.createElement(Icon, {\n          icon: \"fa fa-chevron-\" + chevronDirection\n        }));\n      }\n\n      return React.createElement(\"span\", null, this.props.row.value);\n    }\n\n    return render;\n  }();\n\n  return OrderTableColumn;\n}(Component);\n\nOrderTableColumn.propTypes = {\n  fulfillmentBadgeStatus: PropTypes.func,\n  handleClick: PropTypes.func,\n  handleSelect: PropTypes.func,\n  moment: PropTypes.func,\n  row: PropTypes.object,\n  selectedItems: PropTypes.array\n};\nmodule.exportDefault(withMoment(OrderTableColumn));","map":{"version":3,"sources":["imports/plugins/core/orders/client/components/orderTableColumn.js"],"names":["React","Component","module","watch","require","v","PropTypes","classnames","formatPriceString","i18next","Avatar","withMoment","Badge","ClickToCopy","Icon","RolloverCheckbox","Checkbox","getOrderRiskBadge","getOrderRiskStatus","getBillingInfo","getTaxRiskStatus","OrderTableColumn","renderCheckboxOnSelect","row","props","selectedItems","length","original","_id","handleSelect","includes","email","value","render","columnAccessor","column","id","invoice","moment","orderPaymentRisk","orderTaxRisk","orderRisk","display","marginTop","createdDate","format","toLocaleString","truncatedId","substring","total","fulfillmentBadgeStatus","startWorkflow","workflow","status","classes","chevronDirection","dir","handleClick","propTypes","func","object","array","exportDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames/dedupe\";\nimport { formatPriceString, i18next } from \"/client/api\";\nimport Avatar from \"react-avatar\";\nimport { withMoment } from \"@reactioncommerce/reaction-components\";\nimport { Badge, ClickToCopy, Icon, RolloverCheckbox, Checkbox } from \"@reactioncommerce/reaction-ui\";\nimport { getOrderRiskBadge, getOrderRiskStatus, getBillingInfo, getTaxRiskStatus } from \"../helpers\";\n\nclass OrderTableColumn extends Component {\n  static propTypes = {\n    fulfillmentBadgeStatus: PropTypes.func,\n    handleClick: PropTypes.func,\n    handleSelect: PropTypes.func,\n    moment: PropTypes.func,\n    row: PropTypes.object,\n    selectedItems: PropTypes.array\n  }\n\n  renderCheckboxOnSelect(row) {\n    if (this.props.selectedItems.length) {\n      return (\n        <div className=\"all-checkboxes\">\n          <Checkbox\n            className=\"checkbox-large checkbox-avatar\"\n            name={row.original._id}\n            onChange={this.props.handleSelect}\n            checked={this.props.selectedItems.includes(row.original._id)}\n          />\n        </div>\n      );\n    }\n    return (\n      <RolloverCheckbox\n        checkboxClassName=\"checkbox-avatar checkbox-large\"\n        name={row.original._id}\n        onChange={this.props.handleSelect}\n        checked={this.props.selectedItems.includes(row.original._id)}\n      >\n        <Avatar\n          email={row.original.email}\n          round={true}\n          name={row.value}\n          size={30}\n          className=\"rui-order-avatar\"\n        />\n      </RolloverCheckbox>\n    );\n  }\n\n  render() {\n    const columnAccessor = this.props.row.column.id;\n    const invoice = getBillingInfo(this.props.row.original).invoice || {};\n    const { moment } = this.props;\n    const orderPaymentRisk = getOrderRiskStatus(this.props.row.original);\n    const orderTaxRisk = getTaxRiskStatus(this.props.row.original);\n    const orderRisk = orderPaymentRisk || orderTaxRisk;\n\n    if (columnAccessor === \"shippingFullName\") {\n      return (\n        <div style={{ display: \"inline-flex\" }}>\n          {this.renderCheckboxOnSelect(this.props.row)}\n          <strong className=\"orders-full-name\">\n            {this.props.row.value}\n            {orderRisk &&\n              <Badge\n                className=\"risk-info\"\n                i18nKeyLabel={`admin.orderRisk.${orderRisk}`}\n                status={getOrderRiskBadge(orderRisk)}\n              />\n            }\n          </strong>\n        </div>\n      );\n    }\n    if (columnAccessor === \"email\") {\n      return (\n        <div style={{ marginTop: 7 }}>{this.props.row.value}</div>\n      );\n    }\n    if (columnAccessor === \"createdAt\") {\n      const createdDate = (moment && moment(this.props.row.value).format(\"MM/D/YYYY\")) || this.props.row.value.toLocaleString();\n      return (\n        <div style={{ marginTop: 7 }}>{createdDate}</div>\n      );\n    }\n    if (columnAccessor === \"_id\") {\n      const id = this.props.row.original._id;\n      const truncatedId = id.substring(0, 4);\n      return (\n        <div style={{ marginTop: 7 }}>\n          <ClickToCopy\n            copyToClipboard={id}\n            displayText={truncatedId}\n            i18nKeyTooltip=\"admin.orderWorkflow.summary.copyOrderLink\"\n            tooltip=\"Copy Order Link\"\n          />\n        </div>\n      );\n    }\n    if (columnAccessor === \"billingTotal\") {\n      return (\n        <div style={{ marginTop: 7 }}>\n          <strong>{formatPriceString(invoice.total)}</strong>\n        </div>\n      );\n    }\n    if (columnAccessor === \"shippingStatus\") {\n      return (\n        <Badge\n          className=\"orders-badge\"\n          badgeSize=\"large\"\n          i18nKeyLabel={`admin.table.data.status.${this.props.row.value}`}\n          label={this.props.row.value}\n          status=\"basic\"\n        />\n      );\n    }\n    if (columnAccessor === \"workflow.status\") {\n      return (\n        <div className=\"status-info\">\n          <Badge\n            badgeSize=\"large\"\n            i18nKeyLabel={`admin.table.data.status.${this.props.row.value}`}\n            label={this.props.row.value}\n            status={this.props.fulfillmentBadgeStatus(this.props.row.original)}\n          />\n        </div>\n      );\n    }\n    if (columnAccessor === \"\") {\n      const startWorkflow = this.props.row.original.workflow.status === \"new\";\n      const classes = classnames({\n        \"rui\": true,\n        \"btn\": true,\n        \"btn-success\": startWorkflow\n      });\n      const chevronDirection = i18next.dir() === \"rtl\" ? \"left\" : \"right\";\n\n      return (\n        <button className={classes} onClick={() => this.props.handleClick(this.props.row.original, startWorkflow)}>\n          <Icon icon={`fa fa-chevron-${chevronDirection}`} />\n        </button>\n      );\n    }\n    return (\n      <span>{this.props.row.value}</span>\n    );\n  }\n}\n\nexport default withMoment(OrderTableColumn);\n"]},"sourceType":"script","hash":"7f5b26f43513461a55170919e9eae1825255e774"}
