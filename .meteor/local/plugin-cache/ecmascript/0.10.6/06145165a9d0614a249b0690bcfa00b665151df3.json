{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/orders/client/components/orderSummary.js","filename":"imports/plugins/core/orders/client/components/orderSummary.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/orders/client/components/orderSummary.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/orders/client/components/orderSummary.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/orders/client/components/orderSummary.js"}},"code":"var _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar withMoment, Components;\nmodule.watch(require(\"../../../components/lib\"), {\n  withMoment: function (v) {\n    withMoment = v;\n  },\n  Components: function (v) {\n    Components = v;\n  }\n}, 2);\nvar Badge, ClickToCopy;\nmodule.watch(require(\"../../../ui/client/components\"), {\n  Badge: function (v) {\n    Badge = v;\n  },\n  ClickToCopy: function (v) {\n    ClickToCopy = v;\n  }\n}, 3);\nvar getOrderRiskBadge, getOrderRiskStatus, getBillingInfo, getShippingInfo, getTaxRiskStatus;\nmodule.watch(require(\"../helpers\"), {\n  getOrderRiskBadge: function (v) {\n    getOrderRiskBadge = v;\n  },\n  getOrderRiskStatus: function (v) {\n    getOrderRiskStatus = v;\n  },\n  getBillingInfo: function (v) {\n    getBillingInfo = v;\n  },\n  getShippingInfo: function (v) {\n    getShippingInfo = v;\n  },\n  getTaxRiskStatus: function (v) {\n    getTaxRiskStatus = v;\n  }\n}, 4);\n\nvar OrderSummary =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(OrderSummary, _Component);\n\n  function OrderSummary() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = OrderSummary.prototype;\n\n  _proto.badgeStatus = function () {\n    function badgeStatus() {\n      var order = this.props.order;\n      var orderStatus = order && order.workflow && order.workflow.status;\n\n      if (orderStatus === \"new\") {\n        return \"info\";\n      } else if (orderStatus === \"coreOrderWorkflow/processing\") {\n        return \"success\";\n      } else if (orderStatus === \"coreOrderWorkflow/canceled\") {\n        return \"danger\";\n      } else if (orderStatus === \"coreOrderWorkflow/completed\") {\n        return \"primary\";\n      }\n\n      return \"default\";\n    }\n\n    return badgeStatus;\n  }();\n\n  _proto.orderLink = function () {\n    function orderLink() {\n      var orderId = this.props.order._id;\n      return orderId;\n    }\n\n    return orderLink;\n  }();\n\n  _proto.truncateId = function () {\n    function truncateId() {\n      var orderId = this.props.order._id;\n      var shortId = orderId.slice(-5);\n      return shortId;\n    }\n\n    return truncateId;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _props = this.props,\n          dateFormat = _props.dateFormat,\n          moment = _props.moment,\n          order = _props.order,\n          profileShippingAddress = _props.profileShippingAddress,\n          printableLabels = _props.printableLabels,\n          tracking = _props.tracking;\n      var paymentMethod = getBillingInfo(order).paymentMethod || {};\n      var invoice = getBillingInfo(order).invoice || {};\n      var shipmentMethod = getShippingInfo(order).shipmentMethod || {};\n      var orderPaymentRisk = getOrderRiskStatus(order);\n      var orderTaxRisk = getTaxRiskStatus(order);\n      return React.createElement(\"div\", null, React.createElement(\"div\", {\n        className: \"order-summary-form-group bg-info\",\n        style: {\n          lineHeight: 3,\n          marginTop: -15,\n          marginRight: -15,\n          marginLeft: -15\n        }\n      }, React.createElement(\"strong\", {\n        style: {\n          marginLeft: 15\n        }\n      }, profileShippingAddress && profileShippingAddress.fullName), React.createElement(\"div\", {\n        className: \"invoice-details\",\n        style: {\n          marginRight: 15,\n          position: \"relative\"\n        }\n      }, order.email)), React.createElement(\"div\", {\n        className: \"roll-up-invoice-list\"\n      }, React.createElement(\"div\", {\n        className: \"roll-up-content\"\n      }, React.createElement(\"div\", {\n        style: {\n          marginBottom: 4\n        }\n      }, React.createElement(Badge, {\n        badgeSize: \"large\",\n        i18nKeyLabel: \"cartDrawer.\" + (order && order.workflow && order.workflow.status),\n        label: order && order.workflow && order.workflow.status,\n        status: this.badgeStatus()\n      }), orderPaymentRisk && React.createElement(Badge, {\n        badgeSize: \"large\",\n        className: \"risk-info risk-info-detail \" + orderPaymentRisk,\n        i18nKeyLabel: \"admin.orderRisk.\" + orderPaymentRisk,\n        label: orderPaymentRisk,\n        status: getOrderRiskBadge(orderPaymentRisk)\n      }), orderTaxRisk && React.createElement(\"div\", {\n        className: \"risk-info risk-tax\"\n      }, React.createElement(Components.Translation, {\n        i18nKey: \"admin.orderRisk.orderTaxRisk\",\n        defaultValue: \"Tax not calulated\"\n      }))), React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"order.orderId\"\n      }, \"Order ID\"), React.createElement(\"div\", {\n        className: \"invoice-details\",\n        style: {\n          cursor: \"pointer\"\n        }\n      }, React.createElement(ClickToCopy, {\n        copyToClipboard: this.orderLink(),\n        displayText: order._id,\n        i18nKeyTooltip: \"admin.orderWorkflow.summary.copyOrderLink\",\n        tooltip: \"Copy Order Link\"\n      }))), React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"order.created\"\n      }, \"Created\"), React.createElement(\"div\", {\n        className: \"invoice-details\"\n      }, moment && moment(order.createdAt).fromNow(), \" | \", dateFormat(order.createdAt, \"MM/D/YYYY\"))), React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"order.processor\"\n      }, \"Processor\"), React.createElement(\"div\", {\n        className: \"invoice-details\"\n      }, paymentMethod && paymentMethod.processor)), React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"order.payment\"\n      }, \"Payment\"), React.createElement(\"div\", {\n        className: \"invoice-details\"\n      }, paymentMethod.storedCard, \" (\", invoice.total, \")\")), React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"order.transaction\"\n      }, \"Transaction\"), React.createElement(\"div\", {\n        className: \"invoice-details\"\n      }, paymentMethod.transactionId)), React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"orderShipping.carrier\"\n      }, \"Carrier\"), React.createElement(\"div\", {\n        className: \"invoice-details\"\n      }, shipmentMethod.carrier, \" - \", shipmentMethod.label)), React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"orderShipping.tracking\"\n      }, \"Tracking\"), React.createElement(\"div\", {\n        className: \"invoice-details\"\n      }, tracking())), printableLabels() && React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"orderShipping.printLabels\"\n      }, \"Labels\"), printableLabels().shippingLabelUrl ? React.createElement(\"a\", {\n        className: \"invoice-details\",\n        href: printableLabels().shippingLabelUrl,\n        target: \"_blank\"\n      }, React.createElement(\"span\", {\n        \"data-i18n\": \"orderShipping.printShippingLabel\"\n      }, \"Print Shipping\")) : React.createElement(\"a\", {\n        className: \"invoice-details\",\n        href: printableLabels().customsLabelUrl,\n        target: \"_blank\"\n      }, React.createElement(\"span\", {\n        \"data-i18n\": \"orderShipping.printCustomsLabel\"\n      }, \"Print Customs\"))))), React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"order-summary-form-group\"\n      }, React.createElement(\"strong\", {\n        \"data-i18n\": \"orderShipping.shipTo\"\n      }, \"Ship to\"), React.createElement(\"div\", {\n        className: \"invoice-details\"\n      }, React.createElement(\"strong\", null, \"Phone: \"), profileShippingAddress.phone)), React.createElement(\"div\", {\n        style: {\n          marginTop: 4\n        }\n      }, React.createElement(\"span\", null, profileShippingAddress.fullName), React.createElement(\"br\", null), React.createElement(\"span\", null, profileShippingAddress.address1), profileShippingAddress.address2 && React.createElement(\"span\", null, React.createElement(\"br\", null), profileShippingAddress.address2), React.createElement(\"br\", null), React.createElement(\"span\", null, profileShippingAddress.city, \", \", profileShippingAddress.region, \", \", profileShippingAddress.country, \" \", profileShippingAddress.postal)));\n    }\n\n    return render;\n  }();\n\n  return OrderSummary;\n}(Component);\n\nOrderSummary.propTypes = {\n  dateFormat: PropTypes.func,\n  moment: PropTypes.func,\n  order: PropTypes.object,\n  printableLabels: PropTypes.func,\n  profileShippingAddress: PropTypes.object,\n  shipmentStatus: PropTypes.func,\n  tracking: PropTypes.func\n};\nmodule.exportDefault(withMoment(OrderSummary));","map":{"version":3,"sources":["imports/plugins/core/orders/client/components/orderSummary.js"],"names":["React","Component","module","watch","require","v","PropTypes","withMoment","Components","Badge","ClickToCopy","getOrderRiskBadge","getOrderRiskStatus","getBillingInfo","getShippingInfo","getTaxRiskStatus","OrderSummary","badgeStatus","order","props","orderStatus","workflow","status","orderLink","orderId","_id","truncateId","shortId","slice","render","dateFormat","moment","profileShippingAddress","printableLabels","tracking","paymentMethod","invoice","shipmentMethod","orderPaymentRisk","orderTaxRisk","lineHeight","marginTop","marginRight","marginLeft","fullName","position","email","marginBottom","cursor","createdAt","fromNow","processor","storedCard","total","transactionId","carrier","label","shippingLabelUrl","customsLabelUrl","phone","address1","address2","city","region","country","postal","propTypes","func","object","shipmentStatus","exportDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withMoment, Components } from \"@reactioncommerce/reaction-components\";\nimport { Badge, ClickToCopy } from \"@reactioncommerce/reaction-ui\";\nimport { getOrderRiskBadge, getOrderRiskStatus, getBillingInfo, getShippingInfo, getTaxRiskStatus } from \"../helpers\";\n\nclass OrderSummary extends Component {\n  static propTypes = {\n    dateFormat: PropTypes.func,\n    moment: PropTypes.func,\n    order: PropTypes.object,\n    printableLabels: PropTypes.func,\n    profileShippingAddress: PropTypes.object,\n    shipmentStatus: PropTypes.func,\n    tracking: PropTypes.func\n  }\n\n  badgeStatus() {\n    const { order } = this.props;\n    const orderStatus = order && order.workflow && order.workflow.status;\n\n    if (orderStatus === \"new\") {\n      return \"info\";\n    } else if (orderStatus === \"coreOrderWorkflow/processing\") {\n      return \"success\";\n    } else if (orderStatus === \"coreOrderWorkflow/canceled\") {\n      return \"danger\";\n    } else if (orderStatus === \"coreOrderWorkflow/completed\") {\n      return \"primary\";\n    }\n\n    return \"default\";\n  }\n\n  orderLink() {\n    const orderId = this.props.order._id;\n    return orderId;\n  }\n\n  truncateId() {\n    const orderId = this.props.order._id;\n    const shortId = orderId.slice(-5);\n\n    return shortId;\n  }\n\n  render() {\n    const { dateFormat, moment, order, profileShippingAddress, printableLabels, tracking } = this.props;\n    const paymentMethod = getBillingInfo(order).paymentMethod || {};\n    const invoice = getBillingInfo(order).invoice || {};\n    const shipmentMethod = getShippingInfo(order).shipmentMethod || {};\n    const orderPaymentRisk = getOrderRiskStatus(order);\n    const orderTaxRisk = getTaxRiskStatus(order);\n\n    return (\n      <div>\n        <div\n          className=\"order-summary-form-group bg-info\"\n          style={{ lineHeight: 3, marginTop: -15, marginRight: -15, marginLeft: -15 }}\n        >\n          <strong style={{ marginLeft: 15 }}>{profileShippingAddress && profileShippingAddress.fullName}</strong>\n          <div className=\"invoice-details\" style={{ marginRight: 15, position: \"relative\" }}>\n            {order.email}\n          </div>\n        </div>\n\n        <div className=\"roll-up-invoice-list\">\n          <div className=\"roll-up-content\">\n            <div style={{ marginBottom: 4 }}>\n              <Badge\n                badgeSize=\"large\"\n                i18nKeyLabel={`cartDrawer.${order && order.workflow && order.workflow.status}`}\n                label={order && order.workflow && order.workflow.status}\n                status={this.badgeStatus()}\n              />\n              {orderPaymentRisk &&\n                <Badge\n                  badgeSize=\"large\"\n                  className={`risk-info risk-info-detail ${orderPaymentRisk}`}\n                  i18nKeyLabel={`admin.orderRisk.${orderPaymentRisk}`}\n                  label={orderPaymentRisk}\n                  status={getOrderRiskBadge(orderPaymentRisk)}\n                />\n              }\n              {orderTaxRisk &&\n                <div className=\"risk-info risk-tax\">\n                  <Components.Translation\n                    i18nKey=\"admin.orderRisk.orderTaxRisk\"\n                    defaultValue=\"Tax not calulated\"\n                  />\n                </div>\n              }\n            </div>\n\n            <div className=\"order-summary-form-group\">\n              <strong data-i18n=\"order.orderId\">Order ID</strong>\n              <div className=\"invoice-details\" style={{ cursor: \"pointer\" }}>\n                <ClickToCopy\n                  copyToClipboard={this.orderLink()}\n                  displayText={order._id}\n                  i18nKeyTooltip=\"admin.orderWorkflow.summary.copyOrderLink\"\n                  tooltip=\"Copy Order Link\"\n                />\n              </div>\n            </div>\n\n            <div className=\"order-summary-form-group\">\n              <strong data-i18n=\"order.created\">Created</strong>\n              <div className=\"invoice-details\">\n                {moment && moment(order.createdAt).fromNow()} | {dateFormat(order.createdAt, \"MM/D/YYYY\")}\n              </div>\n            </div>\n\n            <div className=\"order-summary-form-group\">\n              <strong data-i18n=\"order.processor\">Processor</strong>\n              <div className=\"invoice-details\">\n                {paymentMethod && paymentMethod.processor}\n              </div>\n            </div>\n\n            <div className=\"order-summary-form-group\">\n              <strong data-i18n=\"order.payment\">Payment</strong>\n              <div className=\"invoice-details\">\n                {paymentMethod.storedCard} ({invoice.total})\n              </div>\n            </div>\n\n            <div className=\"order-summary-form-group\">\n              <strong data-i18n=\"order.transaction\">Transaction</strong>\n              <div className=\"invoice-details\">\n                {paymentMethod.transactionId}\n              </div>\n            </div>\n\n            <div className=\"order-summary-form-group\">\n              <strong data-i18n=\"orderShipping.carrier\">Carrier</strong>\n              <div className=\"invoice-details\">\n                {shipmentMethod.carrier} - {shipmentMethod.label}\n              </div>\n            </div>\n\n            <div className=\"order-summary-form-group\">\n              <strong data-i18n=\"orderShipping.tracking\">Tracking</strong>\n              <div className=\"invoice-details\">\n                {tracking()}\n              </div>\n            </div>\n\n            {printableLabels() &&\n              <div className=\"order-summary-form-group\">\n                <strong data-i18n=\"orderShipping.printLabels\">Labels</strong>\n                {printableLabels().shippingLabelUrl ?\n                  <a className=\"invoice-details\" href={printableLabels().shippingLabelUrl} target=\"_blank\">\n                    <span data-i18n=\"orderShipping.printShippingLabel\">Print Shipping</span>\n                  </a> :\n                  <a className=\"invoice-details\" href={printableLabels().customsLabelUrl} target=\"_blank\">\n                    <span data-i18n=\"orderShipping.printCustomsLabel\">Print Customs</span>\n                  </a>\n                }\n              </div>\n            }\n          </div>\n        </div>\n\n        <br/>\n        <div className=\"order-summary-form-group\">\n          <strong data-i18n=\"orderShipping.shipTo\">Ship to</strong>\n          <div className=\"invoice-details\">\n            <strong>Phone: </strong>{profileShippingAddress.phone}\n          </div>\n        </div>\n\n        <div style={{ marginTop: 4 }}>\n          <span>{profileShippingAddress.fullName}</span>\n          <br/>\n          <span>{profileShippingAddress.address1}</span>\n          {profileShippingAddress.address2 && <span><br/>{profileShippingAddress.address2}</span>}\n          <br/>\n          <span>\n            {profileShippingAddress.city}, {profileShippingAddress.region}, {profileShippingAddress.country} {profileShippingAddress.postal}\n          </span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withMoment(OrderSummary);\n"]},"sourceType":"script","hash":"06145165a9d0614a249b0690bcfa00b665151df3"}
