{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/ui-tagnav/client/components/tagNav.js","filename":"imports/plugins/core/ui-tagnav/client/components/tagNav.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/ui-tagnav/client/components/tagNav.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/ui-tagnav/client/components/tagNav.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/ui-tagnav/client/components/tagNav.js"}},"code":"var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _compact;\n\nmodule.watch(require(\"lodash/compact\"), {\n  \"default\": function (v) {\n    _compact = v;\n  }\n}, 0);\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 1);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 2);\nvar Components;\nmodule.watch(require(\"../../../components/lib\"), {\n  Components: function (v) {\n    Components = v;\n  }\n}, 3);\nvar getTagIds;\nmodule.watch(require(\"../../../../../../lib/selectors/tags\"), {\n  getTagIds: function (v) {\n    getTagIds = v;\n  }\n}, 4);\nvar TagHelpers;\nmodule.watch(require(\"../helpers\"), {\n  TagHelpers: function (v) {\n    TagHelpers = v;\n  }\n}, 5);\nvar ShopSelect;\nmodule.watch(require(\"../../../dashboard/client/components/shopSelect\"), {\n  \"default\": function (v) {\n    ShopSelect = v;\n  }\n}, 6);\n\nvar TagNav =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(TagNav, _Component);\n\n  function TagNav(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.onShopSelectChange = function (event, shopId) {\n      if (_this.props.handleShopSelectChange) {\n        _this.props.handleShopSelectChange(event, shopId);\n      }\n    };\n\n    _this.tagGroupProps = function (tag) {\n      var subTagGroups = _compact(TagHelpers.subTags(tag));\n\n      var tagsByKey = {};\n\n      if (Array.isArray(subTagGroups)) {\n        for (var _iterator = subTagGroups, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n          var _ref;\n\n          if (_isArray) {\n            if (_i >= _iterator.length) break;\n            _ref = _iterator[_i++];\n          } else {\n            _i = _iterator.next();\n            if (_i.done) break;\n            _ref = _i.value;\n          }\n\n          var _tagItem = _ref;\n          tagsByKey[_tagItem._id] = _tagItem;\n        }\n      }\n\n      return {\n        parentTag: tag,\n        tagsByKey: tagsByKey || {},\n        tagIds: getTagIds({\n          tags: subTagGroups\n        }) || [],\n        subTagGroups: subTagGroups\n      };\n    };\n\n    _this.state = {\n      selectedTag: _this.props.selectedTag || {}\n    };\n    return _this;\n  }\n\n  var _proto = TagNav.prototype;\n\n  _proto.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      this.setState({\n        selectedTag: nextProps.selectedTag\n      });\n    }\n\n    return componentWillReceiveProps;\n  }();\n  /**\n   * onShopSelectChange\n   * @method\n   * @summary Handle change in selected shop\n   * @param {script} event\n   * @param {String} shopId - selected shopId\n   * @since 1.5.8\n   * @return {void}\n  */\n\n\n  _proto.renderEditButton = function () {\n    function renderEditButton() {\n      var editContainerItem = this.props.navButtonStyles.editContainerItem;\n      return React.createElement(\"span\", {\n        className: \"navbar-item edit-button\",\n        style: editContainerItem\n      }, React.createElement(Components.EditButton, {\n        onClick: this.props.onEditButtonClick,\n        bezelStyle: \"solid\",\n        primary: true,\n        icon: \"fa fa-pencil\",\n        onIcon: \"fa fa-check\",\n        toggle: true,\n        toggleOn: this.props.editable\n      }));\n    }\n\n    return renderEditButton;\n  }();\n  /**\n  * renderShopSelect\n  * @method\n  * @summary Handles shop options display on mobile view\n  * @return {JSX} React node containing dropdown menu\n  */\n\n\n  _proto.renderShopSelect = function () {\n    function renderShopSelect() {\n      if (this.props.handleShopSelectChange) {\n        return React.createElement(ShopSelect, {\n          className: \"shop-select\",\n          isTagNav: true,\n          onShopSelectChange: this.onShopSelectChange,\n          shopName: this.props.shop.name,\n          shops: this.props.shops,\n          shopId: this.props.shop._id\n        });\n      }\n\n      return null;\n    }\n\n    return renderShopSelect;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _props = this.props,\n          navbarOrientation = _props.navbarOrientation,\n          navbarPosition = _props.navbarPosition,\n          navbarAnchor = _props.navbarAnchor,\n          navbarVisibility = _props.navbarVisibility;\n      return React.createElement(\"div\", {\n        className: \"rui tagnav \" + navbarOrientation + \" \" + navbarPosition + \" \" + navbarAnchor + \" \" + navbarVisibility\n      }, React.createElement(\"div\", {\n        className: \"navbar-header\"\n      }, React.createElement(Components.Button, {\n        primary: true,\n        icon: \"times\",\n        status: \"default\",\n        className: \"close-button\",\n        onClick: this.props.closeNavbar\n      }), this.props.children), this.renderShopSelect(), React.createElement(\"div\", {\n        className: \"navbar-items\"\n      }, React.createElement(Components.DragDropProvider, null, React.createElement(Components.TagList, (0, _extends2.default)({}, this.props, {\n        isTagNav: true,\n        draggable: true,\n        enableNewTagForm: true\n      }), React.createElement(\"div\", {\n        className: \"dropdown-container\"\n      }, React.createElement(Components.TagGroup, (0, _extends2.default)({}, this.props, {\n        editable: this.props.editable === true,\n        tagGroupProps: this.tagGroupProps(this.state.selectedTag || {}),\n        onMove: this.props.onMoveTag,\n        onTagInputBlur: this.handleTagSave,\n        onTagMouseOut: this.handleTagMouseOut,\n        onTagMouseOver: this.handleTagMouseOver,\n        onTagSave: this.handleTagSave\n      }))))), this.props.canEdit && this.renderEditButton()));\n    }\n\n    return render;\n  }();\n\n  return TagNav;\n}(Component);\n\nTagNav.propTypes = {\n  canEdit: PropTypes.bool,\n  children: PropTypes.node,\n  closeNavbar: PropTypes.func,\n  editable: PropTypes.bool,\n  handleShopSelectChange: PropTypes.func,\n  navButtonStyles: PropTypes.object,\n  navbarAnchor: PropTypes.string,\n  navbarOrientation: PropTypes.string,\n  navbarPosition: PropTypes.string,\n  navbarVisibility: PropTypes.string,\n  onEditButtonClick: PropTypes.func,\n  onMoveTag: PropTypes.func,\n  selectedTag: PropTypes.object,\n  shop: PropTypes.object,\n  shops: PropTypes.array\n};\nmodule.exportDefault(TagNav);","map":{"version":3,"sources":["imports/plugins/core/ui-tagnav/client/components/tagNav.js"],"names":["_compact","module","watch","require","v","React","Component","PropTypes","Components","getTagIds","TagHelpers","ShopSelect","TagNav","props","onShopSelectChange","event","shopId","handleShopSelectChange","tagGroupProps","tag","subTagGroups","subTags","tagsByKey","Array","isArray","tagItem","_id","parentTag","tagIds","tags","state","selectedTag","componentWillReceiveProps","nextProps","setState","renderEditButton","editContainerItem","navButtonStyles","onEditButtonClick","editable","renderShopSelect","shop","name","shops","render","navbarOrientation","navbarPosition","navbarAnchor","navbarVisibility","closeNavbar","children","onMoveTag","handleTagSave","handleTagMouseOut","handleTagMouseOver","canEdit","propTypes","bool","node","func","object","string","array","exportDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\nimport { Components } from \"@reactioncommerce/reaction-components\";\nimport { getTagIds } from \"/lib/selectors/tags\";\nimport { TagHelpers } from \"/imports/plugins/core/ui-tagnav/client/helpers\";\nimport ShopSelect from \"/imports/plugins/core/dashboard/client/components/shopSelect\";\n\nclass TagNav extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTag: this.props.selectedTag || {}\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ selectedTag: nextProps.selectedTag });\n  }\n\n  /**\n   * onShopSelectChange\n   * @method\n   * @summary Handle change in selected shop\n   * @param {script} event\n   * @param {String} shopId - selected shopId\n   * @since 1.5.8\n   * @return {void}\n  */\n  onShopSelectChange = (event, shopId) => {\n    if (this.props.handleShopSelectChange) {\n      this.props.handleShopSelectChange(event, shopId);\n    }\n  }\n\n  renderEditButton() {\n    const { editContainerItem } = this.props.navButtonStyles;\n    return (\n      <span className=\"navbar-item edit-button\" style={editContainerItem}>\n        <Components.EditButton\n          onClick={this.props.onEditButtonClick}\n          bezelStyle=\"solid\"\n          primary={true}\n          icon=\"fa fa-pencil\"\n          onIcon=\"fa fa-check\"\n          toggle={true}\n          toggleOn={this.props.editable}\n        />\n      </span>\n    );\n  }\n\n  /**\n  * renderShopSelect\n  * @method\n  * @summary Handles shop options display on mobile view\n  * @return {JSX} React node containing dropdown menu\n  */\n  renderShopSelect() {\n    if (this.props.handleShopSelectChange) {\n      return (\n        <ShopSelect\n          className={\"shop-select\"}\n          isTagNav={true}\n          onShopSelectChange={this.onShopSelectChange}\n          shopName={this.props.shop.name}\n          shops={this.props.shops}\n          shopId={this.props.shop._id}\n        />\n      );\n    }\n    return null;\n  }\n\n  tagGroupProps = (tag) => {\n    const subTagGroups = _.compact(TagHelpers.subTags(tag));\n    const tagsByKey = {};\n\n    if (Array.isArray(subTagGroups)) {\n      for (const tagItem of subTagGroups) {\n        tagsByKey[tagItem._id] = tagItem;\n      }\n    }\n\n    return {\n      parentTag: tag,\n      tagsByKey: tagsByKey || {},\n      tagIds: getTagIds({ tags: subTagGroups }) || [],\n      subTagGroups\n    };\n  }\n\n  render() {\n    const { navbarOrientation, navbarPosition, navbarAnchor, navbarVisibility } = this.props;\n    return (\n      <div className={`rui tagnav ${navbarOrientation} ${navbarPosition} ${navbarAnchor} ${navbarVisibility}`}>\n        <div className=\"navbar-header\">\n          <Components.Button\n            primary={true}\n            icon=\"times\"\n            status=\"default\"\n            className=\"close-button\"\n            onClick={this.props.closeNavbar}\n          />\n          {this.props.children}\n        </div>\n        {this.renderShopSelect()}\n        <div className=\"navbar-items\">\n          <Components.DragDropProvider>\n            <Components.TagList\n              {...this.props}\n              isTagNav={true}\n              draggable={true}\n              enableNewTagForm={true}\n            >\n              <div className=\"dropdown-container\">\n                <Components.TagGroup\n                  {...this.props}\n                  editable={this.props.editable === true}\n                  tagGroupProps={this.tagGroupProps(this.state.selectedTag || {})}\n                  onMove={this.props.onMoveTag}\n                  onTagInputBlur={this.handleTagSave}\n                  onTagMouseOut={this.handleTagMouseOut}\n                  onTagMouseOver={this.handleTagMouseOver}\n                  onTagSave={this.handleTagSave}\n                />\n              </div>\n            </Components.TagList>\n          </Components.DragDropProvider>\n          {this.props.canEdit && this.renderEditButton()}\n        </div>\n      </div>\n    );\n  }\n}\n\nTagNav.propTypes = {\n  canEdit: PropTypes.bool,\n  children: PropTypes.node,\n  closeNavbar: PropTypes.func,\n  editable: PropTypes.bool,\n  handleShopSelectChange: PropTypes.func,\n  navButtonStyles: PropTypes.object,\n  navbarAnchor: PropTypes.string,\n  navbarOrientation: PropTypes.string,\n  navbarPosition: PropTypes.string,\n  navbarVisibility: PropTypes.string,\n  onEditButtonClick: PropTypes.func,\n  onMoveTag: PropTypes.func,\n  selectedTag: PropTypes.object,\n  shop: PropTypes.object,\n  shops: PropTypes.array\n};\n\nexport default TagNav;\n"]},"sourceType":"script","hash":"3f18a1a61f90952e7fd18faf0def1d716fcb304e"}
