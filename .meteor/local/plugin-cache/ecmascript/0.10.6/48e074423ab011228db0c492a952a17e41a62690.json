{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"lib/api/router/metadata.js","filename":"lib/api/router/metadata.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"lib/api/router/metadata.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"lib/api/router/metadata.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"lib/api/router/metadata.js"}},"code":"module.export({\n  MetaData: function () {\n    return MetaData;\n  }\n});\nvar ReactionProduct, getShopId, Reaction;\nmodule.watch(require(\"./..\"), {\n  ReactionProduct: function (v) {\n    ReactionProduct = v;\n  },\n  getShopId: function (v) {\n    getShopId = v;\n  },\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 0);\nvar Shops, SellerShops;\nmodule.watch(require(\"../../collections\"), {\n  Shops: function (v) {\n    Shops = v;\n  },\n  SellerShops: function (v) {\n    SellerShops = v;\n  }\n}, 1);\nvar MetaData = {\n  init: function (context) {\n    var params = context.params;\n    var product = ReactionProduct.selectedProduct();\n    var shop = Shops.findOne(getShopId());\n    var meta = [];\n    var title = \"\";\n    var description = \"\";\n    var keywords = []; // case helper\n\n    var titleCase = function (param) {\n      return param.charAt(0).toUpperCase() + param.substring(1);\n    }; // populate meta from shop\n\n\n    if (shop) {\n      // shop defaults\n      if (shop.description) {\n        description = shop.description.substring(0, 160);\n      }\n\n      if (shop.keywords) {\n        keywords.push(shop.keywords.toString());\n      } // set title defaults\n\n\n      MetaData.name = shop.name; // product title default\n\n      if (params && params.handle) {\n        if (product && product.title) {\n          title = titleCase(product.title);\n        } else {\n          title = titleCase(params.handle);\n        } // tag slugs\n\n      } else if (params && params.slug) {\n        title = titleCase(params.slug); // fallback to route name\n      } else if (context.route && context.route.name) {\n        var route = context.route;\n        var routeName = route.name; // default index to Shop Name\n\n        if (routeName === \"index\") {\n          title = titleCase(shop.name); // seller shop homepage\n        } else if (routeName === \"shop\") {\n          var currentShop = SellerShops.findOne(params.shopId);\n\n          if (currentShop) {\n            title = titleCase(currentShop.name);\n          } else {\n            title = titleCase(routeName);\n          } // check for meta in package route\n\n        } else if (route.options.meta && route.options.meta.title) {\n          title = titleCase(route.options.meta.title);\n        } else {\n          // default routes to route's name\n          title = titleCase(routeName);\n        }\n      } //  product details\n\n\n      if (params && params.handle && product) {\n        // discard defaults\n        Reaction.DOM.removeDocHeadAddedTags();\n\n        if (product.description) {\n          description = product.description.substring(0, 160);\n        }\n\n        if (product && product.metafields) {\n          // Clear shop keywords, to make keywords specific to this product page.\n          keywords = [];\n\n          for (var _iterator = product.metafields, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref = _i.value;\n            }\n\n            var _key = _ref;\n            keywords.push(_key.value);\n          }\n        }\n      }\n    } // end shop\n\n\n    Reaction.DOM.setMetaTag({\n      name: \"description\",\n      content: description\n    });\n    Reaction.DOM.setMetaTag({\n      name: \"keywords\",\n      content: keywords ? keywords.toString() : \"\"\n    }); // set site defaults\n\n    document.title = title;\n    MetaData.title = title;\n    MetaData.meta = meta;\n    return meta;\n  } // end update\n\n};","map":{"version":3,"sources":["lib/api/router/metadata.js"],"names":["module","export","MetaData","ReactionProduct","getShopId","Reaction","watch","require","v","Shops","SellerShops","init","context","params","product","selectedProduct","shop","findOne","meta","title","description","keywords","titleCase","param","charAt","toUpperCase","substring","push","toString","name","handle","slug","route","routeName","currentShop","shopId","options","DOM","removeDocHeadAddedTags","metafields","key","value","setMetaTag","content","document"],"mappings":"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","sourcesContent":["import { ReactionProduct, getShopId, Reaction } from \"/lib/api\";\nimport { Shops, SellerShops } from \"/lib/collections\";\n\n/**\n * @method MetaData\n * @memberof Router\n * @summary Populates title and meta tags for routes\n * accepts Router.current() as context\n * @param context\n * @example MetaData.init(Router.current());\n */\nexport const MetaData = {\n  init(context) {\n    const { params } = context;\n    const product = ReactionProduct.selectedProduct();\n    const shop = Shops.findOne(getShopId());\n    const meta = [];\n    let title = \"\";\n    let description = \"\";\n    let keywords = [];\n\n    // case helper\n    const titleCase = (param) => param.charAt(0).toUpperCase() + param.substring(1);\n\n    // populate meta from shop\n    if (shop) {\n      // shop defaults\n      if (shop.description) {\n        description = shop.description.substring(0, 160);\n      }\n\n      if (shop.keywords) {\n        keywords.push(shop.keywords.toString());\n      }\n\n      // set title defaults\n      MetaData.name = shop.name;\n\n      // product title default\n      if (params && params.handle) {\n        if (product && product.title) {\n          title = titleCase(product.title);\n        } else {\n          title = titleCase(params.handle);\n        }\n\n      // tag slugs\n      } else if (params && params.slug) {\n        title = titleCase(params.slug);\n\n      // fallback to route name\n      } else if (context.route && context.route.name) {\n        const { route } = context;\n        const routeName = route.name;\n\n        // default index to Shop Name\n        if (routeName === \"index\") {\n          title = titleCase(shop.name);\n\n        // seller shop homepage\n        } else if (routeName === \"shop\") {\n          const currentShop = SellerShops.findOne(params.shopId);\n          if (currentShop) {\n            title = titleCase(currentShop.name);\n          } else {\n            title = titleCase(routeName);\n          }\n        // check for meta in package route\n        } else if (route.options.meta && route.options.meta.title) {\n          title = titleCase(route.options.meta.title);\n        } else {\n          // default routes to route's name\n          title = titleCase(routeName);\n        }\n      }\n\n      //  product details\n      if (params && params.handle && product) {\n        // discard defaults\n        Reaction.DOM.removeDocHeadAddedTags();\n\n        if (product.description) {\n          description = product.description.substring(0, 160);\n        }\n\n        if (product && product.metafields) {\n          // Clear shop keywords, to make keywords specific to this product page.\n          keywords = [];\n          for (const key of product.metafields) {\n            keywords.push(key.value);\n          }\n        }\n      }\n    } // end shop\n\n    Reaction.DOM.setMetaTag({\n      name: \"description\",\n      content: description\n    });\n\n    Reaction.DOM.setMetaTag({\n      name: \"keywords\",\n      content: keywords ? keywords.toString() : \"\"\n    });\n\n    // set site defaults\n    document.title = title;\n    MetaData.title = title;\n    MetaData.meta = meta;\n\n    return meta;\n  } // end update\n};\n"]},"sourceType":"script","hash":"48e074423ab011228db0c492a952a17e41a62690"}
