{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/dashboard/client/components/actionView.js","filename":"imports/plugins/core/dashboard/client/components/actionView.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/dashboard/client/components/actionView.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/dashboard/client/components/actionView.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/dashboard/client/components/actionView.js"}},"code":"var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar classnames;\nmodule.watch(require(\"classnames\"), {\n  \"default\": function (v) {\n    classnames = v;\n  }\n}, 2);\nvar Blaze;\nmodule.watch(require(\"meteor/gadicc:blaze-react-component\"), {\n  \"default\": function (v) {\n    Blaze = v;\n  }\n}, 3);\nvar Admin;\nmodule.watch(require(\"../../../ui/client/providers\"), {\n  Admin: function (v) {\n    Admin = v;\n  }\n}, 4);\nvar Radium;\nmodule.watch(require(\"radium\"), {\n  \"default\": function (v) {\n    Radium = v;\n  }\n}, 5);\nmodule.watch(require(\"velocity-animate\"));\nmodule.watch(require(\"velocity-animate/velocity.ui\"));\nvar VelocityTransitionGroup;\nmodule.watch(require(\"velocity-react\"), {\n  VelocityTransitionGroup: function (v) {\n    VelocityTransitionGroup = v;\n  }\n}, 6);\nvar debounce;\nmodule.watch(require(\"lodash/debounce\"), {\n  \"default\": function (v) {\n    debounce = v;\n  }\n}, 7);\nvar IconButton, Translation, Overlay;\nmodule.watch(require(\"../../../ui/client/components\"), {\n  IconButton: function (v) {\n    IconButton = v;\n  },\n  Translation: function (v) {\n    Translation = v;\n  },\n  Overlay: function (v) {\n    Overlay = v;\n  }\n}, 8);\nvar getComponent;\nmodule.watch(require(\"../../../components/lib\"), {\n  getComponent: function (v) {\n    getComponent = v;\n  }\n}, 9);\n\nvar getStyles = function (props) {\n  var minWidth = Math.min(props.viewportWidth, 400);\n  var viewSize = minWidth;\n  var viewMaxSize = \"400px\";\n  var actionView = props.actionView || {};\n  var provides = actionView.provides || []; // legacy provides could be a string, is an array since 1.5.0, check for either.\n  // prototype.includes has the fortunate side affect of checking string equality as well as array inclusion.\n\n  var isBigView = provides.includes(\"dashboard\") || provides.includes(\"shortcut\") && actionView.container === \"dashboard\";\n\n  if (isBigView) {\n    viewSize = \"90vw\";\n    viewMaxSize = \"100%\";\n  }\n\n  if (actionView.meta && actionView.meta.actionView) {\n    var isSmView = actionView.meta.actionView.dashboardSize === \"sm\";\n    var isMdView = actionView.meta.actionView.dashboardSize === \"md\";\n    var isLgView = actionView.meta.actionView.dashboardSize === \"lg\";\n\n    if (isSmView) {\n      viewSize = minWidth + \"px\";\n      viewMaxSize = minWidth + \"px\";\n    }\n\n    if (isMdView) {\n      viewSize = \"50vw\";\n      viewMaxSize = \"50vw\";\n    }\n\n    if (isLgView) {\n      viewSize = \"90vw\";\n      viewMaxSize = \"90vw\";\n    }\n  }\n\n  if (props.actionViewIsOpen === false) {\n    viewSize = 400;\n  }\n\n  return {\n    base: {\n      \"display\": \"flex\",\n      \"flexDirection\": \"row\",\n      \"height\": \"100vh\",\n      \"position\": \"relative\",\n      \"width\": viewSize,\n      \"maxWidth\": viewMaxSize,\n      \"boxShadow\": isBigView ? \"0 0 40px rgba(0,0,0,.1)\" : \"\",\n      \"flex\": \"0 0 auto\",\n      \"backgroundColor\": \"white\",\n      \"overflow\": \"hidden\",\n      \"transition\": \"width 300ms cubic-bezier(0.455, 0.03, 0.515, 0.955))\",\n      \"zIndex\": 1050,\n      \"@media only screen and (max-width: 949px)\": {\n        width: \"auto\",\n        maxWidth: \"100%\"\n      },\n      \"@media only screen and (max-width: 767px)\": {\n        maxWidth: \"100%\"\n      }\n    },\n    header: {\n      display: \"flex\",\n      alignItems: \"center\",\n      position: \"relative\",\n      minHeight: \"56px\",\n      height: \"56px\",\n      padding: \"0 20px\"\n    },\n    heading: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flex: \"1 1 auto\",\n      position: \"relative\",\n      margin: \"0 0 0 1rem\",\n      height: \"100%\"\n    },\n    body: {\n      display: \"flex\",\n      flex: \"1 1 auto\",\n      overflow: \"auto\",\n      WebkitOverflowScrolling: \"touch\"\n    },\n    masterViewPanel: {\n      \"display\": \"flex\",\n      \"flexDirection\": \"column\",\n      \"flex\": \"1 1 auto\",\n      \"maxWidth\": viewMaxSize,\n      \"@media only screen and (max-width: 949px)\": {\n        width: \"100vw\",\n        maxWidth: \"100%\"\n      }\n    },\n    masterView: {\n      flex: \"1 1 auto\",\n      // height: \"100%\",\n      overflow: \"auto\" // WebkitOverflowScrolling: \"touch\"\n\n    },\n    detailViewPanel: {\n      \"display\": \"flex\",\n      \"flexDirection\": \"column\",\n      \"flex\": \"1 1 auto\",\n      \"maxWidth\": viewMaxSize,\n      \"height\": \"100vh\",\n      \"backgroundColor\": \"white\",\n      \"borderRight\": \"1px solid #ccc\",\n      \"@media only screen and (max-width: 949px)\": {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        width: \"96vw\",\n        zIndex: 1050\n      }\n    },\n    detailView: {\n      width: \"100%\"\n    },\n    backButton: {\n      height: \"100%\"\n    },\n    backButtonContainers: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"100%\"\n    }\n  };\n};\n\nvar ActionView =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(ActionView, _Component);\n\n  function ActionView(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.state = {\n      isMobile: _this.isMobile,\n      enterAnimation: {\n        animation: {\n          translateX: 0\n        },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      leaveAnimation: {\n        animation: {\n          translateX: 400\n        },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      rtlEnterAnimation: {\n        animation: {\n          translateX: [\"0%\", \"-100%\"]\n        },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      rtlLeaveAnimation: {\n        animation: {\n          translateX: \"-100%\"\n        },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      enterAnimationForDetailView: {\n        animation: {\n          width: 400\n        },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      leaveAnimationForDetailView: {\n        animation: {\n          width: 0\n        },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      }\n    };\n    _this.handleResize = debounce(function () {\n      if (window) {\n        _this.setState({\n          isMobile: _this.isMobile\n        });\n      }\n    }, 66);\n    return _this;\n  }\n\n  var _proto = ActionView.prototype;\n\n  _proto.componentDidMount = function () {\n    function componentDidMount() {\n      if (window) {\n        window.addEventListener(\"resize\", this.handleResize, false);\n      }\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto.componentWillUnmount = function () {\n    function componentWillUnmount() {\n      if (window) {\n        window.removeEventListener(\"resize\", this.handleResize);\n      }\n    }\n\n    return componentWillUnmount;\n  }();\n\n  _proto.renderControlComponent = function () {\n    function renderControlComponent() {\n      if (this.props.actionView && typeof this.props.actionView.template === \"string\") {\n        // Render a react component if one has been registered by name\n        try {\n          var component = getComponent(this.props.actionView.template);\n          return React.createElement(\"div\", {\n            style: this.styles.masterView,\n            className: \"master\"\n          }, React.createElement(component, this.props.actionView.data));\n        } catch (e) {\n          return React.createElement(\"div\", {\n            style: this.styles.masterView,\n            className: \"master\"\n          }, React.createElement(Blaze, (0, _extends2.default)({}, this.props.actionView.data, {\n            template: this.props.actionView.template\n          })));\n        }\n      }\n\n      return null;\n    }\n\n    return renderControlComponent;\n  }();\n\n  _proto.renderDetailComponent = function () {\n    function renderDetailComponent() {\n      if (this.props.detailView && typeof this.props.detailView.template === \"string\") {\n        return React.createElement(\"div\", {\n          style: this.styles.detailView,\n          className: \"detail\"\n        }, React.createElement(Blaze, (0, _extends2.default)({}, this.props.detailView.data, {\n          template: this.props.detailView.template\n        })));\n      }\n\n      return null;\n    }\n\n    return renderDetailComponent;\n  }();\n\n  _proto.renderFooter = function () {\n    function renderFooter() {// if (this.props.footerTemplate) {\n      //   return (\n      //     <Blaze template={this.props.footerTemplate} />\n      //   );\n      // }\n    }\n\n    return renderFooter;\n  }();\n\n  _proto.renderBackButton = function () {\n    function renderBackButton() {\n      var button;\n\n      if (this.props.isActionViewAtRootView === false) {\n        button = React.createElement(IconButton, {\n          bezelStyle: \"flat\",\n          icon: \"fa fa-arrow-left\",\n          onClick: this.props.handleActionViewBack\n        });\n      } else {\n        button = React.createElement(IconButton, {\n          bezelStyle: \"flat\",\n          icon: \"fa fa-times\",\n          onClick: this.props.handleActionViewClose\n        });\n      }\n\n      return React.createElement(\"div\", {\n        style: this.styles.backButton\n      }, React.createElement(\"div\", {\n        style: this.styles.backButtonContainers\n      }, button));\n    }\n\n    return renderBackButton;\n  }();\n\n  _proto.renderDetailViewBackButton = function () {\n    function renderDetailViewBackButton() {\n      if (this.props.isDetailViewAtRootView === false) {\n        return React.createElement(\"div\", {\n          style: this.styles.backButton\n        }, React.createElement(\"div\", {\n          style: this.styles.backButtonContainers\n        }, React.createElement(IconButton, {\n          bezelStyle: \"flat\",\n          icon: \"fa fa-arrow-left\",\n          onClick: this.props.handleActionViewDetailBack\n        })));\n      }\n\n      return React.createElement(IconButton, {\n        bezelStyle: \"flat\",\n        icon: \"fa fa-times\",\n        onClick: this.props.handleActionViewDetailClose\n      });\n    }\n\n    return renderDetailViewBackButton;\n  }();\n\n  _proto.renderMasterView = function () {\n    function renderMasterView() {\n      var actionView = this.props.actionView;\n      return React.createElement(\"div\", {\n        style: this.styles.masterViewPanel\n      }, React.createElement(\"div\", {\n        style: this.styles.header,\n        className: \"header\"\n      }, this.renderBackButton(), React.createElement(\"div\", {\n        style: this.styles.heading,\n        className: \"heading\"\n      }, React.createElement(\"h3\", {\n        className: \"title\",\n        style: this.styles.title\n      }, React.createElement(Translation, {\n        defaultValue: actionView.label || \"Dashboard\",\n        i18nKey: actionView.i18nKeyLabel || \"admin.dashboard.coreTitle\"\n      }))), React.createElement(\"div\", {\n        className: \"controls\\xBB\"\n      })), React.createElement(\"div\", {\n        style: this.styles.body,\n        className: \"admin-controls-content action-view-body\"\n      }, this.renderControlComponent()));\n    }\n\n    return renderMasterView;\n  }();\n\n  _proto.renderDetailView = function () {\n    function renderDetailView() {\n      var actionView = this.props.actionView;\n      var baseClassName = classnames({\n        \"rui\": true,\n        \"admin\": true,\n        \"action-view-pane\": true,\n        \"action-view-detail\": true\n      });\n\n      if (this.props.detailViewIsOpen) {\n        return React.createElement(\"div\", {\n          className: baseClassName,\n          style: this.styles.detailViewPanel\n        }, React.createElement(\"div\", {\n          style: this.styles.header,\n          className: \"header\"\n        }, React.createElement(VelocityTransitionGroup, {\n          enter: this.backButtonEnterAnimation,\n          leave: this.backButtonLeaveAnimaton\n        }, this.renderDetailViewBackButton()), React.createElement(\"div\", {\n          style: this.styles.heading,\n          className: \"heading\"\n        }, React.createElement(\"h3\", {\n          className: \"title\",\n          style: this.styles.title\n        }, React.createElement(Translation, {\n          defaultValue: actionView.label,\n          i18nKey: actionView.i18nKeyLabel\n        }))), React.createElement(\"div\", {\n          className: \"controls\"\n        })), React.createElement(\"div\", {\n          style: this.styles.body,\n          className: \"admin-controls-content action-view-body\"\n        }, this.renderDetailComponent()));\n      }\n    }\n\n    return renderDetailView;\n  }();\n\n  _proto.renderActionView = function () {\n    function renderActionView() {\n      var baseClassName = classnames({\n        \"rui\": true,\n        \"admin\": true,\n        \"action-view-pane\": true,\n        \"action-view\": true,\n        \"open\": this.props.actionViewIsOpen\n      });\n\n      if (this.props.actionViewIsOpen) {\n        return React.createElement(\"div\", {\n          style: this.styles.base,\n          className: baseClassName,\n          role: \"complementary\"\n        }, this.renderMasterView(), React.createElement(Overlay, {\n          isVisible: this.showDetailViewOverlay,\n          onClick: this.props.handleActionViewDetailClose\n        }), React.createElement(VelocityTransitionGroup, {\n          enter: this.state.enterAnimationForDetailView,\n          leave: this.state.leaveAnimationForDetailView\n        }, this.renderDetailView()), React.createElement(\"div\", {\n          className: \"admin-controls-footer\"\n        }, React.createElement(\"div\", {\n          className: \"admin-controls-container\"\n        }, this.renderFooter())));\n      }\n\n      return null;\n    }\n\n    return renderActionView;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var isRtl = document.querySelector(\"html\").className === \"rtl\";\n      return React.createElement(\"div\", null, React.createElement(VelocityTransitionGroup, {\n        enter: isRtl ? this.state.rtlEnterAnimation : this.state.enterAnimation,\n        leave: isRtl ? this.state.rtlLeaveAnimation : this.state.leaveAnimation\n      }, this.renderActionView()), React.createElement(Overlay, {\n        isVisible: this.showOverlay,\n        onClick: this.props.handleActionViewClose\n      }));\n    }\n\n    return render;\n  }();\n\n  (0, _createClass2.default)(ActionView, [{\n    key: \"isMobile\",\n    get: function () {\n      return window.matchMedia(\"(max-width: 991px)\").matches;\n    }\n  }, {\n    key: \"actionViewIsLargeSize\",\n    get: function () {\n      var meta = this.props.actionView.meta;\n      var dashboardSize = meta && meta.actionView && meta.actionView.dashboardSize || \"sm\";\n      var includesDashboard = this.props.actionView.provides && this.props.actionView.provides.includes(\"dashboard\");\n      return includesDashboard || dashboardSize !== \"sm\";\n    }\n  }, {\n    key: \"showOverlay\",\n    get: function () {\n      if (this.props.actionViewIsOpen === false) {\n        return false;\n      }\n\n      return this.actionViewIsLargeSize || this.state.isMobile;\n    }\n  }, {\n    key: \"showDetailViewOverlay\",\n    get: function () {\n      return this.props.detailViewIsOpen && this.state.isMobile;\n    }\n  }, {\n    key: \"styles\",\n    get: function () {\n      return getStyles(this.props);\n    }\n  }, {\n    key: \"backButtonEnterAnimation\",\n    get: function () {\n      return {\n        animation: {\n          display: \"flex\",\n          position: \"absolute\",\n          left: 20,\n          opaticy: 1\n        },\n        duration: 200\n      };\n    }\n  }, {\n    key: \"backButtonLeaveAnimaton\",\n    get: function () {\n      return {\n        animation: {\n          display: \"flex\",\n          position: \"absolute\",\n          left: -30,\n          opaticy: 0\n        },\n        duration: 200\n      };\n    }\n  }]);\n  return ActionView;\n}(Component);\n\nActionView.propTypes = {\n  actionView: PropTypes.object,\n  actionViewIsOpen: PropTypes.bool,\n  buttons: PropTypes.array,\n  detailView: PropTypes.object,\n  detailViewIsOpen: PropTypes.bool,\n  handleActionViewBack: PropTypes.func,\n  handleActionViewClose: PropTypes.func,\n  handleActionViewDetailBack: PropTypes.func,\n  handleActionViewDetailClose: PropTypes.func,\n  isActionViewAtRootView: PropTypes.bool,\n  isDetailViewAtRootView: PropTypes.bool,\n  language: PropTypes.string,\n  viewportWidth: PropTypes.number\n};\nmodule.exportDefault(Admin()(Radium(ActionView)));","map":{"version":3,"sources":["imports/plugins/core/dashboard/client/components/actionView.js"],"names":["React","Component","module","watch","require","v","PropTypes","classnames","Blaze","Admin","Radium","VelocityTransitionGroup","debounce","IconButton","Translation","Overlay","getComponent","getStyles","props","minWidth","Math","min","viewportWidth","viewSize","viewMaxSize","actionView","provides","isBigView","includes","container","meta","isSmView","dashboardSize","isMdView","isLgView","actionViewIsOpen","base","width","maxWidth","header","display","alignItems","position","minHeight","height","padding","heading","flex","margin","body","overflow","WebkitOverflowScrolling","masterViewPanel","masterView","detailViewPanel","top","right","zIndex","detailView","backButton","backButtonContainers","ActionView","state","isMobile","enterAnimation","animation","translateX","duration","easing","leaveAnimation","rtlEnterAnimation","rtlLeaveAnimation","enterAnimationForDetailView","leaveAnimationForDetailView","handleResize","window","setState","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","renderControlComponent","template","component","styles","createElement","data","e","renderDetailComponent","renderFooter","renderBackButton","button","isActionViewAtRootView","handleActionViewBack","handleActionViewClose","renderDetailViewBackButton","isDetailViewAtRootView","handleActionViewDetailBack","handleActionViewDetailClose","renderMasterView","title","label","i18nKeyLabel","renderDetailView","baseClassName","detailViewIsOpen","backButtonEnterAnimation","backButtonLeaveAnimaton","renderActionView","showDetailViewOverlay","render","isRtl","document","querySelector","className","showOverlay","matchMedia","matches","includesDashboard","actionViewIsLargeSize","left","opaticy","propTypes","object","bool","buttons","array","func","language","string","number","exportDefault"],"mappings":";;;;;;;;AAAA,IAAIA,KAAJ,EAAUC,SAAV;AAAoBC,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,uBAASC,CAAT,EAAW;AAACL,YAAMK,CAAN;AAAQ,GAApB;AAAqBJ,WAArB,YAA+BI,CAA/B,EAAiC;AAACJ,gBAAUI,CAAV;AAAY;AAA9C,CAA9B,EAA8E,CAA9E;AAAiF,IAAIC,SAAJ;AAAcJ,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAACC,gBAAUD,CAAV;AAAY;AAAxB,CAAnC,EAA6D,CAA7D;AAAgE,IAAIE,UAAJ;AAAeL,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAACE,iBAAWF,CAAX;AAAa;AAAzB,CAAnC,EAA8D,CAA9D;AAAiE,IAAIG,KAAJ;AAAUN,OAAOC,KAAP,CAAaC,QAAQ,qCAAR,CAAb,EAA4D;AAAA,uBAASC,CAAT,EAAW;AAACG,YAAMH,CAAN;AAAQ;AAApB,CAA5D,EAAkF,CAAlF;AAAqF,IAAII,KAAJ;AAAUP,OAAOC,KAAP,CAAaC,QAAQ,8BAAR,CAAb,EAAqD;AAACK,OAAD,YAAOJ,CAAP,EAAS;AAACI,YAAMJ,CAAN;AAAQ;AAAlB,CAArD,EAAyE,CAAzE;AAA4E,IAAIK,MAAJ;AAAWR,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAAA,uBAASC,CAAT,EAAW;AAACK,aAAOL,CAAP;AAAS;AAArB,CAA/B,EAAsD,CAAtD;AAAyDH,OAAOC,KAAP,CAAaC,QAAQ,kBAAR,CAAb;AAA0CF,OAAOC,KAAP,CAAaC,QAAQ,8BAAR,CAAb;AAAsD,IAAIO,uBAAJ;AAA4BT,OAAOC,KAAP,CAAaC,QAAQ,gBAAR,CAAb,EAAuC;AAACO,yBAAD,YAAyBN,CAAzB,EAA2B;AAACM,8BAAwBN,CAAxB;AAA0B;AAAtD,CAAvC,EAA+F,CAA/F;AAAkG,IAAIO,QAAJ;AAAaV,OAAOC,KAAP,CAAaC,QAAQ,iBAAR,CAAb,EAAwC;AAAA,uBAASC,CAAT,EAAW;AAACO,eAASP,CAAT;AAAW;AAAvB,CAAxC,EAAiE,CAAjE;AAAoE,IAAIQ,UAAJ,EAAeC,WAAf,EAA2BC,OAA3B;AAAmCb,OAAOC,KAAP,CAAaC,QAAQ,+BAAR,CAAb,EAAsD;AAACS,YAAD,YAAYR,CAAZ,EAAc;AAACQ,iBAAWR,CAAX;AAAa,GAA5B;AAA6BS,aAA7B,YAAyCT,CAAzC,EAA2C;AAACS,kBAAYT,CAAZ;AAAc,GAA1D;AAA2DU,SAA3D,YAAmEV,CAAnE,EAAqE;AAACU,cAAQV,CAAR;AAAU;AAAhF,CAAtD,EAAwI,CAAxI;AAA2I,IAAIW,YAAJ;AAAiBd,OAAOC,KAAP,CAAaC,QAAQ,yBAAR,CAAb,EAAgD;AAACY,cAAD,YAAcX,CAAd,EAAgB;AAACW,mBAAaX,CAAb;AAAe;AAAhC,CAAhD,EAAkF,CAAlF;;AAkB1+B,IAAMY,YAAY,UAACC,KAAD,EAAW;AAC3B,MAAMC,WAAWC,KAAKC,GAAL,CAASH,MAAMI,aAAf,EAA8B,GAA9B,CAAjB;AACA,MAAIC,WAAWJ,QAAf;AACA,MAAIK,cAAc,OAAlB;AACA,MAAMC,aAAaP,MAAMO,UAAN,IAAoB,EAAvC;AACA,MAAMC,WAAWD,WAAWC,QAAX,IAAuB,EAAxC,CAL2B,CAM3B;AACA;;AACA,MAAMC,YAAYD,SAASE,QAAT,CAAkB,WAAlB,KACCF,SAASE,QAAT,CAAkB,UAAlB,KAAiCH,WAAWI,SAAX,KAAyB,WAD7E;;AAEA,MAAIF,SAAJ,EAAe;AACbJ,eAAW,MAAX;AACAC,kBAAc,MAAd;AACD;;AAED,MAAIC,WAAWK,IAAX,IAAmBL,WAAWK,IAAX,CAAgBL,UAAvC,EAAmD;AACjD,QAAMM,WAAWN,WAAWK,IAAX,CAAgBL,UAAhB,CAA2BO,aAA3B,KAA6C,IAA9D;AACA,QAAMC,WAAWR,WAAWK,IAAX,CAAgBL,UAAhB,CAA2BO,aAA3B,KAA6C,IAA9D;AACA,QAAME,WAAWT,WAAWK,IAAX,CAAgBL,UAAhB,CAA2BO,aAA3B,KAA6C,IAA9D;;AAEA,QAAID,QAAJ,EAAc;AACZR,iBAAcJ,QAAd;AACAK,oBAAiBL,QAAjB;AACD;;AACD,QAAIc,QAAJ,EAAc;AACZV,iBAAW,MAAX;AACAC,oBAAc,MAAd;AACD;;AACD,QAAIU,QAAJ,EAAc;AACZX,iBAAW,MAAX;AACAC,oBAAc,MAAd;AACD;AACF;;AAED,MAAIN,MAAMiB,gBAAN,KAA2B,KAA/B,EAAsC;AACpCZ,eAAW,GAAX;AACD;;AAED,SAAO;AACLa,UAAM;AACJ,iBAAW,MADP;AAEJ,uBAAiB,KAFb;AAGJ,gBAAU,OAHN;AAIJ,kBAAY,UAJR;AAKJ,eAASb,QALL;AAMJ,kBAAYC,WANR;AAOJ,mBAAaG,YAAY,yBAAZ,GAAwC,EAPjD;AAQJ,cAAQ,UARJ;AASJ,yBAAmB,OATf;AAUJ,kBAAY,QAVR;AAWJ,oBAAc,sDAXV;AAYJ,gBAAU,IAZN;AAaJ,mDAA6C;AAC3CU,eAAO,MADoC;AAE3CC,kBAAU;AAFiC,OAbzC;AAiBJ,mDAA6C;AAC3CA,kBAAU;AADiC;AAjBzC,KADD;AAsBLC,YAAQ;AACNC,eAAS,MADH;AAENC,kBAAY,QAFN;AAGNC,gBAAU,UAHJ;AAINC,iBAAW,MAJL;AAKNC,cAAQ,MALF;AAMNC,eAAS;AANH,KAtBH;AA8BLC,aAAS;AACPN,eAAS,MADF;AAEPC,kBAAY,QAFL;AAGPM,YAAM,UAHC;AAIPL,gBAAU,UAJH;AAKPM,cAAQ,YALD;AAMPJ,cAAQ;AAND,KA9BJ;AAsCLK,UAAM;AACJT,eAAS,MADL;AAEJO,YAAM,UAFF;AAGJG,gBAAU,MAHN;AAIJC,+BAAyB;AAJrB,KAtCD;AA4CLC,qBAAiB;AACf,iBAAW,MADI;AAEf,uBAAiB,QAFF;AAGf,cAAQ,UAHO;AAIf,kBAAY5B,WAJG;AAKf,mDAA6C;AAC3Ca,eAAO,OADoC;AAE3CC,kBAAU;AAFiC;AAL9B,KA5CZ;AAsDLe,gBAAY;AACVN,YAAM,UADI;AAEV;AACAG,gBAAU,MAHA,CAIV;;AAJU,KAtDP;AA4DLI,qBAAiB;AACf,iBAAW,MADI;AAEf,uBAAiB,QAFF;AAGf,cAAQ,UAHO;AAIf,kBAAY9B,WAJG;AAKf,gBAAU,OALK;AAMf,yBAAmB,OANJ;AAOf,qBAAe,gBAPA;AAQf,mDAA6C;AAC3CkB,kBAAU,UADiC;AAE3Ca,aAAK,CAFsC;AAG3CC,eAAO,CAHoC;AAI3CnB,eAAO,MAJoC;AAK3CoB,gBAAQ;AALmC;AAR9B,KA5DZ;AA4ELC,gBAAY;AACVrB,aAAO;AADG,KA5EP;AA+ELsB,gBAAY;AACVf,cAAQ;AADE,KA/EP;AAkFLgB,0BAAsB;AACpBpB,eAAS,MADW;AAEpBC,kBAAY,QAFQ;AAGpBG,cAAQ;AAHY;AAlFjB,GAAP;AAwFD,CA9HD;;IAgIMiB,U;;;;;AAiBJ,sBAAY3C,KAAZ,EAAmB;AAAA;;AACjB,kCAAMA,KAAN;AAEA,UAAK4C,KAAL,GAAa;AACXC,gBAAU,MAAKA,QADJ;AAEXC,sBAAgB;AACdC,mBAAW;AAAEC,sBAAY;AAAd,SADG;AAEdC,kBAAU,GAFI;AAGdC,gBAAQ;AAHM,OAFL;AAOXC,sBAAgB;AACdJ,mBAAW;AAAEC,sBAAY;AAAd,SADG;AAEdC,kBAAU,GAFI;AAGdC,gBAAQ;AAHM,OAPL;AAYXE,yBAAmB;AACjBL,mBAAW;AAAEC,sBAAY,CAAC,IAAD,EAAO,OAAP;AAAd,SADM;AAEjBC,kBAAU,GAFO;AAGjBC,gBAAQ;AAHS,OAZR;AAiBXG,yBAAmB;AACjBN,mBAAW;AAAEC,sBAAY;AAAd,SADM;AAEjBC,kBAAU,GAFO;AAGjBC,gBAAQ;AAHS,OAjBR;AAsBXI,mCAA6B;AAC3BP,mBAAW;AAAE5B,iBAAO;AAAT,SADgB;AAE3B8B,kBAAU,GAFiB;AAG3BC,gBAAQ;AAHmB,OAtBlB;AA2BXK,mCAA6B;AAC3BR,mBAAW;AAAE5B,iBAAO;AAAT,SADgB;AAE3B8B,kBAAU,GAFiB;AAG3BC,gBAAQ;AAHmB;AA3BlB,KAAb;AAkCA,UAAKM,YAAL,GAAoB9D,SAAS,YAAM;AACjC,UAAI+D,MAAJ,EAAY;AACV,cAAKC,QAAL,CAAc;AACZb,oBAAU,MAAKA;AADH,SAAd;AAGD;AACF,KANmB,EAMjB,EANiB,CAApB;AArCiB;AA4ClB;;;;SAEDc,iB;iCAAoB;AAClB,UAAIF,MAAJ,EAAY;AACVA,eAAOG,gBAAP,CAAwB,QAAxB,EAAkC,KAAKJ,YAAvC,EAAqD,KAArD;AACD;AACF;;;;;SAEDK,oB;oCAAuB;AACrB,UAAIJ,MAAJ,EAAY;AACVA,eAAOK,mBAAP,CAA2B,QAA3B,EAAqC,KAAKN,YAA1C;AACD;AACF;;;;;SAEDO,sB;sCAAyB;AACvB,UAAI,KAAK/D,KAAL,CAAWO,UAAX,IAAyB,OAAO,KAAKP,KAAL,CAAWO,UAAX,CAAsByD,QAA7B,KAA0C,QAAvE,EAAiF;AAC/E;AACA,YAAI;AACF,cAAMC,YAAYnE,aAAa,KAAKE,KAAL,CAAWO,UAAX,CAAsByD,QAAnC,CAAlB;AAEA,iBACE;AAAK,mBAAO,KAAKE,MAAL,CAAY/B,UAAxB;AAAoC,uBAAU;AAA9C,aACGrD,MAAMqF,aAAN,CAAoBF,SAApB,EAA+B,KAAKjE,KAAL,CAAWO,UAAX,CAAsB6D,IAArD,CADH,CADF;AAKD,SARD,CAQE,OAAOC,CAAP,EAAU;AACV,iBACE;AAAK,mBAAO,KAAKH,MAAL,CAAY/B,UAAxB;AAAoC,uBAAU;AAA9C,aACE,oBAAC,KAAD,6BACM,KAAKnC,KAAL,CAAWO,UAAX,CAAsB6D,IAD5B;AAEE,sBAAU,KAAKpE,KAAL,CAAWO,UAAX,CAAsByD;AAFlC,aADF,CADF;AAQD;AACF;;AAED,aAAO,IAAP;AACD;;;;;SAEDM,qB;qCAAwB;AACtB,UAAI,KAAKtE,KAAL,CAAWwC,UAAX,IAAyB,OAAO,KAAKxC,KAAL,CAAWwC,UAAX,CAAsBwB,QAA7B,KAA0C,QAAvE,EAAiF;AAC/E,eACE;AAAK,iBAAO,KAAKE,MAAL,CAAY1B,UAAxB;AAAoC,qBAAU;AAA9C,WACE,oBAAC,KAAD,6BACM,KAAKxC,KAAL,CAAWwC,UAAX,CAAsB4B,IAD5B;AAEE,oBAAU,KAAKpE,KAAL,CAAWwC,UAAX,CAAsBwB;AAFlC,WADF,CADF;AAQD;;AAED,aAAO,IAAP;AACD;;;;;SAEDO,Y;4BAAe,CACb;AACA;AACA;AACA;AACA;AACD;;;;;SAEDC,gB;gCAAmB;AACjB,UAAIC,MAAJ;;AAEA,UAAI,KAAKzE,KAAL,CAAW0E,sBAAX,KAAsC,KAA1C,EAAiD;AAC/CD,iBACE,oBAAC,UAAD;AACE,sBAAY,MADd;AAEE,gBAAK,kBAFP;AAGE,mBAAS,KAAKzE,KAAL,CAAW2E;AAHtB,UADF;AAOD,OARD,MAQO;AACLF,iBACE,oBAAC,UAAD;AACE,sBAAY,MADd;AAEE,gBAAK,aAFP;AAGE,mBAAS,KAAKzE,KAAL,CAAW4E;AAHtB,UADF;AAOD;;AAED,aACE;AAAK,eAAO,KAAKV,MAAL,CAAYzB;AAAxB,SACE;AAAK,eAAO,KAAKyB,MAAL,CAAYxB;AAAxB,SACG+B,MADH,CADF,CADF;AAOD;;;;;SA0BDI,0B;0CAA6B;AAC3B,UAAI,KAAK7E,KAAL,CAAW8E,sBAAX,KAAsC,KAA1C,EAAiD;AAC/C,eACE;AAAK,iBAAO,KAAKZ,MAAL,CAAYzB;AAAxB,WACE;AAAK,iBAAO,KAAKyB,MAAL,CAAYxB;AAAxB,WACE,oBAAC,UAAD;AACE,sBAAY,MADd;AAEE,gBAAK,kBAFP;AAGE,mBAAS,KAAK1C,KAAL,CAAW+E;AAHtB,UADF,CADF,CADF;AAWD;;AAED,aACE,oBAAC,UAAD;AACE,oBAAY,MADd;AAEE,cAAK,aAFP;AAGE,iBAAS,KAAK/E,KAAL,CAAWgF;AAHtB,QADF;AAOD;;;;;SA+BDC,gB;gCAAmB;AAAA,UACT1E,UADS,GACM,KAAKP,KADX,CACTO,UADS;AAGjB,aACE;AAAK,eAAO,KAAK2D,MAAL,CAAYhC;AAAxB,SACE;AAAK,eAAO,KAAKgC,MAAL,CAAY7C,MAAxB;AAAgC,mBAAU;AAA1C,SACG,KAAKmD,gBAAL,EADH,EAEE;AAAK,eAAO,KAAKN,MAAL,CAAYtC,OAAxB;AAAiC,mBAAU;AAA3C,SACE;AAAI,mBAAU,OAAd;AAAsB,eAAO,KAAKsC,MAAL,CAAYgB;AAAzC,SACE,oBAAC,WAAD;AACE,sBAAc3E,WAAW4E,KAAX,IAAoB,WADpC;AAEE,iBAAS5E,WAAW6E,YAAX,IAA2B;AAFtC,QADF,CADF,CAFF,EAWE;AAAK,mBAAU;AAAf,QAXF,CADF,EAgBE;AAAK,eAAO,KAAKlB,MAAL,CAAYnC,IAAxB;AAA8B,mBAAU;AAAxC,SAEG,KAAKgC,sBAAL,EAFH,CAhBF,CADF;AAyBD;;;;;SAEDsB,gB;gCAAmB;AAAA,UACT9E,UADS,GACM,KAAKP,KADX,CACTO,UADS;AAGjB,UAAM+E,gBAAgBjG,WAAW;AAC/B,eAAO,IADwB;AAE/B,iBAAS,IAFsB;AAG/B,4BAAoB,IAHW;AAI/B,8BAAsB;AAJS,OAAX,CAAtB;;AAOA,UAAI,KAAKW,KAAL,CAAWuF,gBAAf,EAAiC;AAC/B,eACE;AAAK,qBAAWD,aAAhB;AAA+B,iBAAO,KAAKpB,MAAL,CAAY9B;AAAlD,WACE;AAAK,iBAAO,KAAK8B,MAAL,CAAY7C,MAAxB;AAAgC,qBAAU;AAA1C,WACE,oBAAC,uBAAD;AACE,iBAAO,KAAKmE,wBADd;AAEE,iBAAO,KAAKC;AAFd,WAIG,KAAKZ,0BAAL,EAJH,CADF,EAQE;AAAK,iBAAO,KAAKX,MAAL,CAAYtC,OAAxB;AAAiC,qBAAU;AAA3C,WACE;AAAI,qBAAU,OAAd;AAAsB,iBAAO,KAAKsC,MAAL,CAAYgB;AAAzC,WACE,oBAAC,WAAD;AACE,wBAAc3E,WAAW4E,KAD3B;AAEE,mBAAS5E,WAAW6E;AAFtB,UADF,CADF,CARF,EAiBE;AAAK,qBAAU;AAAf,UAjBF,CADF,EAsBE;AAAK,iBAAO,KAAKlB,MAAL,CAAYnC,IAAxB;AAA8B,qBAAU;AAAxC,WAGG,KAAKuC,qBAAL,EAHH,CAtBF,CADF;AA+BD;AACF;;;;;SAEDoB,gB;gCAAmB;AACjB,UAAMJ,gBAAgBjG,WAAW;AAC/B,eAAO,IADwB;AAE/B,iBAAS,IAFsB;AAG/B,4BAAoB,IAHW;AAI/B,uBAAe,IAJgB;AAK/B,gBAAQ,KAAKW,KAAL,CAAWiB;AALY,OAAX,CAAtB;;AAQA,UAAI,KAAKjB,KAAL,CAAWiB,gBAAf,EAAiC;AAC/B,eACE;AAAK,iBAAO,KAAKiD,MAAL,CAAYhD,IAAxB;AAA8B,qBAAWoE,aAAzC;AAAwD,gBAAK;AAA7D,WAEG,KAAKL,gBAAL,EAFH,EAGE,oBAAC,OAAD;AACE,qBAAW,KAAKU,qBADlB;AAEE,mBAAS,KAAK3F,KAAL,CAAWgF;AAFtB,UAHF,EAOE,oBAAC,uBAAD;AACE,iBAAO,KAAKpC,KAAL,CAAWU,2BADpB;AAEE,iBAAO,KAAKV,KAAL,CAAWW;AAFpB,WAIG,KAAK8B,gBAAL,EAJH,CAPF,EAeE;AAAK,qBAAU;AAAf,WACE;AAAK,qBAAU;AAAf,WACG,KAAKd,YAAL,EADH,CADF,CAfF,CADF;AAuBD;;AAED,aAAO,IAAP;AACD;;;;;SAEDqB,M;sBAAS;AACP,UAAMC,QAAQC,SAASC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,KAA6C,KAA3D;AACA,aACE,iCACE,oBAAC,uBAAD;AACE,eAAOH,QAAQ,KAAKjD,KAAL,CAAWQ,iBAAnB,GAAuC,KAAKR,KAAL,CAAWE,cAD3D;AAEE,eAAO+C,QAAQ,KAAKjD,KAAL,CAAWS,iBAAnB,GAAuC,KAAKT,KAAL,CAAWO;AAF3D,SAIG,KAAKuC,gBAAL,EAJH,CADF,EAQE,oBAAC,OAAD;AACE,mBAAW,KAAKO,WADlB;AAEE,iBAAS,KAAKjG,KAAL,CAAW4E;AAFtB,QARF,CADF;AAeD;;;;;;;qBA/Mc;AACb,aAAOnB,OAAOyC,UAAP,CAAkB,oBAAlB,EAAwCC,OAA/C;AACD;;;qBAE2B;AAAA,UAClBvF,IADkB,GACT,KAAKZ,KAAL,CAAWO,UADF,CAClBK,IADkB;AAE1B,UAAME,gBAAiBF,QAAQA,KAAKL,UAAb,IAA2BK,KAAKL,UAAL,CAAgBO,aAA5C,IAA8D,IAApF;AACA,UAAMsF,oBAAoB,KAAKpG,KAAL,CAAWO,UAAX,CAAsBC,QAAtB,IAAkC,KAAKR,KAAL,CAAWO,UAAX,CAAsBC,QAAtB,CAA+BE,QAA/B,CAAwC,WAAxC,CAA5D;AAEA,aAAO0F,qBAAqBtF,kBAAkB,IAA9C;AACD;;;qBAEiB;AAChB,UAAI,KAAKd,KAAL,CAAWiB,gBAAX,KAAgC,KAApC,EAA2C;AACzC,eAAO,KAAP;AACD;;AAED,aAAO,KAAKoF,qBAAL,IAA8B,KAAKzD,KAAL,CAAWC,QAAhD;AACD;;;qBAE2B;AAC1B,aAAO,KAAK7C,KAAL,CAAWuF,gBAAX,IAA+B,KAAK3C,KAAL,CAAWC,QAAjD;AACD;;;qBA0BY;AACX,aAAO9C,UAAU,KAAKC,KAAf,CAAP;AACD;;;qBAE8B;AAC7B,aAAO;AACL+C,mBAAW;AACTzB,mBAAS,MADA;AAETE,oBAAU,UAFD;AAGT8E,gBAAM,EAHG;AAITC,mBAAS;AAJA,SADN;AAOLtD,kBAAU;AAPL,OAAP;AASD;;;qBAE6B;AAC5B,aAAO;AACLF,mBAAW;AACTzB,mBAAS,MADA;AAETE,oBAAU,UAFD;AAGT8E,gBAAM,CAAC,EAHE;AAITC,mBAAS;AAJA,SADN;AAOLtD,kBAAU;AAPL,OAAP;AAUD;;;EArOsBlE,S;;AAAnB4D,U,CACG6D,S,GAAY;AACjBjG,cAAYnB,UAAUqH,MADL;AAEjBxF,oBAAkB7B,UAAUsH,IAFX;AAGjBC,WAASvH,UAAUwH,KAHF;AAIjBpE,cAAYpD,UAAUqH,MAJL;AAKjBlB,oBAAkBnG,UAAUsH,IALX;AAMjB/B,wBAAsBvF,UAAUyH,IANf;AAOjBjC,yBAAuBxF,UAAUyH,IAPhB;AAQjB9B,8BAA4B3F,UAAUyH,IARrB;AASjB7B,+BAA6B5F,UAAUyH,IATtB;AAUjBnC,0BAAwBtF,UAAUsH,IAVjB;AAWjB5B,0BAAwB1F,UAAUsH,IAXjB;AAYjBI,YAAU1H,UAAU2H,MAZH;AAajB3G,iBAAehB,UAAU4H;AAbR,C;AAnJrBhI,OAAOiI,aAAP,CA8fe1H,QAAQC,OAAOmD,UAAP,CAAR,CA9ff","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport Blaze from \"meteor/gadicc:blaze-react-component\";\nimport { Admin } from \"/imports/plugins/core/ui/client/providers\";\nimport Radium from \"radium\";\nimport \"velocity-animate\";\nimport \"velocity-animate/velocity.ui\";\nimport { VelocityTransitionGroup } from \"velocity-react\";\nimport debounce from \"lodash/debounce\";\nimport {\n  IconButton,\n  Translation,\n  Overlay\n} from \"/imports/plugins/core/ui/client/components\";\nimport { getComponent } from \"@reactioncommerce/reaction-components\";\n\n\nconst getStyles = (props) => {\n  const minWidth = Math.min(props.viewportWidth, 400);\n  let viewSize = minWidth;\n  let viewMaxSize = \"400px\";\n  const actionView = props.actionView || {};\n  const provides = actionView.provides || [];\n  // legacy provides could be a string, is an array since 1.5.0, check for either.\n  // prototype.includes has the fortunate side affect of checking string equality as well as array inclusion.\n  const isBigView = provides.includes(\"dashboard\") ||\n                    (provides.includes(\"shortcut\") && actionView.container === \"dashboard\");\n  if (isBigView) {\n    viewSize = \"90vw\";\n    viewMaxSize = \"100%\";\n  }\n\n  if (actionView.meta && actionView.meta.actionView) {\n    const isSmView = actionView.meta.actionView.dashboardSize === \"sm\";\n    const isMdView = actionView.meta.actionView.dashboardSize === \"md\";\n    const isLgView = actionView.meta.actionView.dashboardSize === \"lg\";\n\n    if (isSmView) {\n      viewSize = `${minWidth}px`;\n      viewMaxSize = `${minWidth}px`;\n    }\n    if (isMdView) {\n      viewSize = \"50vw\";\n      viewMaxSize = \"50vw\";\n    }\n    if (isLgView) {\n      viewSize = \"90vw\";\n      viewMaxSize = \"90vw\";\n    }\n  }\n\n  if (props.actionViewIsOpen === false) {\n    viewSize = 400;\n  }\n\n  return {\n    base: {\n      \"display\": \"flex\",\n      \"flexDirection\": \"row\",\n      \"height\": \"100vh\",\n      \"position\": \"relative\",\n      \"width\": viewSize,\n      \"maxWidth\": viewMaxSize,\n      \"boxShadow\": isBigView ? \"0 0 40px rgba(0,0,0,.1)\" : \"\",\n      \"flex\": \"0 0 auto\",\n      \"backgroundColor\": \"white\",\n      \"overflow\": \"hidden\",\n      \"transition\": \"width 300ms cubic-bezier(0.455, 0.03, 0.515, 0.955))\",\n      \"zIndex\": 1050,\n      \"@media only screen and (max-width: 949px)\": {\n        width: \"auto\",\n        maxWidth: \"100%\"\n      },\n      \"@media only screen and (max-width: 767px)\": {\n        maxWidth: \"100%\"\n      }\n    },\n    header: {\n      display: \"flex\",\n      alignItems: \"center\",\n      position: \"relative\",\n      minHeight: \"56px\",\n      height: \"56px\",\n      padding: \"0 20px\"\n    },\n    heading: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flex: \"1 1 auto\",\n      position: \"relative\",\n      margin: \"0 0 0 1rem\",\n      height: \"100%\"\n    },\n    body: {\n      display: \"flex\",\n      flex: \"1 1 auto\",\n      overflow: \"auto\",\n      WebkitOverflowScrolling: \"touch\"\n    },\n    masterViewPanel: {\n      \"display\": \"flex\",\n      \"flexDirection\": \"column\",\n      \"flex\": \"1 1 auto\",\n      \"maxWidth\": viewMaxSize,\n      \"@media only screen and (max-width: 949px)\": {\n        width: \"100vw\",\n        maxWidth: \"100%\"\n      }\n    },\n    masterView: {\n      flex: \"1 1 auto\",\n      // height: \"100%\",\n      overflow: \"auto\"\n      // WebkitOverflowScrolling: \"touch\"\n    },\n    detailViewPanel: {\n      \"display\": \"flex\",\n      \"flexDirection\": \"column\",\n      \"flex\": \"1 1 auto\",\n      \"maxWidth\": viewMaxSize,\n      \"height\": \"100vh\",\n      \"backgroundColor\": \"white\",\n      \"borderRight\": \"1px solid #ccc\",\n      \"@media only screen and (max-width: 949px)\": {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        width: \"96vw\",\n        zIndex: 1050\n      }\n    },\n    detailView: {\n      width: \"100%\"\n    },\n    backButton: {\n      height: \"100%\"\n    },\n    backButtonContainers: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"100%\"\n    }\n  };\n};\n\nclass ActionView extends Component {\n  static propTypes = {\n    actionView: PropTypes.object,\n    actionViewIsOpen: PropTypes.bool,\n    buttons: PropTypes.array,\n    detailView: PropTypes.object,\n    detailViewIsOpen: PropTypes.bool,\n    handleActionViewBack: PropTypes.func,\n    handleActionViewClose: PropTypes.func,\n    handleActionViewDetailBack: PropTypes.func,\n    handleActionViewDetailClose: PropTypes.func,\n    isActionViewAtRootView: PropTypes.bool,\n    isDetailViewAtRootView: PropTypes.bool,\n    language: PropTypes.string,\n    viewportWidth: PropTypes.number\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isMobile: this.isMobile,\n      enterAnimation: {\n        animation: { translateX: 0 },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      leaveAnimation: {\n        animation: { translateX: 400 },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      rtlEnterAnimation: {\n        animation: { translateX: [\"0%\", \"-100%\"] },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      rtlLeaveAnimation: {\n        animation: { translateX: \"-100%\" },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      enterAnimationForDetailView: {\n        animation: { width: 400 },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      },\n      leaveAnimationForDetailView: {\n        animation: { width: 0 },\n        duration: 200,\n        easing: \"easeInOutQuad\"\n      }\n    };\n\n    this.handleResize = debounce(() => {\n      if (window) {\n        this.setState({\n          isMobile: this.isMobile\n        });\n      }\n    }, 66);\n  }\n\n  componentDidMount() {\n    if (window) {\n      window.addEventListener(\"resize\", this.handleResize, false);\n    }\n  }\n\n  componentWillUnmount() {\n    if (window) {\n      window.removeEventListener(\"resize\", this.handleResize);\n    }\n  }\n\n  renderControlComponent() {\n    if (this.props.actionView && typeof this.props.actionView.template === \"string\") {\n      // Render a react component if one has been registered by name\n      try {\n        const component = getComponent(this.props.actionView.template);\n\n        return (\n          <div style={this.styles.masterView} className=\"master\">\n            {React.createElement(component, this.props.actionView.data)}\n          </div>\n        );\n      } catch (e) {\n        return (\n          <div style={this.styles.masterView} className=\"master\">\n            <Blaze\n              {...this.props.actionView.data}\n              template={this.props.actionView.template}\n            />\n          </div>\n        );\n      }\n    }\n\n    return null;\n  }\n\n  renderDetailComponent() {\n    if (this.props.detailView && typeof this.props.detailView.template === \"string\") {\n      return (\n        <div style={this.styles.detailView} className=\"detail\">\n          <Blaze\n            {...this.props.detailView.data}\n            template={this.props.detailView.template}\n          />\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  renderFooter() {\n    // if (this.props.footerTemplate) {\n    //   return (\n    //     <Blaze template={this.props.footerTemplate} />\n    //   );\n    // }\n  }\n\n  renderBackButton() {\n    let button;\n\n    if (this.props.isActionViewAtRootView === false) {\n      button = (\n        <IconButton\n          bezelStyle={\"flat\"}\n          icon=\"fa fa-arrow-left\"\n          onClick={this.props.handleActionViewBack}\n        />\n      );\n    } else {\n      button = (\n        <IconButton\n          bezelStyle={\"flat\"}\n          icon=\"fa fa-times\"\n          onClick={this.props.handleActionViewClose}\n        />\n      );\n    }\n\n    return (\n      <div style={this.styles.backButton}>\n        <div style={this.styles.backButtonContainers}>\n          {button}\n        </div>\n      </div>\n    );\n  }\n\n  get isMobile() {\n    return window.matchMedia(\"(max-width: 991px)\").matches;\n  }\n\n  get actionViewIsLargeSize() {\n    const { meta } = this.props.actionView;\n    const dashboardSize = (meta && meta.actionView && meta.actionView.dashboardSize) || \"sm\";\n    const includesDashboard = this.props.actionView.provides && this.props.actionView.provides.includes(\"dashboard\");\n\n    return includesDashboard || dashboardSize !== \"sm\";\n  }\n\n  get showOverlay() {\n    if (this.props.actionViewIsOpen === false) {\n      return false;\n    }\n\n    return this.actionViewIsLargeSize || this.state.isMobile;\n  }\n\n  get showDetailViewOverlay() {\n    return this.props.detailViewIsOpen && this.state.isMobile;\n  }\n\n  renderDetailViewBackButton() {\n    if (this.props.isDetailViewAtRootView === false) {\n      return (\n        <div style={this.styles.backButton}>\n          <div style={this.styles.backButtonContainers}>\n            <IconButton\n              bezelStyle={\"flat\"}\n              icon=\"fa fa-arrow-left\"\n              onClick={this.props.handleActionViewDetailBack}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <IconButton\n        bezelStyle={\"flat\"}\n        icon=\"fa fa-times\"\n        onClick={this.props.handleActionViewDetailClose}\n      />\n    );\n  }\n\n  get styles() {\n    return getStyles(this.props);\n  }\n\n  get backButtonEnterAnimation() {\n    return {\n      animation: {\n        display: \"flex\",\n        position: \"absolute\",\n        left: 20,\n        opaticy: 1\n      },\n      duration: 200\n    };\n  }\n\n  get backButtonLeaveAnimaton() {\n    return {\n      animation: {\n        display: \"flex\",\n        position: \"absolute\",\n        left: -30,\n        opaticy: 0\n      },\n      duration: 200\n\n    };\n  }\n\n  renderMasterView() {\n    const { actionView } = this.props;\n\n    return (\n      <div style={this.styles.masterViewPanel}>\n        <div style={this.styles.header} className=\"header\">\n          {this.renderBackButton()}\n          <div style={this.styles.heading} className=\"heading\">\n            <h3 className=\"title\" style={this.styles.title}>\n              <Translation\n                defaultValue={actionView.label || \"Dashboard\"}\n                i18nKey={actionView.i18nKeyLabel || \"admin.dashboard.coreTitle\"}\n              />\n            </h3>\n          </div>\n\n          <div className=\"controls»\">\n            {/* Controls */}\n          </div>\n        </div>\n        <div style={this.styles.body} className=\"admin-controls-content action-view-body\">\n\n          {this.renderControlComponent()}\n\n        </div>\n      </div>\n\n    );\n  }\n\n  renderDetailView() {\n    const { actionView } = this.props;\n\n    const baseClassName = classnames({\n      \"rui\": true,\n      \"admin\": true,\n      \"action-view-pane\": true,\n      \"action-view-detail\": true\n    });\n\n    if (this.props.detailViewIsOpen) {\n      return (\n        <div className={baseClassName} style={this.styles.detailViewPanel}>\n          <div style={this.styles.header} className=\"header\">\n            <VelocityTransitionGroup\n              enter={this.backButtonEnterAnimation}\n              leave={this.backButtonLeaveAnimaton}\n            >\n              {this.renderDetailViewBackButton()}\n            </VelocityTransitionGroup>\n\n            <div style={this.styles.heading} className=\"heading\">\n              <h3 className=\"title\" style={this.styles.title}>\n                <Translation\n                  defaultValue={actionView.label}\n                  i18nKey={actionView.i18nKeyLabel}\n                />\n              </h3>\n            </div>\n\n            <div className=\"controls\">\n              {/* Controls */}\n            </div>\n          </div>\n          <div style={this.styles.body} className=\"admin-controls-content action-view-body\">\n\n            {/* this.renderControlComponent() */}\n            {this.renderDetailComponent()}\n          </div>\n        </div>\n\n      );\n    }\n  }\n\n  renderActionView() {\n    const baseClassName = classnames({\n      \"rui\": true,\n      \"admin\": true,\n      \"action-view-pane\": true,\n      \"action-view\": true,\n      \"open\": this.props.actionViewIsOpen\n    });\n\n    if (this.props.actionViewIsOpen) {\n      return (\n        <div style={this.styles.base} className={baseClassName} role=\"complementary\">\n\n          {this.renderMasterView()}\n          <Overlay\n            isVisible={this.showDetailViewOverlay}\n            onClick={this.props.handleActionViewDetailClose}\n          />\n          <VelocityTransitionGroup\n            enter={this.state.enterAnimationForDetailView}\n            leave={this.state.leaveAnimationForDetailView}\n          >\n            {this.renderDetailView()}\n          </VelocityTransitionGroup>\n\n\n          <div className=\"admin-controls-footer\">\n            <div className=\"admin-controls-container\">\n              {this.renderFooter()}\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const isRtl = document.querySelector(\"html\").className === \"rtl\";\n    return (\n      <div>\n        <VelocityTransitionGroup\n          enter={isRtl ? this.state.rtlEnterAnimation : this.state.enterAnimation}\n          leave={isRtl ? this.state.rtlLeaveAnimation : this.state.leaveAnimation}\n        >\n          {this.renderActionView()}\n        </VelocityTransitionGroup>\n\n        <Overlay\n          isVisible={this.showOverlay}\n          onClick={this.props.handleActionViewClose}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Admin()(Radium(ActionView));\n"]},"sourceType":"script","hash":"e0090b0577e2adf3f180d3c722be468c8d8b092c"}
