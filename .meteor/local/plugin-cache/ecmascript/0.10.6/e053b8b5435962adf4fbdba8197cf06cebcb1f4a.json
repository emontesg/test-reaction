{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"lib/collections/schemas/shops.js","filename":"lib/collections/schemas/shops.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"lib/collections/schemas/shops.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"lib/collections/schemas/shops.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"lib/collections/schemas/shops.js"}},"code":"module.export({\n  CustomEmailSettings: function () {\n    return CustomEmailSettings;\n  },\n  Currency: function () {\n    return Currency;\n  },\n  Locale: function () {\n    return Locale;\n  },\n  Languages: function () {\n    return Languages;\n  },\n  ShopTheme: function () {\n    return ShopTheme;\n  },\n  BrandAsset: function () {\n    return BrandAsset;\n  },\n  Shop: function () {\n    return Shop;\n  }\n});\nvar SimpleSchema;\nmodule.watch(require(\"simpl-schema\"), {\n  \"default\": function (v) {\n    SimpleSchema = v;\n  }\n}, 0);\nvar check;\nmodule.watch(require(\"meteor/check\"), {\n  check: function (v) {\n    check = v;\n  }\n}, 1);\nvar Tracker;\nmodule.watch(require(\"meteor/tracker\"), {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 2);\nvar registerSchema;\nmodule.watch(require(\"@reactioncommerce/schemas\"), {\n  registerSchema: function (v) {\n    registerSchema = v;\n  }\n}, 3);\nvar getSlug;\nmodule.watch(require(\"../../api\"), {\n  getSlug: function (v) {\n    getSlug = v;\n  }\n}, 4);\nvar Email;\nmodule.watch(require(\"./accounts\"), {\n  Email: function (v) {\n    Email = v;\n  }\n}, 5);\nvar Address;\nmodule.watch(require(\"./address\"), {\n  Address: function (v) {\n    Address = v;\n  }\n}, 6);\nvar createdAtAutoValue, updatedAtAutoValue;\nmodule.watch(require(\"./helpers\"), {\n  createdAtAutoValue: function (v) {\n    createdAtAutoValue = v;\n  },\n  updatedAtAutoValue: function (v) {\n    updatedAtAutoValue = v;\n  }\n}, 7);\nvar Layout;\nmodule.watch(require(\"./layouts\"), {\n  Layout: function (v) {\n    Layout = v;\n  }\n}, 8);\nvar Metafield;\nmodule.watch(require(\"./metafield\"), {\n  Metafield: function (v) {\n    Metafield = v;\n  }\n}, 9);\nvar Workflow;\nmodule.watch(require(\"./workflow\"), {\n  Workflow: function (v) {\n    Workflow = v;\n  }\n}, 10);\nvar CustomEmailSettings = new SimpleSchema({\n  service: {\n    type: String,\n    optional: true\n  },\n  username: {\n    type: String,\n    optional: true\n  },\n  password: {\n    type: String,\n    optional: true\n  },\n  host: {\n    type: String,\n    optional: true\n  },\n  port: {\n    type: SimpleSchema.Integer,\n    optional: true\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"CustomEmailSettings\", CustomEmailSettings);\n/**\n * @name Currency\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} symbol default value: `$`\n * @property {String} format default value: `%s%v`\n * @property {Number} scale optional, default value: `2`\n * @property {String} decimal optional, default value: `.`\n * @property {String} thousand optional, default value: `,`\n * @property {Number} rate optional\n */\n\nvar Currency = new SimpleSchema({\n  symbol: {\n    type: String,\n    defaultValue: \"$\"\n  },\n  format: {\n    type: String,\n    defaultValue: \"%s%v\"\n  },\n  scale: {\n    type: SimpleSchema.Integer,\n    defaultValue: 2,\n    optional: true\n  },\n  decimal: {\n    type: String,\n    defaultValue: \".\",\n    optional: true\n  },\n  thousand: {\n    type: String,\n    defaultValue: \",\",\n    optional: true\n  },\n  rate: {\n    type: Number,\n    optional: true\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"Currency\", Currency);\n/**\n * @name Locale\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {Object} continents blackbox\n * @property {Object} countries blackbox\n */\n\nvar Locale = new SimpleSchema({\n  continents: {\n    type: Object,\n    blackbox: true\n  },\n  countries: {\n    type: Object,\n    blackbox: true\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"Locale\", Locale);\n/**\n * @name Languages\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} label required\n * @property {String} i18n required\n * @property {Boolean} enabled, default value: `true`\n */\n\nvar Languages = new SimpleSchema({\n  label: {\n    type: String\n  },\n  i18n: {\n    type: String\n  },\n  enabled: {\n    type: Boolean,\n    defaultValue: true\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"Languages\", Languages);\n/**\n * @name ShopTheme\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} themeId required\n * @property {String} styles optional\n */\n\nvar ShopTheme = new SimpleSchema({\n  themeId: {\n    type: String\n  },\n  styles: {\n    type: String,\n    optional: true\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"ShopTheme\", ShopTheme);\n/**\n * @name BrandAsset\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} mediaId optional\n * @property {String} type optional\n */\n\nvar BrandAsset = new SimpleSchema({\n  mediaId: {\n    type: String,\n    optional: true\n  },\n  type: {\n    type: String,\n    optional: true\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"BrandAsset\", BrandAsset);\n/**\n * @name MerchantShop\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} _id Shop label\n * @property {String} slug Shop slug\n * @property {String} name Shop name\n */\n\nvar MerchantShop = new SimpleSchema({\n  _id: {\n    type: String,\n    label: \"Shop Label\"\n  },\n  slug: {\n    type: String,\n    label: \"Shop Slug\"\n  },\n  name: {\n    type: String,\n    label: \"Shop Name\"\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"MerchantShop\", MerchantShop);\n/**\n * @name Shop\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} _id optional\n * @property {String} slug optional, auto-generated\n * @property {MerchantShop[]} merchantShops optional\n * @property {String} shopType required, default value: `merchant`, accepted values: `primary`, `merchant`, `affiliate`\n * @property {Boolean} active required, default value: ` true`\n * @property {String} status default value: `active`\n * @property {String} name\n * @property {String} description optional\n * @property {String} keywords optional\n * @property {Address[]} addressBook optional\n * @property {String[]} domains default value: `[localhost]`\n * @property {Email[]} emails optional\n * @property {String} defaultPaymentMethod required, default value: `none`\n * @property {String} currency default value: `USD`\n * @property {Object} currencies optional, blackbox, `Currency` schema\n * @property {Locale} locales required\n * @property {String} language default value: `en`\n * @property {Languages[]} languages optional\n * @property {String} public optional\n * @property {String} timezone default value: `US/Pacific`\n * @property {String} baseUOL Base UOL (Unit of Length), default value: `in`, lowercased by default per style\n * @property {Object[]} unitsOfLength optional, default value: `in`\n * @property {String} unitsOfLength.$.uol  default value: `in`\n * @property {String} unitsOfLength.$.label default value: `Inches`\n * @property {Boolean} unitsOfLength.$.default default value: `false`\n * @property {String} baseUOM Base UOM (Unit of Measure), default value: `oz`, lowercased by default per style\n * @property {Object[]} unitsOfMeasure optional\n * @property {String} unitsOfMeasure.$.uom default value: `oz`\n * @property {String} unitsOfMeasure.$.label default value: `Ounces`\n * @property {Boolean} unitsOfMeasure.$.default default value: `false`\n * @property {Metafield[]} metafields optional\n * @property {String[]} defaultSellerRoles default values: `[\"owner\", \"admin\", \"seller\", \"guest\", \"manage-users\", \"orders\", \"account/profile\", \"product\", \"createProduct\", \"tag\", \"index\", \"cart/checkout\", \"cart/completed\"]`\n * @property {Layout[]} layout optional\n * @property {ShopTheme} theme optional\n * @property {BrandAsset[]} brandAssets optional\n * @property {String} appVersion optional\n * @property {Date} createdAt optional\n * @property {Date} updatedAt optional\n * @property {Object[]} paymentMethods blackbox, default value: `[]`\n * @property {Workflow} workflow optional\n */\n\nvar Shop = new SimpleSchema({\n  \"_id\": {\n    type: String,\n    optional: true\n  },\n  \"slug\": {\n    type: String,\n    optional: true,\n    unique: true,\n    autoValue: function () {\n      var slug = getSlug(this.value);\n\n      if (!slug && this.siblingField(\"name\").value) {\n        slug = getSlug(this.siblingField(\"name\").value);\n      }\n\n      if (this.isInsert) {\n        return slug;\n      } else if (this.isUpsert) {\n        return {\n          $setOnInsert: slug\n        };\n      }\n    }\n  },\n  \"merchantShops\": {\n    type: Array,\n    optional: true\n  },\n  \"merchantShops.$\": {\n    type: MerchantShop\n  },\n  \"shopType\": {\n    type: String,\n    // Default value is merchant because we seed the first created shop with \"primary\"\n    // In a marketplace, there should only be one \"primary\" shop\n    defaultValue: \"merchant\",\n    // \"primary\", \"merchant\", \"affiliate\",\n    index: true\n  },\n  \"active\": {\n    type: Boolean,\n    defaultValue: true,\n    index: true\n  },\n  // not sure what this is used for. Prefer the boolean above for indexing\n  \"status\": {\n    type: String,\n    defaultValue: \"active\"\n  },\n  \"name\": {\n    type: String,\n    index: 1\n  },\n  \"description\": {\n    type: String,\n    optional: true\n  },\n  \"keywords\": {\n    type: String,\n    optional: true\n  },\n  \"addressBook\": {\n    type: Array,\n    optional: true\n  },\n  \"addressBook.$\": {\n    type: Address\n  },\n  \"domains\": {\n    type: Array,\n    defaultValue: [\"localhost\"],\n    index: 1\n  },\n  \"domains.$\": String,\n  \"emails\": {\n    type: Array,\n    optional: true\n  },\n  \"emails.$\": {\n    type: Email\n  },\n  \"defaultPaymentMethod\": {\n    label: \"Default Payment Method\",\n    type: String,\n    defaultValue: \"none\"\n  },\n  \"currency\": {\n    label: \"Base Currency\",\n    type: String,\n    defaultValue: \"USD\"\n  },\n  \"currencies\": {\n    type: Object,\n    // Schemas.Currency\n    blackbox: true,\n    optional: true\n  },\n  \"locales\": {\n    type: Locale\n  },\n  \"language\": {\n    label: \"Base Language\",\n    type: String,\n    defaultValue: \"en\"\n  },\n  \"languages\": {\n    type: Array,\n    optional: true\n  },\n  \"languages.$\": {\n    type: Languages\n  },\n  \"public\": {\n    type: String,\n    optional: true\n  },\n  \"timezone\": {\n    label: \"Timezone\",\n    type: String,\n    defaultValue: \"US/Pacific\"\n  },\n  \"baseUOL\": {\n    type: String,\n    optional: true,\n    defaultValue: \"in\",\n    label: \"Base Unit of Length\"\n  },\n  \"unitsOfLength\": {\n    type: Array,\n    optional: true\n  },\n  \"unitsOfLength.$\": Object,\n  \"unitsOfLength.$.uol\": {\n    type: String,\n    optional: true,\n    defaultValue: \"in\"\n  },\n  \"unitsOfLength.$.label\": {\n    type: String,\n    optional: true,\n    defaultValue: \"Inches\"\n  },\n  \"unitsOfLength.$.default\": {\n    type: Boolean,\n    optional: true,\n    defaultValue: false\n  },\n  \"baseUOM\": {\n    type: String,\n    optional: true,\n    defaultValue: \"oz\",\n    label: \"Base Unit of Measure\"\n  },\n  \"unitsOfMeasure\": {\n    type: Array,\n    optional: true\n  },\n  \"unitsOfMeasure.$\": Object,\n  \"unitsOfMeasure.$.uom\": {\n    type: String,\n    optional: true,\n    defaultValue: \"oz\"\n  },\n  \"unitsOfMeasure.$.label\": {\n    type: String,\n    optional: true,\n    defaultValue: \"Ounces\"\n  },\n  \"unitsOfMeasure.$.default\": {\n    type: Boolean,\n    optional: true,\n    defaultValue: false\n  },\n  \"metafields\": {\n    type: Array,\n    optional: true\n  },\n  \"metafields.$\": {\n    type: Metafield\n  },\n  \"defaultSellerRoles\": {\n    type: Array,\n    defaultValue: [\"owner\", \"admin\", \"seller\", \"guest\", \"manage-users\", \"orders\", \"account/profile\", \"product\", \"createProduct\", \"tag\", \"index\", \"cart/checkout\", \"cart/completed\"]\n  },\n  \"defaultSellerRoles.$\": {\n    type: String\n  },\n  \"layout\": {\n    type: Array,\n    optional: true\n  },\n  \"layout.$\": {\n    type: Layout\n  },\n  \"theme\": {\n    type: ShopTheme,\n    optional: true\n  },\n  \"brandAssets\": {\n    type: Array,\n    optional: true\n  },\n  \"brandAssets.$\": {\n    type: BrandAsset\n  },\n  \"appVersion\": {\n    type: String,\n    optional: true\n  },\n  \"createdAt\": {\n    type: Date,\n    autoValue: createdAtAutoValue,\n    optional: true\n  },\n  \"updatedAt\": {\n    type: Date,\n    autoValue: updatedAtAutoValue,\n    optional: true\n  },\n  \"paymentMethods\": {\n    type: Array,\n    defaultValue: []\n  },\n  \"paymentMethods.$\": {\n    type: Object,\n    blackbox: true\n  },\n  \"workflow\": {\n    type: Workflow,\n    optional: true,\n    defaultValue: {}\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"Shop\", Shop);","map":{"version":3,"sources":["lib/collections/schemas/shops.js"],"names":["module","export","CustomEmailSettings","Currency","Locale","Languages","ShopTheme","BrandAsset","Shop","SimpleSchema","watch","require","v","check","Tracker","registerSchema","getSlug","Email","Address","createdAtAutoValue","updatedAtAutoValue","Layout","Metafield","Workflow","service","type","String","optional","username","password","host","port","Integer","tracker","symbol","defaultValue","format","scale","decimal","thousand","rate","Number","continents","Object","blackbox","countries","label","i18n","enabled","Boolean","themeId","styles","mediaId","MerchantShop","_id","slug","name","unique","autoValue","value","siblingField","isInsert","isUpsert","$setOnInsert","Array","index","Date"],"mappings":"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","sourcesContent":["import SimpleSchema from \"simpl-schema\";\nimport { check } from \"meteor/check\";\nimport { Tracker } from \"meteor/tracker\";\nimport { registerSchema } from \"@reactioncommerce/schemas\";\nimport { getSlug } from \"/lib/api\";\nimport { Email } from \"./accounts\";\nimport { Address } from \"./address\";\nimport { createdAtAutoValue, updatedAtAutoValue } from \"./helpers\";\nimport { Layout } from \"./layouts\";\nimport { Metafield } from \"./metafield\";\nimport { Workflow } from \"./workflow\";\n\n/**\n * @name CustomEmailSettings\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} service optional\n * @property {String} username optional\n * @property {String} password optional\n * @property {String} host optional\n * @property {Number} port optional\n */\nexport const CustomEmailSettings = new SimpleSchema({\n  service: {\n    type: String,\n    optional: true\n  },\n  username: {\n    type: String,\n    optional: true\n  },\n  password: {\n    type: String,\n    optional: true\n  },\n  host: {\n    type: String,\n    optional: true\n  },\n  port: {\n    type: SimpleSchema.Integer,\n    optional: true\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"CustomEmailSettings\", CustomEmailSettings);\n\n/**\n * @name Currency\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} symbol default value: `$`\n * @property {String} format default value: `%s%v`\n * @property {Number} scale optional, default value: `2`\n * @property {String} decimal optional, default value: `.`\n * @property {String} thousand optional, default value: `,`\n * @property {Number} rate optional\n */\nexport const Currency = new SimpleSchema({\n  symbol: {\n    type: String,\n    defaultValue: \"$\"\n  },\n  format: {\n    type: String,\n    defaultValue: \"%s%v\"\n  },\n  scale: {\n    type: SimpleSchema.Integer,\n    defaultValue: 2,\n    optional: true\n  },\n  decimal: {\n    type: String,\n    defaultValue: \".\",\n    optional: true\n  },\n  thousand: {\n    type: String,\n    defaultValue: \",\",\n    optional: true\n  },\n  rate: {\n    type: Number,\n    optional: true\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"Currency\", Currency);\n\n/**\n * @name Locale\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {Object} continents blackbox\n * @property {Object} countries blackbox\n */\nexport const Locale = new SimpleSchema({\n  continents: {\n    type: Object,\n    blackbox: true\n  },\n  countries: {\n    type: Object,\n    blackbox: true\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"Locale\", Locale);\n\n/**\n * @name Languages\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} label required\n * @property {String} i18n required\n * @property {Boolean} enabled, default value: `true`\n */\nexport const Languages = new SimpleSchema({\n  label: {\n    type: String\n  },\n  i18n: {\n    type: String\n  },\n  enabled: {\n    type: Boolean,\n    defaultValue: true\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"Languages\", Languages);\n\n/**\n * @name ShopTheme\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} themeId required\n * @property {String} styles optional\n */\nexport const ShopTheme = new SimpleSchema({\n  themeId: {\n    type: String\n  },\n  styles: {\n    type: String,\n    optional: true\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"ShopTheme\", ShopTheme);\n\n/**\n * @name BrandAsset\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} mediaId optional\n * @property {String} type optional\n */\nexport const BrandAsset = new SimpleSchema({\n  mediaId: {\n    type: String,\n    optional: true\n  },\n  type: {\n    type: String,\n    optional: true\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"BrandAsset\", BrandAsset);\n\n/**\n * @name MerchantShop\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} _id Shop label\n * @property {String} slug Shop slug\n * @property {String} name Shop name\n */\nconst MerchantShop = new SimpleSchema({\n  _id: {\n    type: String,\n    label: \"Shop Label\"\n  },\n  slug: {\n    type: String,\n    label: \"Shop Slug\"\n  },\n  name: {\n    type: String,\n    label: \"Shop Name\"\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"MerchantShop\", MerchantShop);\n\n/**\n * @name Shop\n * @memberof schemas\n * @type {SimpleSchema}\n * @property {String} _id optional\n * @property {String} slug optional, auto-generated\n * @property {MerchantShop[]} merchantShops optional\n * @property {String} shopType required, default value: `merchant`, accepted values: `primary`, `merchant`, `affiliate`\n * @property {Boolean} active required, default value: ` true`\n * @property {String} status default value: `active`\n * @property {String} name\n * @property {String} description optional\n * @property {String} keywords optional\n * @property {Address[]} addressBook optional\n * @property {String[]} domains default value: `[localhost]`\n * @property {Email[]} emails optional\n * @property {String} defaultPaymentMethod required, default value: `none`\n * @property {String} currency default value: `USD`\n * @property {Object} currencies optional, blackbox, `Currency` schema\n * @property {Locale} locales required\n * @property {String} language default value: `en`\n * @property {Languages[]} languages optional\n * @property {String} public optional\n * @property {String} timezone default value: `US/Pacific`\n * @property {String} baseUOL Base UOL (Unit of Length), default value: `in`, lowercased by default per style\n * @property {Object[]} unitsOfLength optional, default value: `in`\n * @property {String} unitsOfLength.$.uol  default value: `in`\n * @property {String} unitsOfLength.$.label default value: `Inches`\n * @property {Boolean} unitsOfLength.$.default default value: `false`\n * @property {String} baseUOM Base UOM (Unit of Measure), default value: `oz`, lowercased by default per style\n * @property {Object[]} unitsOfMeasure optional\n * @property {String} unitsOfMeasure.$.uom default value: `oz`\n * @property {String} unitsOfMeasure.$.label default value: `Ounces`\n * @property {Boolean} unitsOfMeasure.$.default default value: `false`\n * @property {Metafield[]} metafields optional\n * @property {String[]} defaultSellerRoles default values: `[\"owner\", \"admin\", \"seller\", \"guest\", \"manage-users\", \"orders\", \"account/profile\", \"product\", \"createProduct\", \"tag\", \"index\", \"cart/checkout\", \"cart/completed\"]`\n * @property {Layout[]} layout optional\n * @property {ShopTheme} theme optional\n * @property {BrandAsset[]} brandAssets optional\n * @property {String} appVersion optional\n * @property {Date} createdAt optional\n * @property {Date} updatedAt optional\n * @property {Object[]} paymentMethods blackbox, default value: `[]`\n * @property {Workflow} workflow optional\n */\nexport const Shop = new SimpleSchema({\n  \"_id\": {\n    type: String,\n    optional: true\n  },\n  \"slug\": {\n    type: String,\n    optional: true,\n    unique: true,\n    autoValue() {\n      let slug = getSlug(this.value);\n\n      if (!slug && this.siblingField(\"name\").value) {\n        slug = getSlug(this.siblingField(\"name\").value);\n      }\n      if (this.isInsert) {\n        return slug;\n      } else if (this.isUpsert) {\n        return {\n          $setOnInsert: slug\n        };\n      }\n    }\n  },\n  \"merchantShops\": {\n    type: Array,\n    optional: true\n  },\n  \"merchantShops.$\": {\n    type: MerchantShop\n  },\n  \"shopType\": {\n    type: String,\n    // Default value is merchant because we seed the first created shop with \"primary\"\n    // In a marketplace, there should only be one \"primary\" shop\n    defaultValue: \"merchant\", // \"primary\", \"merchant\", \"affiliate\",\n    index: true\n  },\n  \"active\": {\n    type: Boolean,\n    defaultValue: true,\n    index: true\n  },\n  // not sure what this is used for. Prefer the boolean above for indexing\n  \"status\": {\n    type: String,\n    defaultValue: \"active\"\n  },\n  \"name\": {\n    type: String,\n    index: 1\n  },\n  \"description\": {\n    type: String,\n    optional: true\n  },\n  \"keywords\": {\n    type: String,\n    optional: true\n  },\n  \"addressBook\": {\n    type: Array,\n    optional: true\n  },\n  \"addressBook.$\": {\n    type: Address\n  },\n  \"domains\": {\n    type: Array,\n    defaultValue: [\"localhost\"],\n    index: 1\n  },\n  \"domains.$\": String,\n  \"emails\": {\n    type: Array,\n    optional: true\n  },\n  \"emails.$\": {\n    type: Email\n  },\n  \"defaultPaymentMethod\": {\n    label: \"Default Payment Method\",\n    type: String,\n    defaultValue: \"none\"\n  },\n  \"currency\": {\n    label: \"Base Currency\",\n    type: String,\n    defaultValue: \"USD\"\n  },\n  \"currencies\": {\n    type: Object, // Schemas.Currency\n    blackbox: true,\n    optional: true\n  },\n  \"locales\": {\n    type: Locale\n  },\n  \"language\": {\n    label: \"Base Language\",\n    type: String,\n    defaultValue: \"en\"\n  },\n  \"languages\": {\n    type: Array,\n    optional: true\n  },\n  \"languages.$\": {\n    type: Languages\n  },\n  \"public\": {\n    type: String,\n    optional: true\n  },\n  \"timezone\": {\n    label: \"Timezone\",\n    type: String,\n    defaultValue: \"US/Pacific\"\n  },\n  \"baseUOL\": {\n    type: String,\n    optional: true,\n    defaultValue: \"in\",\n    label: \"Base Unit of Length\"\n  },\n  \"unitsOfLength\": {\n    type: Array,\n    optional: true\n  },\n  \"unitsOfLength.$\": Object,\n  \"unitsOfLength.$.uol\": {\n    type: String,\n    optional: true,\n    defaultValue: \"in\"\n  },\n  \"unitsOfLength.$.label\": {\n    type: String,\n    optional: true,\n    defaultValue: \"Inches\"\n  },\n  \"unitsOfLength.$.default\": {\n    type: Boolean,\n    optional: true,\n    defaultValue: false\n  },\n  \"baseUOM\": {\n    type: String,\n    optional: true,\n    defaultValue: \"oz\",\n    label: \"Base Unit of Measure\"\n  },\n  \"unitsOfMeasure\": {\n    type: Array,\n    optional: true\n  },\n  \"unitsOfMeasure.$\": Object,\n  \"unitsOfMeasure.$.uom\": {\n    type: String,\n    optional: true,\n    defaultValue: \"oz\"\n  },\n  \"unitsOfMeasure.$.label\": {\n    type: String,\n    optional: true,\n    defaultValue: \"Ounces\"\n  },\n  \"unitsOfMeasure.$.default\": {\n    type: Boolean,\n    optional: true,\n    defaultValue: false\n  },\n  \"metafields\": {\n    type: Array,\n    optional: true\n  },\n  \"metafields.$\": {\n    type: Metafield\n  },\n  \"defaultSellerRoles\": {\n    type: Array,\n    defaultValue: [\n      \"owner\",\n      \"admin\",\n      \"seller\",\n      \"guest\",\n      \"manage-users\",\n      \"orders\",\n      \"account/profile\",\n      \"product\",\n      \"createProduct\",\n      \"tag\",\n      \"index\",\n      \"cart/checkout\",\n      \"cart/completed\"\n    ]\n  },\n  \"defaultSellerRoles.$\": {\n    type: String\n  },\n  \"layout\": {\n    type: Array,\n    optional: true\n  },\n  \"layout.$\": {\n    type: Layout\n  },\n  \"theme\": {\n    type: ShopTheme,\n    optional: true\n  },\n  \"brandAssets\": {\n    type: Array,\n    optional: true\n  },\n  \"brandAssets.$\": {\n    type: BrandAsset\n  },\n  \"appVersion\": {\n    type: String,\n    optional: true\n  },\n  \"createdAt\": {\n    type: Date,\n    autoValue: createdAtAutoValue,\n    optional: true\n  },\n  \"updatedAt\": {\n    type: Date,\n    autoValue: updatedAtAutoValue,\n    optional: true\n  },\n  \"paymentMethods\": {\n    type: Array,\n    defaultValue: []\n  },\n  \"paymentMethods.$\": {\n    type: Object,\n    blackbox: true\n  },\n  \"workflow\": {\n    type: Workflow,\n    optional: true,\n    defaultValue: {}\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"Shop\", Shop);\n"]},"sourceType":"script","hash":"e053b8b5435962adf4fbdba8197cf06cebcb1f4a"}
