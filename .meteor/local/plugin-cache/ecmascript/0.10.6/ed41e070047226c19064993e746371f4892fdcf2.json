{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/included/product-detail-simple/client/components/variantList.js","filename":"imports/plugins/included/product-detail-simple/client/components/variantList.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/included/product-detail-simple/client/components/variantList.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/included/product-detail-simple/client/components/variantList.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/included/product-detail-simple/client/components/variantList.js"}},"code":"var _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Components;\nmodule.watch(require(\"../../../../core/components/lib\"), {\n  Components: function (v) {\n    Components = v;\n  }\n}, 2);\n\nvar VariantList =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(VariantList, _Component);\n\n  function VariantList() {\n    var _temp, _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_temp = _this = _Component.call.apply(_Component, [this].concat(args)) || this, _this.handleVariantEditClick = function (event, editButtonProps) {\n      if (_this.props.onEditVariant) {\n        return _this.props.onEditVariant(event, editButtonProps.data);\n      }\n\n      return true;\n    }, _this.handleVariantVisibilityClick = function (event, editButtonProps) {\n      if (_this.props.onVariantVisibiltyToggle) {\n        var isVariantVisible = !editButtonProps.data.isVisible;\n\n        _this.props.onVariantVisibiltyToggle(event, editButtonProps.data, isVariantVisible);\n      }\n    }, _this.handleChildVariantClick = function (event, variant) {\n      if (_this.props.onVariantClick) {\n        _this.props.onVariantClick(event, variant, 1);\n      }\n    }, _this.handleChildVariantEditClick = function (event, editButtonProps) {\n      if (_this.props.onEditVariant) {\n        return _this.props.onEditVariant(event, editButtonProps.data, 1);\n      }\n\n      return true;\n    }, _temp) || (0, _assertThisInitialized2.default)(_this);\n  }\n\n  var _proto = VariantList.prototype;\n\n  _proto.isSoldOut = function () {\n    function isSoldOut(variant) {\n      if (this.props.isSoldOut) {\n        return this.props.isSoldOut(variant);\n      }\n\n      return false;\n    }\n\n    return isSoldOut;\n  }();\n\n  _proto.renderVariants = function () {\n    function renderVariants() {\n      var _this2 = this;\n\n      var variants = [];\n      var addButton;\n\n      if (this.props.editable) {\n        addButton = React.createElement(\"div\", {\n          className: \"rui items flex\"\n        }, React.createElement(\"div\", {\n          className: \"rui item full justify center\"\n        }, React.createElement(Components.IconButton, {\n          i18nKeyTooltip: \"variantList.createVariant\",\n          icon: \"fa fa-plus\",\n          primary: true,\n          tooltip: \"Create Variant\",\n          onClick: this.props.onCreateVariant\n        })));\n      }\n\n      if (this.props.variants) {\n        variants = this.props.variants.map(function (variant, index) {\n          var displayPrice = _this2.props.displayPrice && _this2.props.displayPrice(variant._id);\n\n          return React.createElement(Components.EditContainer, {\n            data: variant,\n            disabled: _this2.props.editable === false,\n            editView: \"variantForm\",\n            i18nKeyLabel: \"productDetailEdit.editVariant\",\n            key: index,\n            label: \"Edit Variant\",\n            onEditButtonClick: _this2.handleVariantEditClick,\n            onVisibilityButtonClick: _this2.handleVariantVisibilityClick,\n            permissions: [\"createProduct\"],\n            showsVisibilityButton: true\n          }, React.createElement(Components.Variant, {\n            displayPrice: displayPrice,\n            editable: _this2.props.editable,\n            index: index,\n            isSelected: _this2.props.variantIsSelected(variant._id),\n            onClick: _this2.props.onVariantClick,\n            onMove: _this2.props.onMoveVariant,\n            soldOut: _this2.isSoldOut(variant),\n            variant: variant\n          }));\n        });\n      }\n\n      var variantList = React.createElement(\"ul\", {\n        className: \"variant-list list-unstyled\",\n        id: \"variant-list\",\n        key: \"variantList\"\n      }, variants, addButton);\n\n      if (variants.length === 0 && this.props.editable === false) {\n        return variantList;\n      } else if (variants.length > 1 || variants.length === 0) {\n        return [React.createElement(Components.Divider, {\n          i18nKeyLabel: \"productDetail.options\",\n          key: \"dividerWithLabel\",\n          label: \"Options\"\n        }), variantList];\n      } else if (variants.length === 1) {\n        return [React.createElement(Components.Divider, {\n          key: \"divider\"\n        }), variantList];\n      }\n\n      return variantList;\n    }\n\n    return renderVariants;\n  }();\n\n  _proto.renderChildVariants = function () {\n    function renderChildVariants() {\n      var _this3 = this;\n\n      var childVariants = [];\n\n      if (this.props.childVariants) {\n        childVariants = this.props.childVariants.map(function (childVariant, index) {\n          var media = _this3.props.childVariantMedia.filter(function (mediaItem) {\n            return mediaItem.document.metadata.variantId === childVariant._id;\n          });\n\n          return React.createElement(Components.EditContainer, {\n            data: childVariant,\n            disabled: _this3.props.editable === false,\n            editView: \"variantForm\",\n            i18nKeyLabel: \"productDetailEdit.editVariant\",\n            key: index,\n            label: \"Edit Variant\",\n            onEditButtonClick: _this3.handleChildVariantEditClick,\n            onVisibilityButtonClick: _this3.handleVariantVisibilityClick,\n            permissions: [\"createProduct\"],\n            showsVisibilityButton: true\n          }, React.createElement(Components.ChildVariant, {\n            isSelected: _this3.props.variantIsSelected(childVariant._id),\n            media: media,\n            onClick: _this3.handleChildVariantClick,\n            variant: childVariant\n          }));\n        });\n      }\n\n      if (childVariants.length) {\n        return [React.createElement(Components.Divider, {\n          key: \"availableOptionsDivider\",\n          i18nKeyLabel: \"availableOptions\",\n          label: \"Available Options\"\n        }), React.createElement(\"div\", {\n          className: \"row variant-product-options\",\n          key: \"childVariantList\"\n        }, childVariants)];\n      }\n\n      return null;\n    }\n\n    return renderChildVariants;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      return React.createElement(\"div\", {\n        className: \"product-variants\"\n      }, this.renderVariants(), this.renderChildVariants());\n    }\n\n    return render;\n  }();\n\n  return VariantList;\n}(Component);\n\nVariantList.propTypes = {\n  childVariantMedia: PropTypes.arrayOf(PropTypes.any),\n  childVariants: PropTypes.arrayOf(PropTypes.object),\n  displayPrice: PropTypes.func,\n  editable: PropTypes.bool,\n  isSoldOut: PropTypes.func,\n  onCreateVariant: PropTypes.func,\n  onEditVariant: PropTypes.func,\n  onMoveVariant: PropTypes.func,\n  onVariantClick: PropTypes.func,\n  onVariantVisibiltyToggle: PropTypes.func,\n  variantIsSelected: PropTypes.func,\n  variants: PropTypes.arrayOf(PropTypes.object)\n};\nmodule.exportDefault(VariantList);","map":{"version":3,"sources":["imports/plugins/included/product-detail-simple/client/components/variantList.js"],"names":["React","Component","module","watch","require","v","PropTypes","Components","VariantList","handleVariantEditClick","event","editButtonProps","props","onEditVariant","data","handleVariantVisibilityClick","onVariantVisibiltyToggle","isVariantVisible","isVisible","handleChildVariantClick","variant","onVariantClick","handleChildVariantEditClick","isSoldOut","renderVariants","variants","addButton","editable","onCreateVariant","map","index","displayPrice","_id","variantIsSelected","onMoveVariant","variantList","length","renderChildVariants","childVariants","childVariant","media","childVariantMedia","filter","mediaItem","document","metadata","variantId","render","propTypes","arrayOf","any","object","func","bool","exportDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Components } from \"@reactioncommerce/reaction-components\";\n\nclass VariantList extends Component {\n  handleVariantEditClick = (event, editButtonProps) => {\n    if (this.props.onEditVariant) {\n      return this.props.onEditVariant(event, editButtonProps.data);\n    }\n    return true;\n  }\n\n  handleVariantVisibilityClick = (event, editButtonProps) => {\n    if (this.props.onVariantVisibiltyToggle) {\n      const isVariantVisible = !editButtonProps.data.isVisible;\n      this.props.onVariantVisibiltyToggle(event, editButtonProps.data, isVariantVisible);\n    }\n  }\n\n  handleChildVariantClick = (event, variant) => {\n    if (this.props.onVariantClick) {\n      this.props.onVariantClick(event, variant, 1);\n    }\n  }\n\n  handleChildVariantEditClick = (event, editButtonProps) => {\n    if (this.props.onEditVariant) {\n      return this.props.onEditVariant(event, editButtonProps.data, 1);\n    }\n    return true;\n  }\n\n  isSoldOut(variant) {\n    if (this.props.isSoldOut) {\n      return this.props.isSoldOut(variant);\n    }\n\n    return false;\n  }\n\n  renderVariants() {\n    let variants = [];\n    let addButton;\n\n    if (this.props.editable) {\n      addButton = (\n        <div className=\"rui items flex\">\n          <div className=\"rui item full justify center\">\n            <Components.IconButton\n              i18nKeyTooltip=\"variantList.createVariant\"\n              icon=\"fa fa-plus\"\n              primary={true}\n              tooltip=\"Create Variant\"\n              onClick={this.props.onCreateVariant}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    if (this.props.variants) {\n      variants = this.props.variants.map((variant, index) => {\n        const displayPrice = this.props.displayPrice && this.props.displayPrice(variant._id);\n\n        return (\n          <Components.EditContainer\n            data={variant}\n            disabled={this.props.editable === false}\n            editView=\"variantForm\"\n            i18nKeyLabel=\"productDetailEdit.editVariant\"\n            key={index}\n            label=\"Edit Variant\"\n            onEditButtonClick={this.handleVariantEditClick}\n            onVisibilityButtonClick={this.handleVariantVisibilityClick}\n            permissions={[\"createProduct\"]}\n            showsVisibilityButton={true}\n          >\n            <Components.Variant\n              displayPrice={displayPrice}\n              editable={this.props.editable}\n              index={index}\n              isSelected={this.props.variantIsSelected(variant._id)}\n              onClick={this.props.onVariantClick}\n              onMove={this.props.onMoveVariant}\n              soldOut={this.isSoldOut(variant)}\n              variant={variant}\n            />\n          </Components.EditContainer>\n        );\n      });\n    }\n\n    const variantList = (\n      <ul className=\"variant-list list-unstyled\" id=\"variant-list\" key=\"variantList\">\n        {variants}\n        {addButton}\n      </ul>\n    );\n\n    if (variants.length === 0 && this.props.editable === false) {\n      return variantList;\n    } else if (variants.length > 1 || variants.length === 0) {\n      return [\n        <Components.Divider\n          i18nKeyLabel=\"productDetail.options\"\n          key=\"dividerWithLabel\"\n          label=\"Options\"\n        />,\n        variantList\n      ];\n    } else if (variants.length === 1) {\n      return [\n        <Components.Divider key=\"divider\" />,\n        variantList\n      ];\n    }\n\n    return variantList;\n  }\n\n  renderChildVariants() {\n    let childVariants = [];\n\n    if (this.props.childVariants) {\n      childVariants = this.props.childVariants.map((childVariant, index) => {\n        const media = this.props.childVariantMedia.filter((mediaItem) => (\n          (mediaItem.document.metadata.variantId === childVariant._id)\n        ));\n\n        return (\n          <Components.EditContainer\n            data={childVariant}\n            disabled={this.props.editable === false}\n            editView=\"variantForm\"\n            i18nKeyLabel=\"productDetailEdit.editVariant\"\n            key={index}\n            label=\"Edit Variant\"\n            onEditButtonClick={this.handleChildVariantEditClick}\n            onVisibilityButtonClick={this.handleVariantVisibilityClick}\n            permissions={[\"createProduct\"]}\n            showsVisibilityButton={true}\n          >\n            <Components.ChildVariant\n              isSelected={this.props.variantIsSelected(childVariant._id)}\n              media={media}\n              onClick={this.handleChildVariantClick}\n              variant={childVariant}\n            />\n          </Components.EditContainer>\n        );\n      });\n    }\n\n    if (childVariants.length) {\n      return [\n        <Components.Divider\n          key=\"availableOptionsDivider\"\n          i18nKeyLabel=\"availableOptions\"\n          label=\"Available Options\"\n        />,\n        <div className=\"row variant-product-options\" key=\"childVariantList\">\n          {childVariants}\n        </div>\n      ];\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <div className=\"product-variants\">\n        {this.renderVariants()}\n        {this.renderChildVariants()}\n      </div>\n    );\n  }\n}\n\nVariantList.propTypes = {\n  childVariantMedia: PropTypes.arrayOf(PropTypes.any),\n  childVariants: PropTypes.arrayOf(PropTypes.object),\n  displayPrice: PropTypes.func,\n  editable: PropTypes.bool,\n  isSoldOut: PropTypes.func,\n  onCreateVariant: PropTypes.func,\n  onEditVariant: PropTypes.func,\n  onMoveVariant: PropTypes.func,\n  onVariantClick: PropTypes.func,\n  onVariantVisibiltyToggle: PropTypes.func,\n  variantIsSelected: PropTypes.func,\n  variants: PropTypes.arrayOf(PropTypes.object)\n};\n\nexport default VariantList;\n"]},"sourceType":"script","hash":"ed41e070047226c19064993e746371f4892fdcf2"}
