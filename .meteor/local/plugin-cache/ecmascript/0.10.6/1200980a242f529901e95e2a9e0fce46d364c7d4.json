{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/ui/client/components/app/app.js","filename":"imports/plugins/core/ui/client/components/app/app.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/ui/client/components/app/app.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/ui/client/components/app/app.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/ui/client/components/app/app.js"}},"code":"var _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Switch;\nmodule.watch(require(\"react-router-dom\"), {\n  Switch: function (v) {\n    Switch = v;\n  }\n}, 0);\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 1);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 2);\nvar classnames;\nmodule.watch(require(\"classnames\"), {\n  \"default\": function (v) {\n    classnames = v;\n  }\n}, 3);\nvar ToolbarContainer;\nmodule.watch(require(\"../../../../dashboard/client/containers/toolbarContainer\"), {\n  \"default\": function (v) {\n    ToolbarContainer = v;\n  }\n}, 4);\nvar Toolbar;\nmodule.watch(require(\"../../../../dashboard/client/components/toolbar\"), {\n  \"default\": function (v) {\n    Toolbar = v;\n  }\n}, 5);\nvar ActionViewContainer, PackageListContainer;\nmodule.watch(require(\"../../../../dashboard/client/containers\"), {\n  ActionViewContainer: function (v) {\n    ActionViewContainer = v;\n  },\n  PackageListContainer: function (v) {\n    PackageListContainer = v;\n  }\n}, 6);\nvar ActionView, ShortcutBar;\nmodule.watch(require(\"../../../../dashboard/client/components\"), {\n  ActionView: function (v) {\n    ActionView = v;\n  },\n  ShortcutBar: function (v) {\n    ShortcutBar = v;\n  }\n}, 7);\nvar Reaction;\nmodule.watch(require(\"../../../../../../../client/api\"), {\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 8);\nvar ConnectedToolbarComponent = ToolbarContainer(Toolbar);\nvar ConnectedAdminViewComponent = ActionViewContainer(ActionView);\nvar ConnectedShortcutBarContainer = PackageListContainer(ShortcutBar);\nvar styles = {\n  customerApp: {\n    width: \"100%\"\n  },\n  adminApp: {\n    width: \"100%\",\n    height: \"100vh\",\n    display: \"flex\",\n    overflow: \"hidden\"\n  },\n  adminContentContainer: {\n    flex: \"1 1 auto\",\n    height: \"100vh\"\n  },\n  adminContainer: {\n    display: \"flex\",\n    flex: \"1 1 auto\"\n  },\n  scrollableContainer: {\n    overflow: \"auto\"\n  }\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(App, _Component);\n\n  function App() {\n    var _temp, _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_temp = _this = _Component.call.apply(_Component, [this].concat(args)) || this, _this.handleViewContextChange = function (event, value) {\n      Reaction.setUserPreferences(\"reaction-dashboard\", \"viewAs\", value);\n\n      if (Reaction.isPreview() === true) {\n        // Save last action view state\n        var saveActionViewState = Reaction.getActionView();\n        Reaction.setUserPreferences(\"reaction-dashboard\", \"savedActionViewState\", saveActionViewState); // hideActionView during isPreview === true\n\n        Reaction.hideActionView();\n      }\n    }, _this.handleKeyDown = function (event) {\n      if (event.altKey && event.keyCode === 69) {\n        // Switch edit mode\n        var userWas = Reaction.getUserPreferences(\"reaction-dashboard\", \"viewAs\", \"customer\");\n        var userIs = userWas === \"customer\" ? \"administrator\" : \"customer\";\n\n        _this.handleViewContextChange(event, userIs);\n      }\n    }, _temp) || (0, _assertThisInitialized2.default)(_this);\n  }\n\n  var _proto = App.prototype;\n\n  _proto.renderAdminApp = function () {\n    function renderAdminApp() {\n      var pageClassName = classnames({\n        \"admin\": true,\n        \"page\": true,\n        \"show-settings\": this.props.isActionViewOpen\n      });\n      var currentRoute = this.props.currentRoute;\n      var routeOptions = currentRoute.route && currentRoute.route.options || {};\n      var routeData = routeOptions && routeOptions.structure || {};\n      return React.createElement(\"div\", {\n        style: styles.adminApp,\n        onKeyDown: this.handleKeyDown,\n        role: \"presentation\"\n      }, React.createElement(\"div\", {\n        className: pageClassName,\n        id: \"reactionAppContainer\",\n        style: styles.adminContentContainer\n      }, React.createElement(\"div\", {\n        className: \"reaction-toolbar\"\n      }, React.createElement(ConnectedToolbarComponent, {\n        handleViewContextChange: this.handleViewContextChange,\n        data: routeData\n      })), React.createElement(\"div\", {\n        style: styles.scrollableContainer\n      }, React.createElement(Switch, null, this.props.children))), this.props.hasDashboardAccess && React.createElement(ConnectedAdminViewComponent, null), this.props.hasDashboardAccess && React.createElement(ConnectedShortcutBarContainer, null));\n    }\n\n    return renderAdminApp;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var pageClassName = classnames({\n        \"admin\": true,\n        \"show-settings\": this.props.isActionViewOpen\n      });\n      var currentRoute = this.props.currentRoute;\n      var layout = currentRoute && currentRoute.route && currentRoute.route.options && currentRoute.route.options.layout;\n\n      if (this.isAdminApp && layout !== \"printLayout\") {\n        return this.renderAdminApp();\n      }\n\n      return React.createElement(\"div\", {\n        className: pageClassName,\n        style: styles.customerApp\n      }, React.createElement(Switch, null, this.props.children));\n    }\n\n    return render;\n  }();\n\n  (0, _createClass2.default)(App, [{\n    key: \"isAdminApp\",\n    get: function () {\n      return this.props.hasDashboardAccess;\n    }\n  }]);\n  return App;\n}(Component);\n\nApp.propTypes = {\n  children: PropTypes.node,\n  currentRoute: PropTypes.object.isRequired,\n  hasDashboardAccess: PropTypes.bool,\n  isActionViewOpen: PropTypes.bool\n};\nmodule.exportDefault(App);","map":{"version":3,"sources":["imports/plugins/core/ui/client/components/app/app.js"],"names":["Switch","module","watch","require","v","React","Component","PropTypes","classnames","ToolbarContainer","Toolbar","ActionViewContainer","PackageListContainer","ActionView","ShortcutBar","Reaction","ConnectedToolbarComponent","ConnectedAdminViewComponent","ConnectedShortcutBarContainer","styles","customerApp","width","adminApp","height","display","overflow","adminContentContainer","flex","adminContainer","scrollableContainer","App","handleViewContextChange","event","value","setUserPreferences","isPreview","saveActionViewState","getActionView","hideActionView","handleKeyDown","altKey","keyCode","userWas","getUserPreferences","userIs","renderAdminApp","pageClassName","props","isActionViewOpen","currentRoute","routeOptions","route","options","routeData","structure","children","hasDashboardAccess","render","layout","isAdminApp","propTypes","node","object","isRequired","bool","exportDefault"],"mappings":";;;;;;;;AAAA,IAAIA,MAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,kBAAR,CAAb,EAAyC;AAACH,QAAD,YAAQI,CAAR,EAAU;AAACJ,aAAOI,CAAP;AAAS;AAApB,CAAzC,EAA+D,CAA/D;AAAkE,IAAIC,KAAJ,EAAUC,SAAV;AAAoBL,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,uBAASC,CAAT,EAAW;AAACC,YAAMD,CAAN;AAAQ,GAApB;AAAqBE,WAArB,YAA+BF,CAA/B,EAAiC;AAACE,gBAAUF,CAAV;AAAY;AAA9C,CAA9B,EAA8E,CAA9E;AAAiF,IAAIG,SAAJ;AAAcN,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAACG,gBAAUH,CAAV;AAAY;AAAxB,CAAnC,EAA6D,CAA7D;AAAgE,IAAII,UAAJ;AAAeP,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAACI,iBAAWJ,CAAX;AAAa;AAAzB,CAAnC,EAA8D,CAA9D;AAAiE,IAAIK,gBAAJ;AAAqBR,OAAOC,KAAP,CAAaC,QAAQ,0DAAR,CAAb,EAAiF;AAAA,uBAASC,CAAT,EAAW;AAACK,uBAAiBL,CAAjB;AAAmB;AAA/B,CAAjF,EAAkH,CAAlH;AAAqH,IAAIM,OAAJ;AAAYT,OAAOC,KAAP,CAAaC,QAAQ,iDAAR,CAAb,EAAwE;AAAA,uBAASC,CAAT,EAAW;AAACM,cAAQN,CAAR;AAAU;AAAtB,CAAxE,EAAgG,CAAhG;AAAmG,IAAIO,mBAAJ,EAAwBC,oBAAxB;AAA6CX,OAAOC,KAAP,CAAaC,QAAQ,yCAAR,CAAb,EAAgE;AAACQ,qBAAD,YAAqBP,CAArB,EAAuB;AAACO,0BAAoBP,CAApB;AAAsB,GAA9C;AAA+CQ,sBAA/C,YAAoER,CAApE,EAAsE;AAACQ,2BAAqBR,CAArB;AAAuB;AAA9F,CAAhE,EAAgK,CAAhK;AAAmK,IAAIS,UAAJ,EAAeC,WAAf;AAA2Bb,OAAOC,KAAP,CAAaC,QAAQ,yCAAR,CAAb,EAAgE;AAACU,YAAD,YAAYT,CAAZ,EAAc;AAACS,iBAAWT,CAAX;AAAa,GAA5B;AAA6BU,aAA7B,YAAyCV,CAAzC,EAA2C;AAACU,kBAAYV,CAAZ;AAAc;AAA1D,CAAhE,EAA4H,CAA5H;AAA+H,IAAIW,QAAJ;AAAad,OAAOC,KAAP,CAAaC,QAAQ,iCAAR,CAAb,EAAwD;AAACY,UAAD,YAAUX,CAAV,EAAY;AAACW,eAASX,CAAT;AAAW;AAAxB,CAAxD,EAAkF,CAAlF;AAUh8B,IAAMY,4BAA4BP,iBAAiBC,OAAjB,CAAlC;AACA,IAAMO,8BAA8BN,oBAAoBE,UAApB,CAApC;AACA,IAAMK,gCAAgCN,qBAAqBE,WAArB,CAAtC;AAEA,IAAMK,SAAS;AACbC,eAAa;AACXC,WAAO;AADI,GADA;AAIbC,YAAU;AACRD,WAAO,MADC;AAERE,YAAQ,OAFA;AAGRC,aAAS,MAHD;AAIRC,cAAU;AAJF,GAJG;AAUbC,yBAAuB;AACrBC,UAAM,UADe;AAErBJ,YAAQ;AAFa,GAVV;AAcbK,kBAAgB;AACdJ,aAAS,MADK;AAEdG,UAAM;AAFQ,GAdH;AAkBbE,uBAAqB;AACnBJ,cAAU;AADS;AAlBR,CAAf;;IAuBMK,G;;;;;;;;;;;;kGAYJC,uB,GAA0B,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAC1ClB,eAASmB,kBAAT,CAA4B,oBAA5B,EAAkD,QAAlD,EAA4DD,KAA5D;;AAEA,UAAIlB,SAASoB,SAAT,OAAyB,IAA7B,EAAmC;AACjC;AACA,YAAMC,sBAAsBrB,SAASsB,aAAT,EAA5B;AACAtB,iBAASmB,kBAAT,CAA4B,oBAA5B,EAAkD,sBAAlD,EAA0EE,mBAA1E,EAHiC,CAKjC;;AACArB,iBAASuB,cAAT;AACD;AACF,K,QAEDC,a,GAAgB,UAACP,KAAD,EAAW;AACzB,UAAIA,MAAMQ,MAAN,IAAgBR,MAAMS,OAAN,KAAkB,EAAtC,EAA0C;AAAE;AAC1C,YAAMC,UAAU3B,SAAS4B,kBAAT,CAA4B,oBAA5B,EAAkD,QAAlD,EAA4D,UAA5D,CAAhB;AACA,YAAMC,SAASF,YAAY,UAAZ,GAAyB,eAAzB,GAA2C,UAA1D;;AACA,cAAKX,uBAAL,CAA6BC,KAA7B,EAAoCY,MAApC;AACD;AACF,K;;;;;SAEDC,c;8BAAiB;AACf,UAAMC,gBAAgBtC,WAAW;AAC/B,iBAAS,IADsB;AAE/B,gBAAQ,IAFuB;AAG/B,yBAAiB,KAAKuC,KAAL,CAAWC;AAHG,OAAX,CAAtB;AADe,UAOPC,YAPO,GAOU,KAAKF,KAPf,CAOPE,YAPO;AAQf,UAAMC,eAAgBD,aAAaE,KAAb,IAAsBF,aAAaE,KAAb,CAAmBC,OAA1C,IAAsD,EAA3E;AACA,UAAMC,YAAaH,gBAAgBA,aAAaI,SAA9B,IAA4C,EAA9D;AAEA,aACE;AACE,eAAOnC,OAAOG,QADhB;AAEE,mBAAW,KAAKiB,aAFlB;AAGE,cAAK;AAHP,SAKE;AAAK,mBAAWO,aAAhB;AAA+B,YAAG,sBAAlC;AAAyD,eAAO3B,OAAOO;AAAvE,SACE;AAAK,mBAAU;AAAf,SACE,oBAAC,yBAAD;AAA2B,iCAAyB,KAAKK,uBAAzD;AAAkF,cAAMsB;AAAxF,QADF,CADF,EAIE;AAAK,eAAOlC,OAAOU;AAAnB,SACE,oBAAC,MAAD,QACG,KAAKkB,KAAL,CAAWQ,QADd,CADF,CAJF,CALF,EAeG,KAAKR,KAAL,CAAWS,kBAAX,IAAiC,oBAAC,2BAAD,OAfpC,EAgBG,KAAKT,KAAL,CAAWS,kBAAX,IAAiC,oBAAC,6BAAD,OAhBpC,CADF;AAoBD;;;;;SAEDC,M;sBAAS;AACP,UAAMX,gBAAgBtC,WAAW;AAC/B,iBAAS,IADsB;AAE/B,yBAAiB,KAAKuC,KAAL,CAAWC;AAFG,OAAX,CAAtB;AADO,UAMCC,YAND,GAMkB,KAAKF,KANvB,CAMCE,YAND;AAOP,UAAMS,SAAST,gBAAgBA,aAAaE,KAA7B,IAAsCF,aAAaE,KAAb,CAAmBC,OAAzD,IAAoEH,aAAaE,KAAb,CAAmBC,OAAnB,CAA2BM,MAA9G;;AAEA,UAAI,KAAKC,UAAL,IAAmBD,WAAW,aAAlC,EAAiD;AAC/C,eAAO,KAAKb,cAAL,EAAP;AACD;;AAED,aACE;AACE,mBAAWC,aADb;AAEE,eAAO3B,OAAOC;AAFhB,SAIE,oBAAC,MAAD,QACG,KAAK2B,KAAL,CAAWQ,QADd,CAJF,CADF;AAUD;;;;;;;qBAjFgB;AACf,aAAO,KAAKR,KAAL,CAAWS,kBAAlB;AACD;;;EAVelD,S;;AAAZwB,G,CACG8B,S,GAAY;AACjBL,YAAUhD,UAAUsD,IADH;AAEjBZ,gBAAc1C,UAAUuD,MAAV,CAAiBC,UAFd;AAGjBP,sBAAoBjD,UAAUyD,IAHb;AAIjBhB,oBAAkBzC,UAAUyD;AAJX,C;AAtCrB/D,OAAOgE,aAAP,CAiIenC,GAjIf","sourcesContent":["import { Switch } from \"react-router-dom\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport ToolbarContainer from \"/imports/plugins/core/dashboard/client/containers/toolbarContainer\";\nimport Toolbar from \"/imports/plugins/core/dashboard/client/components/toolbar\";\nimport { ActionViewContainer, PackageListContainer } from \"/imports/plugins/core/dashboard/client/containers\";\nimport { ActionView, ShortcutBar } from \"/imports/plugins/core/dashboard/client/components\";\nimport { Reaction } from \"/client/api\";\n\nconst ConnectedToolbarComponent = ToolbarContainer(Toolbar);\nconst ConnectedAdminViewComponent = ActionViewContainer(ActionView);\nconst ConnectedShortcutBarContainer = PackageListContainer(ShortcutBar);\n\nconst styles = {\n  customerApp: {\n    width: \"100%\"\n  },\n  adminApp: {\n    width: \"100%\",\n    height: \"100vh\",\n    display: \"flex\",\n    overflow: \"hidden\"\n  },\n  adminContentContainer: {\n    flex: \"1 1 auto\",\n    height: \"100vh\"\n  },\n  adminContainer: {\n    display: \"flex\",\n    flex: \"1 1 auto\"\n  },\n  scrollableContainer: {\n    overflow: \"auto\"\n  }\n};\n\nclass App extends Component {\n  static propTypes = {\n    children: PropTypes.node,\n    currentRoute: PropTypes.object.isRequired,\n    hasDashboardAccess: PropTypes.bool,\n    isActionViewOpen: PropTypes.bool\n  }\n\n  get isAdminApp() {\n    return this.props.hasDashboardAccess;\n  }\n\n  handleViewContextChange = (event, value) => {\n    Reaction.setUserPreferences(\"reaction-dashboard\", \"viewAs\", value);\n\n    if (Reaction.isPreview() === true) {\n      // Save last action view state\n      const saveActionViewState = Reaction.getActionView();\n      Reaction.setUserPreferences(\"reaction-dashboard\", \"savedActionViewState\", saveActionViewState);\n\n      // hideActionView during isPreview === true\n      Reaction.hideActionView();\n    }\n  }\n\n  handleKeyDown = (event) => {\n    if (event.altKey && event.keyCode === 69) { // Switch edit mode\n      const userWas = Reaction.getUserPreferences(\"reaction-dashboard\", \"viewAs\", \"customer\");\n      const userIs = userWas === \"customer\" ? \"administrator\" : \"customer\";\n      this.handleViewContextChange(event, userIs);\n    }\n  }\n\n  renderAdminApp() {\n    const pageClassName = classnames({\n      \"admin\": true,\n      \"page\": true,\n      \"show-settings\": this.props.isActionViewOpen\n    });\n\n    const { currentRoute } = this.props;\n    const routeOptions = (currentRoute.route && currentRoute.route.options) || {};\n    const routeData = (routeOptions && routeOptions.structure) || {};\n\n    return (\n      <div\n        style={styles.adminApp}\n        onKeyDown={this.handleKeyDown}\n        role=\"presentation\"\n      >\n        <div className={pageClassName} id=\"reactionAppContainer\" style={styles.adminContentContainer}>\n          <div className=\"reaction-toolbar\">\n            <ConnectedToolbarComponent handleViewContextChange={this.handleViewContextChange} data={routeData} />\n          </div>\n          <div style={styles.scrollableContainer}>\n            <Switch>\n              {this.props.children}\n            </Switch>\n          </div>\n        </div>\n        {this.props.hasDashboardAccess && <ConnectedAdminViewComponent />}\n        {this.props.hasDashboardAccess && <ConnectedShortcutBarContainer />}\n      </div>\n    );\n  }\n\n  render() {\n    const pageClassName = classnames({\n      \"admin\": true,\n      \"show-settings\": this.props.isActionViewOpen\n    });\n\n    const { currentRoute } = this.props;\n    const layout = currentRoute && currentRoute.route && currentRoute.route.options && currentRoute.route.options.layout;\n\n    if (this.isAdminApp && layout !== \"printLayout\") {\n      return this.renderAdminApp();\n    }\n\n    return (\n      <div\n        className={pageClassName}\n        style={styles.customerApp}\n      >\n        <Switch>\n          {this.props.children}\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"sourceType":"script","hash":"1200980a242f529901e95e2a9e0fce46d364c7d4"}
