{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/ui/client/components/menu/dropDownMenu.js","filename":"imports/plugins/core/ui/client/components/menu/dropDownMenu.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/ui/client/components/menu/dropDownMenu.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/ui/client/components/menu/dropDownMenu.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/ui/client/components/menu/dropDownMenu.js"}},"code":"var _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React, Children, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Children: function (v) {\n    Children = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Components, registerComponent;\nmodule.watch(require(\"../../../../components/lib\"), {\n  Components: function (v) {\n    Components = v;\n  },\n  registerComponent: function (v) {\n    registerComponent = v;\n  }\n}, 2);\n\nvar DropDownMenu =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(DropDownMenu, _Component);\n\n  function DropDownMenu(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.handleDropdownToggle = function () {\n      _this.setState({\n        isOpen: !_this.state.isOpen\n      });\n    };\n\n    _this.handleMenuItemChange = function (event, value, menuItem) {\n      _this.setState({\n        label: menuItem.props.label || value,\n        isOpen: false\n      });\n\n      if (_this.props.closeOnClick) {\n        _this.handleOpen(false);\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange(event, value);\n      }\n    };\n\n    _this.handleOpen = function (isOpen) {\n      if (_this.isControlled) {\n        if (_this.props.onRequestOpen) {\n          _this.props.onRequestOpen(isOpen);\n        }\n      } else {\n        _this.setState({\n          isOpen: isOpen\n        });\n      }\n    };\n\n    _this.state = {\n      label: undefined,\n      isOpen: false\n    };\n    return _this;\n  }\n\n  var _proto = DropDownMenu.prototype;\n\n  _proto.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      if (this.isControlled) {\n        this.setState({\n          isOpen: nextProps.isOpen\n        });\n      }\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      return React.createElement(Components.Popover, {\n        attachment: this.props.attachment,\n        buttonElement: this.props.buttonElement || React.createElement(Components.Button, {\n          icon: \"fa fa-chevron-down\",\n          iconAfter: true,\n          label: this.label\n        }),\n        constraints: this.props.constraints,\n        isOpen: this.isOpen,\n        onClick: this.handleDropdownToggle,\n        onRequestOpen: this.handleOpen,\n        targetAttachment: this.props.targetAttachment\n      }, React.createElement(Components.Menu, {\n        className: this.props.className,\n        menuClassName: this.props.menuClassName,\n        value: this.props.value,\n        onChange: this.handleMenuItemChange,\n        style: this.props.menuStyle,\n        isClickable: this.props.isClickable\n      }, this.props.children));\n    }\n\n    return render;\n  }();\n\n  (0, _createClass2.default)(DropDownMenu, [{\n    key: \"isOpen\",\n    get: function () {\n      return this.props.isOpen || this.state.isOpen;\n    }\n  }, {\n    key: \"isControlled\",\n    get: function () {\n      return typeof this.props.isOpen === \"boolean\";\n    }\n  }, {\n    key: \"label\",\n    get: function () {\n      var _this2 = this;\n\n      var label = this.state.label;\n      Children.forEach(this.props.children, function (element) {\n        if (element.props.value === _this2.props.value) {\n          label = element.props.label;\n        }\n      });\n\n      if (!label) {\n        var children = Children.toArray(this.props.children);\n\n        if (children.length) {\n          return children[0].props.label;\n        }\n      }\n\n      return label;\n    }\n  }]);\n  return DropDownMenu;\n}(Component);\n\nDropDownMenu.propTypes = {\n  attachment: PropTypes.string,\n  buttonElement: PropTypes.node,\n  children: PropTypes.node,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  closeOnClick: PropTypes.bool,\n  constraints: PropTypes.array,\n  isClickable: PropTypes.bool,\n  isEnabled: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  menuClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  menuStyle: PropTypes.object,\n  onChange: PropTypes.func,\n  onPublishClick: PropTypes.func,\n  onRequestOpen: PropTypes.func,\n  revisions: PropTypes.arrayOf(PropTypes.object),\n  targetAttachment: PropTypes.string,\n  translation: PropTypes.shape({\n    lang: PropTypes.string\n  }),\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.number])\n};\nregisterComponent(\"DropDownMenu\", DropDownMenu);\nmodule.exportDefault(DropDownMenu);","map":{"version":3,"sources":["imports/plugins/core/ui/client/components/menu/dropDownMenu.js"],"names":["React","Children","Component","module","watch","require","v","PropTypes","Components","registerComponent","DropDownMenu","props","handleDropdownToggle","setState","isOpen","state","handleMenuItemChange","event","value","menuItem","label","closeOnClick","handleOpen","onChange","isControlled","onRequestOpen","undefined","componentWillReceiveProps","nextProps","render","attachment","buttonElement","constraints","targetAttachment","className","menuClassName","menuStyle","isClickable","children","forEach","element","toArray","length","propTypes","string","node","oneOfType","object","bool","array","isEnabled","func","onPublishClick","revisions","arrayOf","translation","shape","lang","number","exportDefault"],"mappings":"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","sourcesContent":["import React, { Children, Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Components, registerComponent } from \"@reactioncommerce/reaction-components\";\n\nclass DropDownMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      label: undefined,\n      isOpen: false\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.isControlled) {\n      this.setState({\n        isOpen: nextProps.isOpen\n      });\n    }\n  }\n\n  handleDropdownToggle = () => {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  get isOpen() {\n    return this.props.isOpen || this.state.isOpen;\n  }\n\n  get isControlled() {\n    return typeof this.props.isOpen === \"boolean\";\n  }\n\n  handleMenuItemChange = (event, value, menuItem) => {\n    this.setState({\n      label: menuItem.props.label || value,\n      isOpen: false\n    });\n\n    if (this.props.closeOnClick) {\n      this.handleOpen(false);\n    }\n\n    if (this.props.onChange) {\n      this.props.onChange(event, value);\n    }\n  }\n\n  handleOpen = (isOpen) => {\n    if (this.isControlled) {\n      if (this.props.onRequestOpen) {\n        this.props.onRequestOpen(isOpen);\n      }\n    } else {\n      this.setState({\n        isOpen\n      });\n    }\n  }\n\n  get label() {\n    let { label } = this.state;\n    Children.forEach(this.props.children, (element) => {\n      if (element.props.value === this.props.value) {\n        ({ label } = element.props);\n      }\n    });\n\n    if (!label) {\n      const children = Children.toArray(this.props.children);\n      if (children.length) {\n        return children[0].props.label;\n      }\n    }\n\n    return label;\n  }\n\n  render() {\n    return (\n      <Components.Popover\n        attachment={this.props.attachment}\n        buttonElement={\n          this.props.buttonElement ||\n          <Components.Button\n            icon=\"fa fa-chevron-down\"\n            iconAfter={true}\n            label={this.label}\n          />\n        }\n        constraints={this.props.constraints}\n        isOpen={this.isOpen}\n        onClick={this.handleDropdownToggle}\n        onRequestOpen={this.handleOpen}\n        targetAttachment={this.props.targetAttachment}\n      >\n        <Components.Menu\n          className={this.props.className}\n          menuClassName={this.props.menuClassName}\n          value={this.props.value}\n          onChange={this.handleMenuItemChange}\n          style={this.props.menuStyle}\n          isClickable={this.props.isClickable}\n        >\n          {this.props.children}\n        </Components.Menu>\n      </Components.Popover>\n    );\n  }\n}\n\nDropDownMenu.propTypes = {\n  attachment: PropTypes.string,\n  buttonElement: PropTypes.node,\n  children: PropTypes.node,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  closeOnClick: PropTypes.bool,\n  constraints: PropTypes.array,\n  isClickable: PropTypes.bool,\n  isEnabled: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  menuClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  menuStyle: PropTypes.object,\n  onChange: PropTypes.func,\n  onPublishClick: PropTypes.func,\n  onRequestOpen: PropTypes.func,\n  revisions: PropTypes.arrayOf(PropTypes.object),\n  targetAttachment: PropTypes.string,\n  translation: PropTypes.shape({\n    lang: PropTypes.string\n  }),\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.number])\n};\n\nregisterComponent(\"DropDownMenu\", DropDownMenu);\n\nexport default DropDownMenu;\n"]},"sourceType":"script","hash":"32bfdcf3885aa3c3e45f3069655f25c83d405891"}
