{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/dashboard/client/components/packageList.js","filename":"imports/plugins/core/dashboard/client/components/packageList.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/dashboard/client/components/packageList.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/dashboard/client/components/packageList.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/dashboard/client/components/packageList.js"}},"code":"var _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _map;\n\nmodule.watch(require(\"lodash/map\"), {\n  \"default\": function (v) {\n    _map = v;\n  }\n}, 0);\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 1);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 2);\nvar Card, CardHeader, CardBody, CardGroup, ListItem;\nmodule.watch(require(\"../../../ui/client/components\"), {\n  Card: function (v) {\n    Card = v;\n  },\n  CardHeader: function (v) {\n    CardHeader = v;\n  },\n  CardBody: function (v) {\n    CardBody = v;\n  },\n  CardGroup: function (v) {\n    CardGroup = v;\n  },\n  ListItem: function (v) {\n    ListItem = v;\n  }\n}, 3);\nvar getComponent;\nmodule.watch(require(\"../../../components/lib\"), {\n  getComponent: function (v) {\n    getComponent = v;\n  }\n}, 4);\n\nvar PackageList =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(PackageList, _Component);\n\n  function PackageList() {\n    var _temp, _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_temp = _this = _Component.call.apply(_Component, [this].concat(args)) || this, _this.state = {}, _temp) || (0, _assertThisInitialized2.default)(_this);\n  }\n\n  var _proto = PackageList.prototype;\n\n  _proto.isExpanded = function () {\n    function isExpanded(cardName) {\n      if (this.state[\"card_\" + cardName] && typeof this.state[\"card_\" + cardName].isExpanded === \"boolean\") {\n        return this.state[\"card_\" + cardName].isExpanded;\n      }\n\n      return true;\n    }\n\n    return isExpanded;\n  }();\n\n  _proto.handleCardExpand = function () {\n    function handleCardExpand(cardName) {\n      var _setState;\n\n      var isExpanded;\n\n      if (typeof this.state[\"card_\" + cardName] === \"undefined\") {\n        isExpanded = false;\n      } else {\n        isExpanded = !this.state[\"card_\" + cardName].isExpanded;\n      }\n\n      this.setState((_setState = {}, _setState[\"card_\" + cardName] = {\n        isExpanded: isExpanded\n      }, _setState));\n\n      if (this.props.onCardExpand) {\n        this.props.onCardExpand(cardName);\n      }\n    }\n\n    return handleCardExpand;\n  }();\n\n  _proto.renderSections = function () {\n    function renderSections() {\n      var _this2 = this;\n\n      if (this.props.groupedPackages) {\n        // Loop through the groups of packages\n        return _map(this.props.groupedPackages, function (group, groupName) {\n          // Loop through the individual cards of packages\n          if (Array.isArray(group.packages)) {\n            var items = group.packages.map(function (packageData, index) {\n              var elements = []; // Standard list element\n\n              elements.push(React.createElement(ListItem, {\n                key: index,\n                i18nKeyLabel: packageData.i18nKeyLabel,\n                icon: packageData.icon,\n                label: packageData.label,\n                onClick: _this2.props.handleShowPackage,\n                actionType: \"arrow\",\n                value: packageData\n              })); // Look for a registered component_ActionDashboard component\n\n              var actionComponent;\n\n              try {\n                actionComponent = getComponent(packageData.template + \"_ActionDashboard\");\n              } catch (e) {\n                actionComponent = null;\n              } finally {\n                // If one exists, add it to the list of elements\n                if (actionComponent) {\n                  elements.push(React.createElement(Card, {\n                    expandable: true,\n                    key: \"action-\" + index\n                  }, React.createElement(CardBody, null, React.createElement(actionComponent))));\n                }\n              }\n\n              return elements;\n            });\n            return React.createElement(Card, {\n              key: groupName,\n              expanded: _this2.isExpanded(groupName),\n              onExpand: _this2.handleCardExpand.bind(_this2, groupName)\n            }, React.createElement(CardHeader, {\n              actAsExpander: true,\n              title: group.title,\n              i18nKeyTitle: group.i18nKeyTitle\n            }), React.createElement(CardBody, {\n              expandable: true,\n              padded: false\n            }, items));\n          }\n\n          return null;\n        });\n      }\n\n      return null;\n    }\n\n    return renderSections;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      return React.createElement(CardGroup, null, this.renderSections());\n    }\n\n    return render;\n  }();\n\n  return PackageList;\n}(Component);\n\nPackageList.propTypes = {\n  groupedPackages: PropTypes.object,\n  handleShowPackage: PropTypes.func,\n  onCardExpand: PropTypes.func\n};\nmodule.exportDefault(PackageList);","map":{"version":3,"sources":["imports/plugins/core/dashboard/client/components/packageList.js"],"names":["_map","module","watch","require","v","React","Component","PropTypes","Card","CardHeader","CardBody","CardGroup","ListItem","getComponent","PackageList","state","isExpanded","cardName","handleCardExpand","setState","props","onCardExpand","renderSections","groupedPackages","group","groupName","Array","isArray","packages","items","map","packageData","index","elements","push","i18nKeyLabel","icon","label","handleShowPackage","actionComponent","template","e","createElement","bind","title","i18nKeyTitle","render","propTypes","object","func","exportDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { map } from \"lodash\";\nimport { Card, CardHeader, CardBody, CardGroup, ListItem } from \"/imports/plugins/core/ui/client/components\";\nimport { getComponent } from \"@reactioncommerce/reaction-components\";\n\nclass PackageList extends Component {\n  static propTypes = {\n    groupedPackages: PropTypes.object,\n    handleShowPackage: PropTypes.func,\n    onCardExpand: PropTypes.func\n  }\n\n  state = {}\n\n  isExpanded(cardName) {\n    if (this.state[`card_${cardName}`] && typeof this.state[`card_${cardName}`].isExpanded === \"boolean\") {\n      return this.state[`card_${cardName}`].isExpanded;\n    }\n\n    return true;\n  }\n\n  handleCardExpand(cardName) {\n    let isExpanded;\n\n    if (typeof this.state[`card_${cardName}`] === \"undefined\") {\n      isExpanded = false;\n    } else {\n      isExpanded = !this.state[`card_${cardName}`].isExpanded;\n    }\n\n    this.setState({\n      [`card_${cardName}`]: {\n        isExpanded\n      }\n    });\n\n    if (this.props.onCardExpand) {\n      this.props.onCardExpand(cardName);\n    }\n  }\n\n  renderSections() {\n    if (this.props.groupedPackages) {\n      // Loop through the groups of packages\n      return map(this.props.groupedPackages, (group, groupName) => {\n        // Loop through the individual cards of packages\n        if (Array.isArray(group.packages)) {\n          const items = group.packages.map((packageData, index) => {\n            const elements = [];\n\n            // Standard list element\n            elements.push((\n              <ListItem\n                key={index}\n                i18nKeyLabel={packageData.i18nKeyLabel}\n                icon={packageData.icon}\n                label={packageData.label}\n                onClick={this.props.handleShowPackage}\n                actionType=\"arrow\"\n                value={packageData}\n              />\n            ));\n\n            // Look for a registered component_ActionDashboard component\n\n            let actionComponent;\n\n            try {\n              actionComponent = getComponent(`${packageData.template}_ActionDashboard`);\n            } catch (e) {\n              actionComponent = null;\n            } finally {\n              // If one exists, add it to the list of elements\n              if (actionComponent) {\n                elements.push(<Card expandable={true} key={`action-${index}`}>\n                  <CardBody>\n                    {React.createElement(actionComponent)}\n                  </CardBody>\n                </Card>);\n              }\n            }\n\n            return elements;\n          });\n\n          return (\n            <Card\n              key={groupName}\n              expanded={this.isExpanded(groupName)}\n              onExpand={this.handleCardExpand.bind(this, groupName)}\n            >\n              <CardHeader\n                actAsExpander={true}\n                title={group.title}\n                i18nKeyTitle={group.i18nKeyTitle}\n              />\n              <CardBody expandable={true} padded={false}>\n                {items}\n              </CardBody>\n            </Card>\n          );\n        }\n\n        return null;\n      });\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <CardGroup>\n        {this.renderSections()}\n      </CardGroup>\n    );\n  }\n}\n\nexport default PackageList;\n"]},"sourceType":"script","hash":"1a5798506ce0c392f1ce216e7ae18becefa7349b"}
