{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/core/components/lib/composer/compose.js","filename":"imports/plugins/core/components/lib/composer/compose.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/core/components/lib/composer/compose.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/core/components/lib/composer/compose.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/core/components/lib/composer/compose.js"}},"code":"var _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    return compose;\n  }\n});\n\nvar _getDisplayName;\n\nmodule.watch(require(\"recompose/getDisplayName\"), {\n  \"default\": function (v) {\n    _getDisplayName = v;\n  }\n}, 0);\n\nvar _pick;\n\nmodule.watch(require(\"lodash/pick\"), {\n  \"default\": function (v) {\n    _pick = v;\n  }\n}, 1);\nvar React;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 2);\nvar shallowEqual;\nmodule.watch(require(\"shallowequal\"), {\n  \"default\": function (v) {\n    shallowEqual = v;\n  }\n}, 3);\nvar hoistStatics;\nmodule.watch(require(\"hoist-non-react-statics\"), {\n  \"default\": function (v) {\n    hoistStatics = v;\n  }\n}, 4);\n\nfunction compose(dataLoader) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (Child) {\n    var _options$errorHandler = options.errorHandler,\n        errorHandler = _options$errorHandler === void 0 ? function (err) {\n      throw err;\n    } : _options$errorHandler,\n        _options$loadingHandl = options.loadingHandler,\n        loadingHandler = _options$loadingHandl === void 0 ? function () {\n      return null;\n    } : _options$loadingHandl,\n        _options$env = options.env,\n        env = _options$env === void 0 ? {} : _options$env,\n        _options$pure = options.pure,\n        pure = _options$pure === void 0 ? false : _options$pure,\n        _options$propsToWatch = options.propsToWatch,\n        propsToWatch = _options$propsToWatch === void 0 ? null : _options$propsToWatch,\n        _options$shouldSubscr = options.shouldSubscribe,\n        shouldSubscribe = _options$shouldSubscr === void 0 ? null : _options$shouldSubscr,\n        _options$shouldUpdate = options.shouldUpdate,\n        shouldUpdate = _options$shouldUpdate === void 0 ? null : _options$shouldUpdate;\n\n    var Container =\n    /*#__PURE__*/\n    function (_React$Component) {\n      (0, _inheritsLoose2.default)(Container, _React$Component);\n\n      function Container(props) {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        _this = _React$Component.call.apply(_React$Component, [this, props].concat(args)) || this;\n        _this.state = {};\n        _this.propsCache = {};\n        return _this;\n      }\n\n      var _proto = Container.prototype;\n\n      _proto.componentWillMount = function () {\n        function componentWillMount() {\n          this._subscribe(this.props);\n        }\n\n        return componentWillMount;\n      }();\n\n      _proto.componentWillReceiveProps = function () {\n        function componentWillReceiveProps(props) {\n          this._subscribe(props);\n        }\n\n        return componentWillReceiveProps;\n      }();\n\n      _proto.shouldComponentUpdate = function () {\n        function shouldComponentUpdate(nextProps, nextState) {\n          if (shouldUpdate) {\n            return shouldUpdate(this.props, nextProps);\n          }\n\n          if (!pure) {\n            return true;\n          }\n\n          return !shallowEqual(this.props, nextProps) || this.state.error !== nextState.error || !shallowEqual(this.state.data, nextState.data);\n        }\n\n        return shouldComponentUpdate;\n      }();\n\n      _proto.componentWillUnmount = function () {\n        function componentWillUnmount() {\n          this._unmounted = true;\n\n          this._unsubscribe();\n        }\n\n        return componentWillUnmount;\n      }();\n\n      _proto._shouldSubscribe = function () {\n        function _shouldSubscribe(props) {\n          var firstRun = !this._cachedWatchingProps;\n\n          var nextProps = _pick(props, propsToWatch);\n\n          var currentProps = this._cachedWatchingProps || {};\n          this._cachedWatchingProps = nextProps;\n          if (firstRun) return true;\n\n          if (typeof shouldSubscribe === \"function\") {\n            return shouldSubscribe(currentProps, nextProps);\n          }\n\n          if (propsToWatch === null) return true;\n          if (propsToWatch.length === 0) return false;\n          return !shallowEqual(currentProps, nextProps);\n        }\n\n        return _shouldSubscribe;\n      }();\n\n      _proto._subscribe = function () {\n        function _subscribe(props) {\n          var _this2 = this;\n\n          if (!this._shouldSubscribe(props)) return;\n\n          var onData = function (error, data) {\n            if (_this2._unmounted) {\n              throw new Error(\"Trying to set data after component(\" + Container.displayName + \") has unmounted.\");\n            }\n\n            var payload = {\n              error: error,\n              data: data\n            };\n\n            _this2.setState(payload);\n          }; // We need to do this before subscribing again.\n\n\n          this._unsubscribe();\n\n          this._stop = dataLoader(props, onData, env);\n        }\n\n        return _subscribe;\n      }();\n\n      _proto._unsubscribe = function () {\n        function _unsubscribe() {\n          if (this._stop) {\n            this._stop();\n          }\n        }\n\n        return _unsubscribe;\n      }();\n\n      _proto.render = function () {\n        function render() {\n          var props = this.props;\n          var _state = this.state,\n              data = _state.data,\n              error = _state.error;\n\n          if (error) {\n            return errorHandler(error);\n          }\n\n          if (!data) {\n            return loadingHandler();\n          }\n\n          var finalProps = (0, _objectSpread2.default)({}, props, data);\n          return React.createElement(Child, finalProps);\n        }\n\n        return render;\n      }();\n\n      return Container;\n    }(React.Component);\n\n    Container.__composerData = {\n      dataLoader: dataLoader,\n      options: options\n    };\n    Container.displayName = \"Tracker(\" + _getDisplayName(Child) + \")\";\n    hoistStatics(Container, Child);\n    return Container;\n  };\n}","map":{"version":3,"sources":["imports/plugins/core/components/lib/composer/compose.js"],"names":["module","export","compose","_getDisplayName","watch","require","v","_pick","React","shallowEqual","hoistStatics","dataLoader","options","Child","errorHandler","err","loadingHandler","env","pure","propsToWatch","shouldSubscribe","shouldUpdate","Container","props","args","state","propsCache","componentWillMount","_subscribe","componentWillReceiveProps","shouldComponentUpdate","nextProps","nextState","error","data","componentWillUnmount","_unmounted","_unsubscribe","_shouldSubscribe","firstRun","_cachedWatchingProps","currentProps","length","onData","Error","displayName","payload","setState","_stop","render","finalProps","Component","__composerData"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport shallowEqual from \"shallowequal\";\nimport hoistStatics from \"hoist-non-react-statics\";\nimport _ from \"lodash\";\nimport { getDisplayName } from \"recompose\";\n\nexport default function compose(dataLoader, options = {}) {\n  return function (Child) {\n    const {\n      errorHandler = (err) => { throw err; },\n      loadingHandler = () => null,\n      env = {},\n      pure = false,\n      propsToWatch = null, // Watch all the props.\n      shouldSubscribe = null,\n      shouldUpdate = null\n    } = options;\n\n    class Container extends React.Component {\n      constructor(props, ...args) {\n        super(props, ...args);\n        this.state = {};\n        this.propsCache = {};\n      }\n\n      componentWillMount() {\n        this._subscribe(this.props);\n      }\n\n      componentWillReceiveProps(props) {\n        this._subscribe(props);\n      }\n\n      shouldComponentUpdate(nextProps, nextState) {\n        if (shouldUpdate) {\n          return shouldUpdate(this.props, nextProps);\n        }\n\n        if (!pure) {\n          return true;\n        }\n\n        return (\n          !shallowEqual(this.props, nextProps) ||\n          this.state.error !== nextState.error ||\n          !shallowEqual(this.state.data, nextState.data)\n        );\n      }\n\n      componentWillUnmount() {\n        this._unmounted = true;\n        this._unsubscribe();\n      }\n\n      _shouldSubscribe(props) {\n        const firstRun = !this._cachedWatchingProps;\n        const nextProps = _.pick(props, propsToWatch);\n        const currentProps = this._cachedWatchingProps || {};\n        this._cachedWatchingProps = nextProps;\n\n        if (firstRun) return true;\n        if (typeof shouldSubscribe === \"function\") {\n          return shouldSubscribe(currentProps, nextProps);\n        }\n\n        if (propsToWatch === null) return true;\n        if (propsToWatch.length === 0) return false;\n        return !shallowEqual(currentProps, nextProps);\n      }\n\n      _subscribe(props) {\n        if (!this._shouldSubscribe(props)) return;\n\n        const onData = (error, data) => {\n          if (this._unmounted) {\n            throw new Error(`Trying to set data after component(${Container.displayName}) has unmounted.`);\n          }\n\n          const payload = { error, data };\n          this.setState(payload);\n        };\n\n        // We need to do this before subscribing again.\n        this._unsubscribe();\n        this._stop = dataLoader(props, onData, env);\n      }\n\n      _unsubscribe() {\n        if (this._stop) {\n          this._stop();\n        }\n      }\n\n      render() {\n        const { props } = this;\n        const { data, error } = this.state;\n\n        if (error) {\n          return errorHandler(error);\n        }\n\n        if (!data) {\n          return loadingHandler();\n        }\n\n        const finalProps = {\n          ...props,\n          ...data\n        };\n\n        return (\n          <Child {...finalProps} />\n        );\n      }\n    }\n\n    Container.__composerData = {\n      dataLoader,\n      options\n    };\n\n    Container.displayName = `Tracker(${getDisplayName(Child)})`;\n\n    hoistStatics(Container, Child);\n\n    return Container;\n  };\n}\n"]},"sourceType":"script","hash":"8e35545c0d8e6e68767a04759b151a6788f714b6"}
