{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"lib/collections/schemas/registry.js","filename":"lib/collections/schemas/registry.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"lib/collections/schemas/registry.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"lib/collections/schemas/registry.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"lib/collections/schemas/registry.js"}},"code":"module.export({\n  Permissions: function () {\n    return Permissions;\n  },\n  Registry: function () {\n    return Registry;\n  },\n  PackageConfig: function () {\n    return PackageConfig;\n  },\n  CorePackageConfig: function () {\n    return CorePackageConfig;\n  }\n});\nvar SimpleSchema;\nmodule.watch(require(\"simpl-schema\"), {\n  \"default\": function (v) {\n    SimpleSchema = v;\n  }\n}, 0);\nvar check;\nmodule.watch(require(\"meteor/check\"), {\n  check: function (v) {\n    check = v;\n  }\n}, 1);\nvar Tracker;\nmodule.watch(require(\"meteor/tracker\"), {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 2);\nvar registerSchema;\nmodule.watch(require(\"@reactioncommerce/schemas\"), {\n  registerSchema: function (v) {\n    registerSchema = v;\n  }\n}, 3);\nvar Layout;\nmodule.watch(require(\"./layouts\"), {\n  Layout: function (v) {\n    Layout = v;\n  }\n}, 4);\nvar Permissions = new SimpleSchema({\n  permission: {\n    type: String\n  },\n  label: {\n    type: String\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"Permissions\", Permissions);\n/**\n * @name Registry\n * @memberof schemas\n * @type {SimpleSchema}\n * @summary The Registry Schema allows package settings to be defined. For more, read the in-depth {@link https://blog.reactioncommerce.com/an-intro-to-architecture-the-registry/ Intro to Architecture: The Registry}.\n * @property {String[]} provides Legacy `provides` apps use a String rather than an array. These are transformed in loadPackages.\n * @property {String} route optional\n * @property {String} name optional, Registry name must be unique. Namespace your plugin (e.g. `yourorg-plugin-name`) to avoid conflicts.\n * @property {String} template optional, Assign to a Blaze template\n * @property {String} workflow optional, A layout for a template in the package\n * @property {String} layout optional, Force the app to render a specific layout\n * @property {String[]} triggersEnter optional, Trigger on Enter\n * @property {String[]} triggersExit optional, Trigger on Exit\n * @property {Object} options optional, Routing Options\n * @property {String} description optional, deprecated\n * @property {String} icon optional, A set of CSS classes, often Font Awesome classes, used to define the package in the sidebar.\n * @property {String} label optional, Human-readable name for a Registry entry\n * @property {String} container optional, Used to group plugins\n * @property {Number} priority optional, Plugin load order. Lower values loaded first.\n * @property {Boolean} enabled optional, Enable or not\n * @property {Permissions[]} permissions optional, Define a new user permission\n * @property {String[]} audience optional, Define what permissions are required to view a step in a workflow\n * @property {Object} meta optional, Set `dashboardSize` for the `actionView`\n * @property {String[]} showForShopTypes optional, Shop Types this plugin should show for\n * @property {String[]} hideForShopTypes optional, Shop Types this plugin should not show for\n */\n\nvar Registry = new SimpleSchema({\n  // TODO: This should _not_ be optional in the future, but we need to organize our packages better\n  \"provides\": {\n    // Legacy `provides` apps use a String rather than an array. These are transformed in loadPackages\n    type: Array,\n    index: true,\n    optional: true\n  },\n  \"provides.$\": {\n    type: String\n  },\n  \"route\": {\n    type: String,\n    optional: true,\n    index: true\n  },\n  // TODO: This should _not_ be optional in the future, but we need to organize our packages better\n  \"name\": {\n    type: String,\n    label: \"Registry Name\",\n    index: true,\n    optional: true\n  },\n  \"template\": {\n    type: String,\n    optional: true\n  },\n  \"workflow\": {\n    type: String,\n    optional: true\n  },\n  \"layout\": {\n    type: String,\n    optional: true\n  },\n  \"triggersEnter\": {\n    type: Array,\n    label: \"Trigger on Entry\",\n    optional: true\n  },\n  \"triggersEnter.$\": {\n    type: String\n  },\n  \"triggersExit\": {\n    type: Array,\n    label: \"Trigger on Exit\",\n    optional: true\n  },\n  \"triggersExit.$\": {\n    type: String\n  },\n  \"options\": {\n    label: \"Routing Options\",\n    type: Object,\n    optional: true,\n    defaultValue: {}\n  },\n  \"description\": {\n    type: String,\n    optional: true\n  },\n  \"icon\": {\n    type: String,\n    optional: true\n  },\n  \"label\": {\n    type: String,\n    optional: true\n  },\n  \"container\": {\n    type: String,\n    optional: true\n  },\n  \"priority\": {\n    type: SimpleSchema.Integer,\n    optional: true\n  },\n  \"enabled\": {\n    type: Boolean,\n    optional: true\n  },\n  \"permissions\": {\n    type: Array,\n    optional: true\n  },\n  \"permissions.$\": {\n    type: Permissions\n  },\n  \"audience\": {\n    type: Array,\n    label: \"Audience\",\n    optional: true\n  },\n  \"audience.$\": {\n    type: String\n  },\n  \"meta\": {\n    label: \"Meta\",\n    type: Object,\n    optional: true,\n    blackbox: true\n  },\n  \"showForShopTypes\": {\n    label: \"Shop Types this plugin should show for\",\n    type: Array,\n    optional: true\n  },\n  \"showForShopTypes.$\": {\n    type: String\n  },\n  \"hideForShopTypes\": {\n    type: Array,\n    label: \"Shop Types this plugin should not show for\",\n    optional: true\n  },\n  \"hideForShopTypes.$\": {\n    type: String\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"Registry\", Registry);\n/**\n * @name PackageConfig\n * @memberof schemas\n * @type {SimpleSchema}\n * @summary The PackageConfig is part of the configuration settings required for packages in the Registry.\n * The Registry Schema allows package settings to be defined. For more, read the in-depth {@link https://blog.reactioncommerce.com/an-intro-to-architecture-the-registry/ Intro to Architecture: The Registry}.\n * @property {String} shopId Autovalue removed {@link https://github.com/reactioncommerce/reaction/issues/646#issuecomment-169351842 here}\n * @property {String} name required\n * @property {Boolean} enabled defalut value: true\n * @property {String} icon optional\n * @property {Object} settings optional\n * @property {Registry[]} registry optional\n * @property {Layout[]} layout optional\n */\n\nvar PackageConfig = new SimpleSchema({\n  \"shopId\": {\n    type: String,\n    index: 1,\n    // see: https://github.com/reactioncommerce/reaction/issues/646#issuecomment-169351842\n    // autoValue: shopIdAutoValue,\n    label: \"PackageConfig ShopId\",\n    optional: true\n  },\n  \"name\": {\n    type: String,\n    index: 1\n  },\n  \"enabled\": {\n    type: Boolean,\n    defaultValue: true\n  },\n  \"icon\": {\n    type: String,\n    optional: true\n  },\n  \"settings\": {\n    type: Object,\n    optional: true,\n    blackbox: true,\n    defaultValue: {}\n  },\n  \"registry\": {\n    type: Array,\n    optional: true\n  },\n  \"registry.$\": {\n    type: Registry\n  },\n  \"layout\": {\n    type: Array,\n    optional: true\n  },\n  \"layout.$\": {\n    type: Layout\n  }\n}, {\n  check: check,\n  tracker: Tracker\n});\nregisterSchema(\"PackageConfig\", PackageConfig);\n/**\n * @name CorePackageConfig\n * @memberof schemas\n * @type {SimpleSchema}\n * @summary The Core Package Config is part of the Registry.\n * The Registry Schema allows package settings to be defined. For more, read the in-depth {@link https://blog.reactioncommerce.com/an-intro-to-architecture-the-registry/ Intro to Architecture: The Registry}.\n * @extends {PackageConfig}\n * @property {Object} settings.mail optional, Mail settings\n * @property {String} settings.mail.user Mail user\n * @property {String} settings.mail.password Mail password\n * @property {String} settings.mail.host Mail host\n * @property {String} settings.mail.port Mail port\n * @property {String} settings.openexchangerates.appId OpenExchangeRates Id\n * @property {String} settings.openexchangerates.refreshPeriod default value: `\"every 1 hour\"`\n * @property {String} settings.google.clientId default value: `null`\n * @property {String} settings.google.apiKey default value: `null`\n * @property {Object} settings.public optional Settings in `public` are published to the client.\n * @property {Boolean} settings.public.allowGuestCheckout allows guest checkout\n * @property {String} settings.cart.cleanupDurationDays default value: `\"older than 3 days\"`\n */\n\nvar CorePackageConfig = PackageConfig.clone().extend({\n  // Remove blackbox: true from settings obj\n  \"settings\": {\n    type: Object,\n    optional: true,\n    blackbox: false,\n    defaultValue: {}\n  },\n  \"settings.mail\": {\n    type: Object,\n    optional: true,\n    label: \"Mail Settings\"\n  },\n  \"settings.mail.user\": {\n    type: String,\n    label: \"Username\"\n  },\n  \"settings.mail.password\": {\n    type: String,\n    label: \"Password\"\n  },\n  \"settings.mail.host\": {\n    type: String,\n    label: \"Host\"\n  },\n  \"settings.mail.port\": {\n    type: String,\n    label: \"Port\"\n  },\n  \"settings.openexchangerates\": {\n    type: Object,\n    optional: true\n  },\n  \"settings.openexchangerates.appId\": {\n    type: String,\n    label: \"Open Exchange Rates App Id\"\n  },\n  \"settings.openexchangerates.refreshPeriod\": {\n    type: String,\n    label: \"Open Exchange Rates refresh period\",\n    defaultValue: \"every 1 hour\"\n  },\n  \"settings.google\": {\n    type: Object,\n    optional: true\n  },\n  \"settings.google.clientId\": {\n    type: String,\n    label: \"Google Client Id\"\n  },\n  \"settings.google.apiKey\": {\n    type: String,\n    label: \"Google Api Key\"\n  },\n  \"settings.public\": {\n    type: Object,\n    optional: true,\n    defaultValue: {}\n  },\n  \"settings.public.allowGuestCheckout\": {\n    type: Boolean,\n    label: \"Allow Guest Checkout\",\n    defaultValue: true\n  },\n  \"settings.cart\": {\n    type: Object,\n    defaultValue: {}\n  },\n  \"settings.cart.cleanupDurationDays\": {\n    type: String,\n    label: \"Cleanup Schedule\",\n    defaultValue: \"older than 3 days\"\n  }\n});\nregisterSchema(\"CorePackageConfig\", CorePackageConfig);","map":{"version":3,"sources":["lib/collections/schemas/registry.js"],"names":["module","export","Permissions","Registry","PackageConfig","CorePackageConfig","SimpleSchema","watch","require","v","check","Tracker","registerSchema","Layout","permission","type","String","label","tracker","Array","index","optional","Object","defaultValue","Integer","Boolean","blackbox","clone","extend"],"mappings":"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","sourcesContent":["import SimpleSchema from \"simpl-schema\";\nimport { check } from \"meteor/check\";\nimport { Tracker } from \"meteor/tracker\";\nimport { registerSchema } from \"@reactioncommerce/schemas\";\nimport { Layout } from \"./layouts\";\n\n/**\n * @name Permissions\n * @memberof schemas\n * @summary The Permissions schema is part of the Registry. The Registry Schema allows package settings to be defined.\n * For more, read the in-depth {@link https://blog.reactioncommerce.com/an-intro-to-architecture-the-registry/ Intro to Architecture: The Registry}.\n * @type {SimpleSchema}\n * @property {String} permission\n * @property {String} label\n */\nexport const Permissions = new SimpleSchema({\n  permission: {\n    type: String\n  },\n  label: {\n    type: String\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"Permissions\", Permissions);\n\n/**\n * @name Registry\n * @memberof schemas\n * @type {SimpleSchema}\n * @summary The Registry Schema allows package settings to be defined. For more, read the in-depth {@link https://blog.reactioncommerce.com/an-intro-to-architecture-the-registry/ Intro to Architecture: The Registry}.\n * @property {String[]} provides Legacy `provides` apps use a String rather than an array. These are transformed in loadPackages.\n * @property {String} route optional\n * @property {String} name optional, Registry name must be unique. Namespace your plugin (e.g. `yourorg-plugin-name`) to avoid conflicts.\n * @property {String} template optional, Assign to a Blaze template\n * @property {String} workflow optional, A layout for a template in the package\n * @property {String} layout optional, Force the app to render a specific layout\n * @property {String[]} triggersEnter optional, Trigger on Enter\n * @property {String[]} triggersExit optional, Trigger on Exit\n * @property {Object} options optional, Routing Options\n * @property {String} description optional, deprecated\n * @property {String} icon optional, A set of CSS classes, often Font Awesome classes, used to define the package in the sidebar.\n * @property {String} label optional, Human-readable name for a Registry entry\n * @property {String} container optional, Used to group plugins\n * @property {Number} priority optional, Plugin load order. Lower values loaded first.\n * @property {Boolean} enabled optional, Enable or not\n * @property {Permissions[]} permissions optional, Define a new user permission\n * @property {String[]} audience optional, Define what permissions are required to view a step in a workflow\n * @property {Object} meta optional, Set `dashboardSize` for the `actionView`\n * @property {String[]} showForShopTypes optional, Shop Types this plugin should show for\n * @property {String[]} hideForShopTypes optional, Shop Types this plugin should not show for\n */\nexport const Registry = new SimpleSchema({\n  // TODO: This should _not_ be optional in the future, but we need to organize our packages better\n  \"provides\": {\n    // Legacy `provides` apps use a String rather than an array. These are transformed in loadPackages\n    type: Array,\n    index: true,\n    optional: true\n  },\n  \"provides.$\": {\n    type: String\n  },\n  \"route\": {\n    type: String,\n    optional: true,\n    index: true\n  },\n  // TODO: This should _not_ be optional in the future, but we need to organize our packages better\n  \"name\": {\n    type: String,\n    label: \"Registry Name\",\n    index: true,\n    optional: true\n  },\n  \"template\": {\n    type: String,\n    optional: true\n  },\n  \"workflow\": {\n    type: String,\n    optional: true\n  },\n  \"layout\": {\n    type: String,\n    optional: true\n  },\n  \"triggersEnter\": {\n    type: Array,\n    label: \"Trigger on Entry\",\n    optional: true\n  },\n  \"triggersEnter.$\": {\n    type: String\n  },\n  \"triggersExit\": {\n    type: Array,\n    label: \"Trigger on Exit\",\n    optional: true\n  },\n  \"triggersExit.$\": {\n    type: String\n  },\n  \"options\": {\n    label: \"Routing Options\",\n    type: Object,\n    optional: true,\n    defaultValue: {}\n  },\n  \"description\": {\n    type: String,\n    optional: true\n  },\n  \"icon\": {\n    type: String,\n    optional: true\n  },\n  \"label\": {\n    type: String,\n    optional: true\n  },\n  \"container\": {\n    type: String,\n    optional: true\n  },\n  \"priority\": {\n    type: SimpleSchema.Integer,\n    optional: true\n  },\n  \"enabled\": {\n    type: Boolean,\n    optional: true\n  },\n  \"permissions\": {\n    type: Array,\n    optional: true\n  },\n  \"permissions.$\": {\n    type: Permissions\n  },\n  \"audience\": {\n    type: Array,\n    label: \"Audience\",\n    optional: true\n  },\n  \"audience.$\": {\n    type: String\n  },\n  \"meta\": {\n    label: \"Meta\",\n    type: Object,\n    optional: true,\n    blackbox: true\n  },\n  \"showForShopTypes\": {\n    label: \"Shop Types this plugin should show for\",\n    type: Array,\n    optional: true\n  },\n  \"showForShopTypes.$\": {\n    type: String\n  },\n  \"hideForShopTypes\": {\n    type: Array,\n    label: \"Shop Types this plugin should not show for\",\n    optional: true\n  },\n  \"hideForShopTypes.$\": {\n    type: String\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"Registry\", Registry);\n\n/**\n * @name PackageConfig\n * @memberof schemas\n * @type {SimpleSchema}\n * @summary The PackageConfig is part of the configuration settings required for packages in the Registry.\n * The Registry Schema allows package settings to be defined. For more, read the in-depth {@link https://blog.reactioncommerce.com/an-intro-to-architecture-the-registry/ Intro to Architecture: The Registry}.\n * @property {String} shopId Autovalue removed {@link https://github.com/reactioncommerce/reaction/issues/646#issuecomment-169351842 here}\n * @property {String} name required\n * @property {Boolean} enabled defalut value: true\n * @property {String} icon optional\n * @property {Object} settings optional\n * @property {Registry[]} registry optional\n * @property {Layout[]} layout optional\n */\nexport const PackageConfig = new SimpleSchema({\n  \"shopId\": {\n    type: String,\n    index: 1,\n    // see: https://github.com/reactioncommerce/reaction/issues/646#issuecomment-169351842\n    // autoValue: shopIdAutoValue,\n    label: \"PackageConfig ShopId\",\n    optional: true\n  },\n  \"name\": {\n    type: String,\n    index: 1\n  },\n  \"enabled\": {\n    type: Boolean,\n    defaultValue: true\n  },\n  \"icon\": {\n    type: String,\n    optional: true\n  },\n  \"settings\": {\n    type: Object,\n    optional: true,\n    blackbox: true,\n    defaultValue: {}\n  },\n  \"registry\": {\n    type: Array,\n    optional: true\n  },\n  \"registry.$\": {\n    type: Registry\n  },\n  \"layout\": {\n    type: Array,\n    optional: true\n  },\n  \"layout.$\": {\n    type: Layout\n  }\n}, { check, tracker: Tracker });\n\nregisterSchema(\"PackageConfig\", PackageConfig);\n\n/**\n * @name CorePackageConfig\n * @memberof schemas\n * @type {SimpleSchema}\n * @summary The Core Package Config is part of the Registry.\n * The Registry Schema allows package settings to be defined. For more, read the in-depth {@link https://blog.reactioncommerce.com/an-intro-to-architecture-the-registry/ Intro to Architecture: The Registry}.\n * @extends {PackageConfig}\n * @property {Object} settings.mail optional, Mail settings\n * @property {String} settings.mail.user Mail user\n * @property {String} settings.mail.password Mail password\n * @property {String} settings.mail.host Mail host\n * @property {String} settings.mail.port Mail port\n * @property {String} settings.openexchangerates.appId OpenExchangeRates Id\n * @property {String} settings.openexchangerates.refreshPeriod default value: `\"every 1 hour\"`\n * @property {String} settings.google.clientId default value: `null`\n * @property {String} settings.google.apiKey default value: `null`\n * @property {Object} settings.public optional Settings in `public` are published to the client.\n * @property {Boolean} settings.public.allowGuestCheckout allows guest checkout\n * @property {String} settings.cart.cleanupDurationDays default value: `\"older than 3 days\"`\n */\nexport const CorePackageConfig = PackageConfig.clone().extend({\n  // Remove blackbox: true from settings obj\n  \"settings\": {\n    type: Object,\n    optional: true,\n    blackbox: false,\n    defaultValue: {}\n  },\n  \"settings.mail\": {\n    type: Object,\n    optional: true,\n    label: \"Mail Settings\"\n  },\n  \"settings.mail.user\": {\n    type: String,\n    label: \"Username\"\n  },\n  \"settings.mail.password\": {\n    type: String,\n    label: \"Password\"\n  },\n  \"settings.mail.host\": {\n    type: String,\n    label: \"Host\"\n  },\n  \"settings.mail.port\": {\n    type: String,\n    label: \"Port\"\n  },\n  \"settings.openexchangerates\": {\n    type: Object,\n    optional: true\n  },\n  \"settings.openexchangerates.appId\": {\n    type: String,\n    label: \"Open Exchange Rates App Id\"\n  },\n  \"settings.openexchangerates.refreshPeriod\": {\n    type: String,\n    label: \"Open Exchange Rates refresh period\",\n    defaultValue: \"every 1 hour\"\n  },\n  \"settings.google\": {\n    type: Object,\n    optional: true\n  },\n  \"settings.google.clientId\": {\n    type: String,\n    label: \"Google Client Id\"\n  },\n  \"settings.google.apiKey\": {\n    type: String,\n    label: \"Google Api Key\"\n  },\n  \"settings.public\": {\n    type: Object,\n    optional: true,\n    defaultValue: {}\n  },\n  \"settings.public.allowGuestCheckout\": {\n    type: Boolean,\n    label: \"Allow Guest Checkout\",\n    defaultValue: true\n  },\n  \"settings.cart\": {\n    type: Object,\n    defaultValue: {}\n  },\n  \"settings.cart.cleanupDurationDays\": {\n    type: String,\n    label: \"Cleanup Schedule\",\n    defaultValue: \"older than 3 days\"\n  }\n});\n\nregisterSchema(\"CorePackageConfig\", CorePackageConfig);\n"]},"sourceType":"script","hash":"f4b3186d4af23e617158fe91148ac68e867ab4e2"}
