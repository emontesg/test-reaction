{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$1$2","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"sourceFileName":"imports/plugins/included/product-variant/components/customer/productGridItem.js","filename":"imports/plugins/included/product-variant/components/customer/productGridItem.js","sourceMaps":true,"envName":"development","cwd":"/Users/estebandev/test-knowledge","passPerPreset":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/plugins/included/product-variant/components/customer/productGridItem.js","plugins":["dynamicImport","classProperties","jsx","jsx","flow","asyncGenerators","objectRestSpread","objectRestSpread","flow","asyncGenerators"]},"generatorOpts":{"filename":"imports/plugins/included/product-variant/components/customer/productGridItem.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/plugins/included/product-variant/components/customer/productGridItem.js"}},"code":"var _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar React, Component;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar classnames;\nmodule.watch(require(\"classnames\"), {\n  \"default\": function (v) {\n    classnames = v;\n  }\n}, 2);\nvar formatPriceString, Router;\nmodule.watch(require(\"../../../../../../client/api\"), {\n  formatPriceString: function (v) {\n    formatPriceString = v;\n  },\n  Router: function (v) {\n    Router = v;\n  }\n}, 3);\nvar registerComponent, Components;\nmodule.watch(require(\"../../../../core/components/lib\"), {\n  registerComponent: function (v) {\n    registerComponent = v;\n  },\n  Components: function (v) {\n    Components = v;\n  }\n}, 4);\n\nvar ProductGridItem =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(ProductGridItem, _Component);\n\n  function ProductGridItem() {\n    var _temp, _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_temp = _this = _Component.call.apply(_Component, [this].concat(args)) || this, _this.handleClick = function (event) {\n      event.preventDefault();\n      Router.go(_this.productURL);\n    }, _temp) || (0, _assertThisInitialized2.default)(_this);\n  }\n\n  var _proto = ProductGridItem.prototype;\n\n  // notice\n  _proto.renderNotices = function () {\n    function renderNotices() {\n      var _props$product = this.props.product,\n          isSoldOut = _props$product.isSoldOut,\n          isLowQuantity = _props$product.isLowQuantity,\n          isBackorder = _props$product.isBackorder;\n      var noticeContent = {\n        classNames: this.noticeClassNames\n      };\n\n      if (isSoldOut) {\n        if (isBackorder) {\n          noticeContent.defaultValue = \"Backorder\";\n          noticeContent.i18nKey = \"productDetail.backOrder\";\n        } else {\n          noticeContent.defaultValue = \"Sold Out!\";\n          noticeContent.i18nKey = \"productDetail.soldOut\";\n        }\n      } else if (isLowQuantity) {\n        noticeContent.defaultValue = \"Limited Supply\";\n        noticeContent.i18nKey = \"productDetail.limitedSupply\";\n      }\n\n      return React.createElement(\"div\", {\n        className: \"grid-alerts\"\n      }, React.createElement(\"div\", {\n        className: \"product-grid-badges\"\n      }, React.createElement(\"span\", {\n        className: noticeContent.classNames\n      }, React.createElement(Components.Translation, {\n        defaultValue: noticeContent.defaultValue,\n        i18nKey: noticeContent.i18nKey\n      }))));\n    }\n\n    return renderNotices;\n  }(); // render product image\n\n\n  _proto.renderMedia = function () {\n    function renderMedia() {\n      var product = this.props.product;\n      var MEDIA_PLACEHOLDER = \"/resources/placeholder.gif\";\n\n      var _ref = Array.isArray(product.media) && product.media[0] || {\n        large: MEDIA_PLACEHOLDER\n      },\n          large = _ref.large;\n\n      return React.createElement(\"span\", {\n        className: \"product-image\",\n        style: {\n          backgroundImage: \"url(\\\"\" + large + \"\\\")\"\n        }\n      });\n    }\n\n    return renderMedia;\n  }();\n\n  _proto.renderAdditionalMedia = function () {\n    function renderAdditionalMedia() {\n      var _props = this.props,\n          media = _props.product.media,\n          weight = _props.position.weight; // if product is not medium weight\n      // or the media array is empty exit\n\n      if (weight !== 1 || !media || media.length === 0) return; // creating an additional madia array with\n      // the 2nd, 3rd and 4th images returned\n      // in the media array\n\n      var additionalMedia = _toConsumableArray(media.slice(1, 4));\n\n      return React.createElement(\"div\", {\n        className: \"product-additional-images\"\n      }, additionalMedia.map(function (img) {\n        return React.createElement(\"span\", {\n          key: img.small,\n          className: \"product-image\",\n          style: {\n            backgroundImage: \"url(\\\"\" + img.medium + \"\\\")\"\n          }\n        });\n      }));\n    }\n\n    return renderAdditionalMedia;\n  }();\n\n  _proto.renderGridContent = function () {\n    function renderGridContent() {\n      var product = this.props.product;\n      return React.createElement(\"div\", {\n        className: \"grid-content\"\n      }, React.createElement(\"a\", {\n        href: this.productURL,\n        \"data-event-category\": \"grid\",\n        \"data-event-action\": \"product-click\",\n        \"data-event-label\": \"grid product click\",\n        \"data-event-value\": product._id,\n        onClick: this.handleClick\n      }, React.createElement(\"div\", {\n        className: \"overlay\"\n      }, React.createElement(\"div\", {\n        className: \"overlay-title\"\n      }, product.title), React.createElement(\"div\", {\n        className: \"currency-symbol\"\n      }, formatPriceString(product.price && product.price.range || \"\")), this.props.isSearch && React.createElement(\"div\", {\n        className: \"overlay-description\"\n      }, product.description))));\n    }\n\n    return renderGridContent;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _props2 = this.props,\n          product = _props2.product,\n          isSearch = _props2.isSearch;\n      return React.createElement(\"li\", {\n        className: this.productClassNames,\n        \"data-id\": product._id,\n        id: product._id\n      }, React.createElement(\"div\", {\n        className: isSearch ? \"item-content\" : \"\"\n      }, React.createElement(\"span\", {\n        className: \"product-grid-item-alerts\"\n      }), React.createElement(\"a\", {\n        className: \"product-grid-item-images\",\n        href: this.productURL,\n        \"data-event-category\": \"grid\",\n        \"data-event-label\": \"grid product click\",\n        \"data-event-value\": product._id,\n        onClick: this.handleClick\n      }, React.createElement(\"div\", {\n        className: \"product-primary-images\"\n      }, this.renderMedia()), this.renderAdditionalMedia()), !isSearch && this.renderNotices(), this.renderGridContent()));\n    }\n\n    return render;\n  }();\n\n  (0, _createClass2.default)(ProductGridItem, [{\n    key: \"productURL\",\n    get: function () {\n      var handle = this.props.product.handle;\n      return Router.pathFor(\"product\", {\n        hash: {\n          handle: handle\n        }\n      });\n    } // get weight class name\n\n  }, {\n    key: \"weightClass\",\n    get: function () {\n      var _ref2 = this.props.position || {\n        weight: 0\n      },\n          weight = _ref2.weight;\n\n      switch (weight) {\n        case 1:\n          return \"product-medium\";\n\n        case 2:\n          return \"product-large\";\n\n        default:\n          return \"product-small\";\n      }\n    } // get notice class names\n\n  }, {\n    key: \"noticeClassNames\",\n    get: function () {\n      var _props$product2 = this.props.product,\n          isSoldOut = _props$product2.isSoldOut,\n          isLowQuantity = _props$product2.isLowQuantity,\n          isBackorder = _props$product2.isBackorder;\n      return classnames({\n        \"badge\": isSoldOut || isLowQuantity,\n        \"variant-qty-sold-out\": isSoldOut || isSoldOut && isBackorder,\n        \"badge-danger\": isSoldOut && !isBackorder,\n        \"badge-low-inv-warning\": isLowQuantity && !isSoldOut\n      });\n    } // get product item class names\n\n  }, {\n    key: \"productClassNames\",\n    get: function () {\n      var _classnames;\n\n      var position = this.props.position;\n      return classnames((_classnames = {\n        \"product-grid-item\": true\n      }, _classnames[this.weightClass] = true, _classnames[\"pinned\"] = position.pinned, _classnames));\n    } // handle click event\n\n  }]);\n  return ProductGridItem;\n}(Component);\n\nProductGridItem.propTypes = {\n  isSearch: PropTypes.bool,\n  position: PropTypes.object,\n  product: PropTypes.object // get product detail page URL\n\n};\nregisterComponent(\"ProductGridItemCustomer\", ProductGridItem);\nmodule.exportDefault(ProductGridItem);","map":{"version":3,"sources":["imports/plugins/included/product-variant/components/customer/productGridItem.js"],"names":["React","Component","module","watch","require","v","PropTypes","classnames","formatPriceString","Router","registerComponent","Components","ProductGridItem","handleClick","event","preventDefault","go","productURL","renderNotices","props","product","isSoldOut","isLowQuantity","isBackorder","noticeContent","classNames","noticeClassNames","defaultValue","i18nKey","renderMedia","MEDIA_PLACEHOLDER","Array","isArray","media","large","backgroundImage","renderAdditionalMedia","weight","position","length","additionalMedia","slice","map","img","small","medium","renderGridContent","_id","title","price","range","isSearch","description","render","productClassNames","handle","pathFor","hash","weightClass","pinned","propTypes","bool","object","exportDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport { formatPriceString, Router } from \"/client/api\";\nimport { registerComponent, Components } from \"@reactioncommerce/reaction-components\";\n\nclass ProductGridItem extends Component {\n  static propTypes = {\n    isSearch: PropTypes.bool,\n    position: PropTypes.object,\n    product: PropTypes.object\n  }\n\n  // get product detail page URL\n  get productURL() {\n    const { product: { handle } } = this.props;\n    return Router.pathFor(\"product\", {\n      hash: {\n        handle\n      }\n    });\n  }\n\n  // get weight class name\n  get weightClass() {\n    const { weight } = this.props.position || { weight: 0 };\n    switch (weight) {\n      case 1:\n        return \"product-medium\";\n      case 2:\n        return \"product-large\";\n      default:\n        return \"product-small\";\n    }\n  }\n\n  // get notice class names\n  get noticeClassNames() {\n    const { product: { isSoldOut, isLowQuantity, isBackorder } } = this.props;\n    return classnames({\n      \"badge\": (isSoldOut || isLowQuantity),\n      \"variant-qty-sold-out\": (isSoldOut || (isSoldOut && isBackorder)),\n      \"badge-danger\": (isSoldOut && !isBackorder),\n      \"badge-low-inv-warning\": (isLowQuantity && !isSoldOut)\n    });\n  }\n\n  // get product item class names\n  get productClassNames() {\n    const { position } = this.props;\n    return classnames({\n      \"product-grid-item\": true,\n      [this.weightClass]: true,\n      \"pinned\": position.pinned\n    });\n  }\n\n  // handle click event\n  handleClick = (event) => {\n    event.preventDefault();\n    Router.go(this.productURL);\n  }\n\n  // notice\n  renderNotices() {\n    const { product: { isSoldOut, isLowQuantity, isBackorder } } = this.props;\n    const noticeContent = { classNames: this.noticeClassNames };\n\n    if (isSoldOut) {\n      if (isBackorder) {\n        noticeContent.defaultValue = \"Backorder\";\n        noticeContent.i18nKey = \"productDetail.backOrder\";\n      } else {\n        noticeContent.defaultValue = \"Sold Out!\";\n        noticeContent.i18nKey = \"productDetail.soldOut\";\n      }\n    } else if (isLowQuantity) {\n      noticeContent.defaultValue = \"Limited Supply\";\n      noticeContent.i18nKey = \"productDetail.limitedSupply\";\n    }\n\n    return (\n      <div className=\"grid-alerts\">\n        <div className=\"product-grid-badges\">\n          <span className={noticeContent.classNames}>\n            <Components.Translation defaultValue={noticeContent.defaultValue} i18nKey={noticeContent.i18nKey} />\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  // render product image\n  renderMedia() {\n    const { product } = this.props;\n    const MEDIA_PLACEHOLDER = \"/resources/placeholder.gif\";\n    const { large } = (Array.isArray(product.media) && product.media[0]) || { large: MEDIA_PLACEHOLDER };\n\n    return (\n      <span\n        className=\"product-image\"\n        style={{ backgroundImage: `url(\"${large}\")` }}\n      />\n    );\n  }\n\n\n  renderAdditionalMedia() {\n    const { product: { media }, position: { weight } } = this.props;\n\n    // if product is not medium weight\n    // or the media array is empty exit\n    if (weight !== 1 || (!media || media.length === 0)) return;\n\n    // creating an additional madia array with\n    // the 2nd, 3rd and 4th images returned\n    // in the media array\n    const additionalMedia = [...media.slice(1, 4)];\n\n    return (\n      <div className=\"product-additional-images\">\n        {additionalMedia.map((img) => (\n          <span\n            key={img.small}\n            className=\"product-image\"\n            style={{ backgroundImage: `url(\"${img.medium}\")` }}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  renderGridContent() {\n    const { product } = this.props;\n\n    return (\n      <div className=\"grid-content\">\n        <a\n          href={this.productURL}\n          data-event-category=\"grid\"\n          data-event-action=\"product-click\"\n          data-event-label=\"grid product click\"\n          data-event-value={product._id}\n          onClick={this.handleClick}\n        >\n          <div className=\"overlay\">\n            <div className=\"overlay-title\">{product.title}</div>\n            <div className=\"currency-symbol\">{formatPriceString((product.price && product.price.range) || \"\")}</div>\n            {this.props.isSearch &&\n                <div className=\"overlay-description\">{product.description}</div>\n            }\n          </div>\n        </a>\n      </div>\n    );\n  }\n\n  render() {\n    const { product, isSearch } = this.props;\n    return (\n      <li\n        className={this.productClassNames}\n        data-id={product._id}\n        id={product._id}\n      >\n        <div className={(isSearch) ? \"item-content\" : \"\"}>\n          <span className=\"product-grid-item-alerts\" />\n\n          <a className=\"product-grid-item-images\"\n            href={this.productURL}\n            data-event-category=\"grid\"\n            data-event-label=\"grid product click\"\n            data-event-value={product._id}\n            onClick={this.handleClick}\n          >\n            <div className=\"product-primary-images\">\n              {this.renderMedia()}\n            </div>\n\n            {this.renderAdditionalMedia()}\n          </a>\n\n          {!isSearch && this.renderNotices()}\n          {this.renderGridContent()}\n        </div>\n      </li>\n    );\n  }\n}\n\n\nregisterComponent(\"ProductGridItemCustomer\", ProductGridItem);\n\nexport default ProductGridItem;\n"]},"sourceType":"script","hash":"db8fbc9e4469728b8acbbed080de1751f9e38a01"}
